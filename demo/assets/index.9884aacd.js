var Xt=Object.defineProperty,Zt=Object.defineProperties;var en=Object.getOwnPropertyDescriptors;var bt=Object.getOwnPropertySymbols;var tn=Object.prototype.hasOwnProperty,nn=Object.prototype.propertyIsEnumerable;var nt=(e,t,n)=>t in e?Xt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x=(e,t)=>{for(var n in t||(t={}))tn.call(t,n)&&nt(e,n,t[n]);if(bt)for(var n of bt(t))nn.call(t,n)&&nt(e,n,t[n]);return e},N=(e,t)=>Zt(e,en(t));var _=(e,t,n)=>(nt(e,typeof t!="symbol"?t+"":t,n),n);import{d as S,r as Ue,c as w,a as c,b as O,w as ne,t as W,F as J,e as q,f as ke,o as A,g as fe,h as H,i as ge,j as z,k as on,I as sn,l as ot,m as wt,n as h,p as oe,q as $e,s as Be,u as C,v as j,x as st,y as at,z as pe,A as an,B as rn,C as rt,D as kt,E as i,G as ie,H as K,J as de,K as ln,T as dn,L as Ge,M as un,N as cn,O as hn}from"./vendor.5b1f9504.js";const fn=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}};fn();var gn="data:image/png;base64,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";var G=(e,t)=>{for(const[n,s]of t)e[n]=s;return e};let V=1;const pn=S({name:"App",data(){return{isDark:!1,changeColor:0,dataList:[],showCheckbox:!0,showWeekend:!0,showToday:!0,showExpand:!0,levelColor:[],headerStyle:{bgColor:"",textColor:""},bodyStyle:{textColor:"",todayColor:"",weekendColor:""},colSize:"normal",showSettingBtn:!0}},created(){let e=2,t=15;for(let n=0;n<1e3;n++){if(e>t){let s=e;e=t,t=s}this.dataList.push({index:n,startDate:`2021-08-${e++}`,endDate:`2021-10-${t++}`,ttt:{a:"aaa",b:"bbb"},name:"\u6211\u7684\u6570\u636E: "+e,children:[]}),e>30&&(e=2),t>30&&(t=5)}for(let n=0;n<50;n++){if(e>t){let s=e;e=t,t=s}[0,1,3,4,5,7,9].forEach(s=>{this.dataList[s].children.push({index:n,startDate:`2021-08-${e++}`,endDate:`2021-10-${t++}`,name:"\u5B50\u6570\u636E: "+e,ttt:{a:"s-aaa",b:"s-bbb"},children:[]})}),e>30&&(e=2),t>30&&(t=5)}for(let n=0;n<50;n++){if(e>t){let s=e;e=t,t=s}[0,2].forEach(s=>{this.dataList[0].children[s].children.push({index:n,startDate:`2021-08-${e++}`,endDate:`2021-10-${t++}`,name:"\u5B59\u6570\u636E: "+e,ttt:{a:"gs-aaa",b:"gs-bbb"},children:[]})}),e>30&&(e=2),t>30&&(t=5)}},methods:{rowClick:function(e){console.log("click row data:",e)},rowDblClick:function(e){console.log("double click row data:",e)},rowChecked:function(e,t){console.log("check row:",e,t)},moveSlider:function(e,t){console.log("move slider:",e,t)},noDateError:function(e){console.log(`${e}\u4E0D\u5728\u8303\u56F4\u5185`)},merge3:function(e){return e.index%3!=0},merge4:function(e){return e.index%4!=0},merge5:function(e){return e.index%5!=0},handleMove:function({level:e}){return e!==1},handleClickReloadData:function(){let e=2,t=15;for(let n=0;n<5e4;n++){if(e>t){let s=e;e=t,t=s}this.dataList.push({index:n,startDate:`2020-06-${e++}`,endDate:`2020-08-${t++}`,ttt:{a:"aaa",b:"bbb"},name:"\u6211\u7684\u6570\u636E: "+e,children:[]}),e>30&&(e=2),t>30&&(t=5)}for(let n=0;n<5;n++){if(e>t){let s=e;e=t,t=s}[0,1,3,4,5,7,9].forEach(s=>{this.dataList[s].children.push({index:n,startDate:`2021-06-${e++}`,endDate:`2021-07-${t++}`,name:"\u5B50\u6570\u636E: "+e,ttt:{a:"s-aaa",b:"s-bbb"},children:[]})}),e>30&&(e=2),t>30&&(t=5)}for(let n=0;n<5;n++){if(e>t){let s=e;e=t,t=s}[0,2].forEach(s=>{this.dataList[0].children[s].children.push({index:n,startDate:`2021-07-${e++}`,endDate:`2021-08-${t++}`,name:"\u5B59\u6570\u636E: "+e,ttt:{a:"gs-aaa",b:"gs-bbb"},children:[]})}),e>30&&(e=2),t>30&&(t=5)}},handleClickEmpty:function(){this.dataList=[]},handleClickModify:function(){Object.assign(this.dataList[0],{startDate:"2020-08-10",endDate:"2020-09-21"}),Object.assign(this.dataList[0].children[2].children[0],{startDate:"2020-08-13",endDate:"2020-09-17",name:"\u5B59\u6570\u636E: abcde"})},handleClickInsert:function(){this.dataList.unshift({index:V++,startDate:"2020-08-10",endDate:"2020-09-20",name:"\u6570\u636E: "+V,ttt:{a:"s-aaa"+V,b:"s-bbb"+V},children:[]})},handleClickInsert2:function(){this.dataList[0].children.unshift({index:V++,startDate:"2020-08-15",endDate:"2020-09-13",name:"\u5B50\u6570\u636E: "+V,ttt:{a:"s-aaa"+V,b:"s-bbb"+V},children:[{index:V++,startDate:"2020-08-21",endDate:"2020-09-5",name:"\u5B59\u6570\u636E: "+V,ttt:{a:"s-aaa"+V,b:"s-bbb"+V},children:[]}]}),this.dataList=[...this.dataList]},handleClickDelete:function(){console.log(this.dataList.shift())},handleClickColor(){this.changeColor++,this.changeColor%2!=0?(this.levelColor=["green","yellow","red"],this.headerStyle={bgColor:"black",textColor:"lightgrey"},this.bodyStyle={bgColor:"grey",textColor:"grey"}):(this.levelColor=["azure","cornsilk"],this.headerStyle={bgColor:"",textColor:""},this.bodyStyle={bgColor:"",textColor:""})},handleClickBg(){this.isDark=!this.isDark},setSelected(){this.$refs.gantt.setSelected(this.dataList[0])},jumpTo(){this.$refs.gantt.jumpToDate()},setHeaderUnit(e){this.$refs.gantt.setHeaderUnit(e)}}}),vn=c("div",{style:{margin:"0 auto",width:"500px"}},[c("img",{src:gn,alt:"",width:"500"})],-1),_n={style:{height:"400px","padding-bottom":"10px"}},yn=c("template",null,[c("div",null,"123")],-1),An=c("div",null,"a",-1),mn=c("div",null,"b",-1),bn={key:0,class:"slider-level-one"},wn={style:{"background-color":"#ccc",width:"100%"}},kn={name:"end",style:{backgroundColor:`#${555}`,color:"#789"}},Cn=c("div",null,[c("p",null,"\u6807\u9898"),c("input")],-1),Hn={style:{display:"inline-block"}},Sn=ke(" \u9009\u62E9\u5217\u5BBD "),Dn={style:{display:"inline-block"}},xn=ke(" \u9009\u62E9\u663E\u793A "),$n=c("div",{class:"tip-text"},"\u6309 F12 \u6253\u5F00\u63A7\u5236\u53F0\u4EE5\u67E5\u770B\u4E8B\u4EF6\u8F93\u51FA\u5185\u5BB9\u3002",-1),Rn=c("div",{class:"code-link"},[ke(" \u8BE5\u9875\u9762\u6E90\u4EE3\u7801\u5728 "),c("a",{href:"https://github.com/jeremyjone/jz-gantt/blob/master/src/App.vue"},"\u8FD9\u91CC")],-1);function En(e,t,n,s,o,a){const r=Ue("JGanttSlider"),l=Ue("JGanttColumn"),u=Ue("j-gantt-column"),p=Ue("JGantt");return A(),w(J,null,[vn,c("div",_n,[O(p,{ref:"gantt","header-height":"48","row-height":"30","data-index":"index","expand-all":"",dark:e.isDark,"gantt-column-size":e.colSize,"show-checkbox":e.showCheckbox,"show-weekend":e.showWeekend,"show-today":e.showToday,"show-expand":e.showExpand,data:e.dataList,"header-style":e.headerStyle,"body-style":e.bodyStyle,"level-color":e.levelColor,"show-setting-btn":e.showSettingBtn,onRowClick:e.rowClick,onRowDblClick:e.rowDblClick,onRowChecked:e.rowChecked,onMoveSlider:e.moveSlider,onNoDateError:e.noDateError},{settings:ne(()=>[Cn]),default:ne(()=>[yn,An,mn,O(r,{flat:"",label:"startDate","date-format":"MM-dd H:mm:s","empty-data":"",move:e.handleMove,"resize-left":!0,"resize-right":!0,"linked-resize":!0},{content:ne(({data:d,level:g})=>[g===1?(A(),w("div",bn)):q("",!0)]),_:1},8,["move"]),O(l,{label:"index",merge:e.merge3},{default:ne(({data:d})=>[c("div",wn,W(d.name),1)]),_:1},8,["merge"]),O(l,{label:"name",width:"150",merge:e.merge3},{default:ne(({data:d})=>[c("div",null,"2 - "+W(d),1)]),_:1},8,["merge"]),O(l,{label:"aaa","date-format":"",merge:e.merge5},{default:ne(()=>[(A(),w(J,null,fe(100,d=>c("div",{key:d},W(d),1)),64))]),_:1},8,["merge"]),O(l,{label:"startDate",width:"180",center:"","date-format":"",merge:e.merge4},null,8,["merge"]),O(u,{label:"endDate",name:"\u81EA\u5B9A\u4E49\u6807\u7B7E",width:"200","date-format":"q yyyy-MM-dd HH:mm:ss",merge:e.merge4},{default:ne(({data:d})=>[c("span",kn," abc - "+W(d.endDate),1)]),_:1},8,["merge"]),O(l,{label:"picture12345",merge:e.merge5},{default:ne(({data:d})=>[ke(" \u{1F440}\u{1F603}\u2728\u2714\u{1F431}\u200D\u{1F680}\u{1F431}\u200D\u{1F453} "+W(d.ttt.b),1)]),_:1},8,["merge"])]),_:1},8,["dark","gantt-column-size","show-checkbox","show-weekend","show-today","show-expand","data","header-style","body-style","level-color","show-setting-btn","onRowClick","onRowDblClick","onRowChecked","onMoveSlider","onNoDateError"])]),c("div",null,"total: "+W(e.dataList.length),1),c("button",{onClick:t[0]||(t[0]=(...d)=>e.handleClickBg&&e.handleClickBg(...d))}," \u5207\u6362\u5230"+W(e.isDark?"\u6D45\u8272":"\u6DF1\u8272")+"\u6A21\u5F0F ",1),c("button",{onClick:t[1]||(t[1]=(...d)=>e.handleClickReloadData&&e.handleClickReloadData(...d))},"\u91CD\u65B0\u8D4B\u503C"),c("button",{onClick:t[2]||(t[2]=(...d)=>e.handleClickEmpty&&e.handleClickEmpty(...d))},"\u6E05\u7A7A"),c("button",{onClick:t[3]||(t[3]=(...d)=>e.handleClickModify&&e.handleClickModify(...d))},"\u4FEE\u6539"),c("button",{onClick:t[4]||(t[4]=(...d)=>e.handleClickInsert&&e.handleClickInsert(...d))},"\u63D2\u5165"),c("button",{onClick:t[5]||(t[5]=(...d)=>e.handleClickInsert2&&e.handleClickInsert2(...d))},"\u63D2\u51652"),c("button",{onClick:t[6]||(t[6]=(...d)=>e.handleClickDelete&&e.handleClickDelete(...d))},"\u5220\u9664"),c("button",{onClick:t[7]||(t[7]=(...d)=>e.handleClickColor&&e.handleClickColor(...d))},"\u5207\u6362\u989C\u8272"),c("button",{onClick:t[8]||(t[8]=()=>e.showCheckbox=!e.showCheckbox)},"\u663E\u793Acheckbox"),c("button",{onClick:t[9]||(t[9]=()=>e.showWeekend=!e.showWeekend)},"\u663E\u793Aweekend"),c("button",{onClick:t[10]||(t[10]=()=>e.showToday=!e.showToday)},"\u663E\u793Atoday"),c("button",{onClick:t[11]||(t[11]=()=>e.showExpand=!e.showExpand)},"\u663E\u793Aexpand"),c("button",{onClick:t[12]||(t[12]=(...d)=>e.setSelected&&e.setSelected(...d))},"\u8BBE\u7F6E\u9009\u62E9"),c("button",{onClick:t[13]||(t[13]=(...d)=>e.jumpTo&&e.jumpTo(...d))},"\u8DF3\u8F6C\u5230"),c("button",{onClick:t[14]||(t[14]=()=>e.showSettingBtn=!e.showSettingBtn)}," \u663E\u793A\u8BBE\u7F6E\u6309\u94AE "),e.showSettingBtn?q("",!0):(A(),w(J,{key:0},[c("div",Hn,[Sn,c("button",{onClick:t[15]||(t[15]=()=>e.colSize="small")},"\u5C0F"),c("button",{onClick:t[16]||(t[16]=()=>e.colSize="normal")},"\u4E2D"),c("button",{onClick:t[17]||(t[17]=()=>e.colSize="large")},"\u5927")]),c("div",Dn,[xn,c("button",{onClick:t[18]||(t[18]=()=>e.setHeaderUnit("day1"))},"\u65E5"),c("button",{onClick:t[19]||(t[19]=()=>e.setHeaderUnit("week"))},"\u5468"),c("button",{onClick:t[20]||(t[20]=()=>e.setHeaderUnit("month"))},"\u6708")])],64)),$n,Rn],64)}var On=G(pn,[["render",En]]);const Ct=H();var zn=e=>(Ct.value=e,{});function Un(){return Ct}var Te=()=>{const e=Un();function t(r){e.value("row-click",r?x({},ge(r.data)):void 0)}function n(r){e.value("row-dbl-click",x({},ge(r==null?void 0:r.data)))}function s(r,l){e.value("row-checked",r,x({},ge(l==null?void 0:l.data)))}function o(r,l){e.value("move-slider",r.map(u=>ge(u)),l)}function a(r){e.value("no-date-error",r)}return{IFClickRow:t,IFDblClickRow:n,IFCheckedRow:s,IFMoveSlider:o,INoDateError:a}};const f={noData:"\u65E0\u6570\u636E \u{1F622}",name:{root:"JGantt",column:"JGanttColumn",slider:"JGanttSlider",table:"JTableContent",gantt:"JGanttContent",tableHeader:"JTableHeader",ganttHeader:"JGanttHeader",tableRow:"JTableContentRow",ganttRow:"JGanttContentRow",ganttBackgroundRow:"JGanttContentBackgroundRow"},key:{start:"startDate",end:"endDate",columnSize:"columnSize",showToday:"showToday",showWeekend:"showWeekend",header:"header",body:"body",todayColor:"todayColor",weekendColor:"weekendColor",bgColor:"bgColor",borderColor:"borderColor",textColor:"textColor",hoverColor:"hoverColor",selectColor:"selectColor"},slots:{settings:"settings"},size:{defaultHeaderHeight:100,defaultContentRowHeight:30,defaultTableColumnWidth:80,defaultScrollBarHeight:17,minContentRowHeight:20,maxContentRowHeight:70,minHeaderHeight:30,minTableColumnWidth:30},color:{selected:{default:"#999",dark:"#666"},hovered:{default:"#ccc",dark:"#333"},today:{default:"lightblue",dark:"steelblue"},weekend:{default:"lightgrey",dark:"grey"},primary:{default:"#ECA710",dark:"#ECA710"},text:{default:"#282828",dark:"#E5E5E5"},border:{default:"#E5E5E5",dark:"#212121"},background:{default:"white",dark:"#181818"}},time:{millisecondOfDay:864e5,millisecondOfWeek:6048e5}};z.extend(on);z.extend(sn);function U(e){return z(e).toDate()}function Bn(e,t,n){const s={},o=U(e).getTime(),a=U(t).getTime();for(let l=o;l<=a;){const u=z(l).year(),p=z(l).month()+1;switch(n){case"week":s[`${u}-${p}`]?s[`${u}-${p}`].push({text:`\u7B2C ${z(l).week()} \u5468`,len:7}):s[`${u}-${p}`]=[{text:`\u7B2C ${z(l).week()} \u5468`,len:l===o?7-z(l).day():7}],l+=l===o?(7-z(l).day())*f.time.millisecondOfDay:f.time.millisecondOfWeek;break;case"month":s[`${u}`]?s[`${u}`].push({text:`${p} \u6708`,len:z(l).daysInMonth()}):s[`${u}`]=[{text:`${p} \u6708`,len:l===o?z(l).daysInMonth()-z(l).date()+1:z(l).daysInMonth()}],l+=l===o?(z(l).daysInMonth()-z(l).date()+1)*f.time.millisecondOfDay:z(l).daysInMonth()*f.time.millisecondOfDay;break;case"day":default:s[`${u}-${p}`]?s[`${u}-${p}`].push({text:z(l).date().toString(),len:1}):s[`${u}-${p}`]=[{text:z(l).date().toString(),len:1}],l+=f.time.millisecondOfDay}}const r=[];for(const l in s)r.push({unit:l,one:s[l]});return r}function Ie(e,t){return U(t).getTime()-U(e).getTime()}function P(e,t){const n=U(e).getTime(),s=U(t).getTime();return n<s?"l":n>s?"r":"e"}function ve(e,t){const n=U(e).getTime()+t;return U(n).getTime()}function lt(e,t="yyyy-MM-dd",n="zh"){const s={zh:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],en:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]};["zh","en"].indexOf(n)===-1&&(n="zh"),e=U(e);const o={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours()%12==0?12:e.getHours()%12,"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};let a;for(a in o)if(new RegExp(`(${a})`).test(t)){const r=o[a].toString();t=t.replace(RegExp.$1,RegExp.$1.length===1?r:`00${r}`.substr(`${r}`.length))}return/(y+)/.test(t)&&(t=t.replace(RegExp.$1,`${e.getFullYear()}`.substr(4-RegExp.$1.length))),/(D+)/.test(t)&&(t=t.replace(RegExp.$1,s[n][e.getDay()])),t}function X(e){switch(e){case"week":case"month":case"day":default:return f.time.millisecondOfDay}}function Ht(e,t){const n=e instanceof Object,s=t instanceof Object;if(!n||!s)return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const o in e){const a=e[o]instanceof Object,r=t[o]instanceof Object;if(a&&r){if(!Ht(e[o],t[o]))return!1}else if(e[o]!==t[o])return!1}return!0}function ue(e,t){return Object.prototype.toString.call(e).slice(8,-1)===t}const it=e=>ue(e,"Undefined"),St=e=>ue(e,"Object"),Re=e=>ue(e,"Array"),dt=e=>ue(e,"Date"),Dt=e=>ue(e,"Function"),xt=e=>ue(e,"Boolean"),Gn=e=>ue(e,"String"),Tn=e=>ue(e,"Number");function L(e,t=0,n=10){return e===void 0?e=t:(e=parseInt(e,n),Number.isNaN(e)&&(e=t)),e}function ut(e,t=16){const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),s=[];let o;if(t=t||n.length,e)for(o=0;o<e;o++)s[o]=n[0|Math.random()*t];else{let a;for(s[8]=s[13]=s[18]=s[23]="-",s[14]="4",o=0;o<36;o++)s[o]||(a=0|Math.random()*16,s[o]=n[o===19?a&3|8:a])}return s.join("")}function In(e){return e.replace(/([A-Z])/g,"-$1".toLowerCase()).replace(/^-/,"")}function $t(e,t){return e.indexOf(t)===-1&&e.push(t),e}class Mn{constructor(){_(this,"uuid");_(this,"index");_(this,"parentId");_(this,"parentNode");_(this,"level");_(this,"children");_(this,"options");_(this,"__uindex");_(this,"__data");_(this,"__isExpand");this.uuid=ut(12),this.__data=null,this.index=0,this.parentId=[],this.parentNode=null,this.level=0,this.__isExpand=!0,this.children=[],this.options={},this.__uindex=0}get data(){return this.__data}get isExpand(){return this.__isExpand}get start(){return U(this.__data[this.options.sl])}get end(){return U(this.__data[this.options.el])}initData(t,n){const s=n.startLabel||f.key.start,o=n.endLabel||f.key.end;Object.assign(this.options,{sl:s,el:o}),this.__isExpand=this.options.isExpand||!0,this.__data=t}isSame(t){return Ht(t,this.data)}cloneData(){return this._clone(this.data)}_clone(t){if(!St(t))return t;const n=Re(t)?[]:{};for(const s in t)n[s]=St(t[s])?this._clone(t[s]):t[s];return n}setExpand(t){this.__isExpand=t}setStart(t,n,s=!1,o=[]){if(this.data[this.options.sl]=t,P(t,ve(this.end,-X(n)))==="r"&&(this.data[this.options.el]=ve(t,X(n))),!s)return;let a=this.parentNode;for(;a!==null&&P(this.start,a.start)==="l";){a.setStart(this.start,n),$t(o,a.data);a=a.parentNode}this.__setChildrenDate(this,"start",n,o)}setEnd(t,n,s=!1,o=[]){if(this.data[this.options.el]=t,P(t,ve(this.start,X(n)))==="l"&&(this.data[this.options.sl]=ve(t,-X(n))),!s)return;let a=this.parentNode;for(;a!==null&&P(this.end,a.end)==="r";){a.setEnd(this.end,n),$t(o,a.data);a=a.parentNode}this.__setChildrenDate(this,"end",n,o)}__setChildrenDate(t,n,s,o){for(let a=0;a<t.children.length;a++){const r=t.children[a];n==="start"?P(r.start,t.start)==="l"&&(r.setStart(t.start,s),o.push(r.data),this.__setChildrenDate(r,n,s,o)):n==="end"&&P(r.end,t.end)==="r"&&(r.setEnd(t.end,s),o.push(r.data),this.__setChildrenDate(r,n,s,o))}}}let ct=0;class Nn{constructor(){_(this,"data");_(this,"originData");_(this,"__start");_(this,"__end");_(this,"__hierarchy");_(this,"__selected");_(this,"__hovered");_(this,"__len");_(this,"__that");this.data=[],this.originData=[],this.__start=null,this.__end=null,this.__hierarchy=0,this.__selected={index:-1},this.__hovered={index:-1},this.__len=0,this.__that=this}initData(t,n={}){this.originData=t,this.data=this.__createDataTree(t,[],n),this.__len=this.data.length}get len(){return this.__len}get selected(){return this.__selected}get hovered(){return this.__hovered}get start(){return this.__start}setStart(t){t&&dt(t)?this.__start=t:this.__start=null}get end(){return this.__end}setEnd(t){t&&dt(t)?this.__end=t:this.__end=null}__createDataTree(t,n,s={},o=0,a=null){const r=[];for(let l=0;l<t.length;l++)r.push(this.__createDataNode(t[l],l,n,o,a,s));return r}__createDataNode(t,n,s,o,a,r){const l=new Mn;l.initData(t,r),l.index=n,l.level=o,l.parentId=s,l.parentNode=a,this.__updateDate(l);const u=[...s];return u.push(n),Re(t.children)&&(l.children=this.__createDataTree(t.children,u,r,o+1,l)),o>this.__hierarchy&&(this.__hierarchy=o),l}__updateDate(t){(!this.start||P(t.start,this.start)==="l")&&(this.__start=t.start),(!this.end||P(t.end,this.end)==="r")&&(this.__end=t.end)}update(t,n=null){var o,a;if(this.__diff(this.data,t),!n)return;const s=this.flatData.find(r=>r.uuid===n.uuid);this.__selected={index:(o=s==null?void 0:s.__uindex)!=null?o:-1,uuid:(a=s==null?void 0:s.uuid)!=null?a:void 0}}__diff(t,n,s=null){let o=0;for(;o<n.length;){if(o<t.length&&!t[o].isSame(n[o]))if(o+1<t.length&&t[o+1].isSame(n[o]))t.splice(o,1);else if(o+1<n.length&&t[o].isSame(n[o+1])){const a=this.__createDataNode(n[o],o,t[o].parentId,t[o].level,t[o].parentNode,t[o].options);t.splice(o,0,a)}else{const a=this.__createDataNode(n[o],o,t[o].parentId,t[o].level,t[o].parentNode,t[o].options);t.splice(o,1,a)}if(t[o]===void 0){const a=this.__createDataNode(n[o],o,s?[...s.parentId,s.index]:[],s?s.level+1:0,s,s?s.options:{});t.splice(o,1,a)}this.__diff(t[o].children,n[o].children,t[o]),this.__updateDate(t[o]),o+=1}t[o]&&t.splice(o,t.length)}setSelectedByData(t){const n=s=>{if(Re(s))for(let o=0;o<s.length;o++)if(s[o].isSame(t)){this.__selected={index:s[o].__uindex,uuid:s[o].uuid};break}else s[o].children&&n(s[o].children)};n(this.data)}setHovered(t){this.__hovered=t}setSelected(t){this.__selected=t}get hierarchy(){return this.__hierarchy+1}get flatData(){ct=0;const t=[];return this.__flatten(this.data,t),this.__len=t.length,t}__flatten(t,n){for(let s=0;s<t.length;s++)t[s].__uindex=ct,ct+=1,n.push(t[s]),t[s].isExpand&&Re(t[s].children)&&this.__flatten(t[s].children,n)}}const B={header:`[${f.name.root} warn]:`,invalidProps:"Invalid props:",nullKeys:"Null keys:",formatError:"Format error:",typeError:"Type error:"};class Wn{constructor(){_(this,"key");_(this,"label");_(this,"node");_(this,"merge");return this.key=-1,this.label="",this.node=null,this.merge=!1,this}initData(t){return this.key=t.key,this.label=t.label,this.node=t.node,this.merge=t.merge,this}}class qn{constructor(){_(this,"key");_(this,"label");_(this,"text");_(this,"__w");return this.key=-1,this.label="",this.text="",this.__w=f.size.defaultTableColumnWidth,this}initData(t){return this.key=t.key,this.label=t.label,this.text=t.text,this.__w=t.width,this}get width(){return this.__w}setWidth(t){this.__w=t}}class Ln{constructor(){_(this,"colSize");_(this,"rowHeight");this.colSize="normal",this.rowHeight=f.size.defaultContentRowHeight}}class _e{constructor(){_(this,"__cns");_(this,"__sn");_(this,"__ths");_(this,"__ghs");_(this,"__cbw");_(this,"__rh");_(this,"__hh");_(this,"__gos");_(this,"__slots");_(this,"__start");_(this,"__end");_(this,"__default");_(this,"__hu","day");_(this,"levelColor");_(this,"expandWidth");_(this,"showCheckbox");_(this,"showExpand");_(this,"dark");this.__cns=[],this.__sn=null,this.__ths=[],this.__ghs={length:0,list:[]},this.__cbw=15,this.__rh=f.size.defaultContentRowHeight,this.__hh=f.size.defaultHeaderHeight,this.levelColor=[],this.expandWidth=15,this.showCheckbox=!1,this.showExpand=!1,this.dark=!1,this.__slots=Object,this.__start=new Date,this.__end=new Date,this.__default=new Ln,this.__gos={columnSize:"normal",showToday:!0,showWeekend:!0,header:{},body:{todayColor:"",weekendColor:"",hoverColor:"",selectColor:""}}}init(t){this.__default=t}get colNodes(){return this.__cns}get sliderNode(){return this.__sn}get tableHeaders(){return this.__ths}get ganttHeaders(){return this.__ghs}get ganttOptions(){return this.__gos}get checkBoxWidth(){return this.__cbw+10}set checkBoxWidth(t){this.__cbw=t}get rowHeight(){return this.__rh}set rowHeight(t){t<f.size.minContentRowHeight?console.error(B.header,B.invalidProps,`rowHeight should be at least ${f.size.minContentRowHeight}.`):this.__rh=t}get headerHeight(){return L(this.__hh)}set headerHeight(t){t<f.size.minHeaderHeight?console.error(B.header,B.invalidProps,`headerHeight should be at least ${f.size.minHeaderHeight}.`):this.__hh=t}get startDate(){return this.__start}get endDate(){return this.__end}get headerUnit(){return this.__hu}set headerUnit(t){this.__hu=t,this.updateGanttHeaders()}setGanttOptions(t){ot.exports.merge(this.ganttOptions,t)}setGanttHeaders(t,n){this.__start=new Date(t),this.__end=new Date(n),this.updateGanttHeaders()}updateGanttHeaders(){const t=Bn(this.__start,this.__end,this.__hu);this.ganttHeaders.list=t,this.ganttHeaders.length=t.reduce((n,s)=>s.one.reduce((o,a)=>a.len+o,0)+n,0)}__addCNode(t){this.colNodes.findIndex(n=>n.key===t.key)===-1&&this.colNodes.push(t)}__addTHeader(t){this.tableHeaders.findIndex(n=>n.key===t.key)===-1&&this.tableHeaders.push(t)}static __checkType(t,n){return t.replace(/-/g,"").toLocaleLowerCase()===n.toLocaleLowerCase()}static __isComponent(t){var n,s;return!!((n=t.type)==null?void 0:n.name)&&!!((s=t.type)==null?void 0:s.setup)}setNodes(t){if(!Re(t))return;let n=0;t.filter(s=>{var a,r;const o=(a=s.type)==null?void 0:a.name;return o&&_e.__isComponent(s)&&(_e.__checkType(o,f.name.column)&&!!((r=s.props)==null?void 0:r.label)||_e.__checkType(o,f.name.slider))}).forEach(s=>{var a,r,l,u;const o=s.type.name;if(_e.__checkType(o,f.name.column)){s.key=n,Object.assign(s.props,{__key:n});const p=(a=s.props)==null?void 0:a.label,d=L((r=s.props)==null?void 0:r.width,f.size.defaultTableColumnWidth);let g=(l=s.props)==null?void 0:l.merge;s.key===0&&(g=void 0),this.__addTHeader(new qn().initData({key:n,label:p,text:((u=s.props)==null?void 0:u.name)||p,width:d})),this.__addCNode(new Wn().initData({key:n,label:p,node:s,merge:g})),n+=1}else _e.__checkType(o,f.name.slider)&&(this.__sn=s)})}addSlot(t,n){this.__slots[t]=n}getSlot(t){return this.__slots[t]}resetSize(){this.setGanttOptions({[f.key.columnSize]:this.__default.colSize}),this.rowHeight=L(this.__default.rowHeight)}}const D=wt(new _e),Me=h(()=>{var t;switch((t=D.ganttOptions.columnSize)!=null?t:"normal"){case"small":return D.headerUnit==="week"?7:D.headerUnit==="month"?4:15;case"large":return D.headerUnit==="week"?30:D.headerUnit==="month"?15:60;case"normal":default:return D.headerUnit==="week"?15:D.headerUnit==="month"?8:30}});var T=()=>({GtParam:D,colSize:h(()=>{var e;return(e=D.ganttOptions.columnSize)!=null?e:"normal"}),oneDayWidth:Me});const ht=H(0);function Ne(){const{GtData:e}=se();function t(){const n=e.start;let o=e.end;const a=Ie(n,o)/X(D.headerUnit);if(a*Me.value<ht.value){const r=(ht.value-a*Me.value)/Me.value;o=ve(o,r*X(D.headerUnit))}D.setGanttHeaders(n,o)}return{initGanttWidth:ht,setHeaders:t}}function Fn(e,t){const{setHeaders:n}=Ne(),{showCheckbox:s,showExpand:o,headerHeight:a,levelColor:r,dark:l,ganttColumnSize:u,showToday:p,showWeekend:d,headerStyle:g,bodyStyle:v,rowHeight:b}=oe(e);function k(y=!1){var R;D.showCheckbox=s.value,D.showExpand=o.value,D.headerHeight=L(a.value),D.levelColor=r.value,D.dark=l.value;const m={[f.key.showToday]:p.value,[f.key.showWeekend]:d.value,[f.key.header]:g.value||{},[f.key.body]:v.value||{},[f.key.columnSize]:u.value};y&&(D.rowHeight=L(b.value),D.init({colSize:u.value,rowHeight:(R=b.value)!=null?R:f.size.defaultContentRowHeight})),D.setGanttOptions(m)}(t==null?void 0:t.default)&&D.setNodes(t.default());for(const y in f.slots)(t==null?void 0:t[y])&&D.addSlot(y,t==null?void 0:t[y]);k(!0),$e(()=>[e.bodyStyle,e.borderColor,e.primaryColor,e.levelColor,e.showCheckbox,e.showExpand,e.headerHeight,e.rowHeight,e.ganttColumnSize,e.showToday,e.showWeekend,e.headerStyle,e.bodyStyle,e.dark],()=>{k()}),$e(()=>[D.headerUnit],()=>{k(!0)}),$e(()=>[D.headerUnit,D.ganttOptions.columnSize],()=>{n()})}function Jn(){function e(t){["day","week","month"].includes(t)?D.headerUnit=t:(console.warn(B.header,B.invalidProps,`input value '${t}' is not a valid header unit. It should be 'day', 'week' or 'month'.`),D.headerUnit="day")}return{updateGanttHeaderUnit:e}}const Ce=wt(new Nn);var se=()=>({GtData:Ce});function Vn(e,t){const{setHeaders:n}=Ne(),{IFClickRow:s}=Te();Ce.initData(e.value,t.value);const o=h(()=>Ce.flatData);return $e(()=>e,a=>{let r=null;const l=Ce.selected.index;l>-1&&(r=o.value[l]),Ce.update(a.value,r),n(),l>-1&&Ce.selected.index===-1&&s(void 0)},{deep:!0}),{allData:o}}var ft=e=>{const{GtData:t}=se(),{IFClickRow:n,IFDblClickRow:s,IFCheckedRow:o}=Te();function a(g){var v;o((v=g.target)==null?void 0:v.checked,e)}let r=!1;function l(){var g;r?r=!1:(t.setSelected({index:(g=e==null?void 0:e.__uindex)!=null?g:-1,uuid:e==null?void 0:e.uuid}),n(e),r=!0,window.setTimeout(()=>{r=!1},500))}function u(){s(e)}function p(){var g;t.setHovered({index:(g=e==null?void 0:e.__uindex)!=null?g:-1,uuid:e==null?void 0:e.uuid})}function d(){t.setHovered({index:-1})}return{onChangeCheckbox:a,onClickRow:l,onDbClickRow:u,onMouseEnterRow:p,onMouseLeaveRow:d}},Pn={label:{type:String,required:!0},name:String,width:{type:[Number,String],validator:e=>{const t=L(e)>f.size.minTableColumnWidth;return t||console.error(B.header,B.invalidProps,`column width should be more than "${f.size.minTableColumnWidth}".`),t}},center:{type:Boolean,default:!1},merge:{type:[Function,Boolean],default:()=>!1},dateFormat:String,emptyData:{type:String,default:f.noData},selectable:{type:Boolean,default:!1}};const jn=e=>(st("data-v-0dc57eb9"),e=e(),at(),e),Qn=["width","height"],Yn=jn(()=>c("path",{d:"M823.110667 437.542194L302.873052 81.236186c-59.893088-41.026392-141.257188 1.871627-141.257188 74.457805v712.610994c0 72.586179 81.364099 115.484198 141.257188 74.457806l520.237615-356.304985c52.364625-35.8413 52.364625-113.074312 0-148.915612z","p-id":"6885"},null,-1)),Kn=[Yn],Xn=S({name:"GanttArrowIcon"});function Zn(e){const t=e,n=H(!1),s=H(!1),o=H(!1),a=H(!0);function r(){switch(n.value=!1,s.value=!1,o.value=!1,a.value=!1,t.direction){case"up":n.value=!0;break;case"down":s.value=!0;break;case"left":o.value=!0;break;default:a.value=!0;break}}return Be(()=>{r()}),$e(()=>t.direction,l=>{r()}),(l,u)=>(A(),w("svg",{t:"1594609520750",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6884","data-darkreader-inline-fill":"",width:e.size,height:e.size,style:C({fill:"var(--j-primary-color)"}),class:j({"gt-animation":!0,up:n.value,down:s.value,left:o.value,right:a.value})},Kn,14,Qn))}const eo=S(N(x({},Xn),{props:{size:{type:Number,default:15},direction:{type:String,default:"right",validator:e=>["up","down","left","right"].includes(e)}},setup:Zn}));var to=G(eo,[["__scopeId","data-v-0dc57eb9"]]);const Rt=H();function no(){return{ganttRef:Rt}}var gt=()=>({ganttRef:Rt});const Et=H();function oo(){return{rootRef:Et}}var so=()=>({rootRef:pe(Et)}),ye=()=>{const{GtParam:e,oneDayWidth:t}=T(),n=h(()=>e.tableHeaders.reduce((o,a)=>o+a.width,0)),s=h(()=>{const o=t.value;return e.ganttHeaders.length*o});return{rowHeight:h(()=>e.rowHeight),tableWidth:pe(n),ganttWidth:pe(s),headerHeight:h(()=>e.headerHeight)}};function ao(){const{initGanttWidth:e,setHeaders:t}=Ne(),{ganttRef:n}=gt(),s=H();return an(()=>{s.value=new ResizeObserver(o=>{for(const a of o)e.value=a.contentRect.width,t()})}),Be(()=>{var o;(n==null?void 0:n.value)&&((o=s.value)==null||o.observe(n.value))}),rn(()=>{s.value=void 0}),{}}const We=H(!1),Ot=H(0),qe=H(-1);function zt(){const{GtParam:e}=T(),{GtData:t}=se(),{rootRef:n}=so(),s=h(()=>{var d;return((d=n.value)==null?void 0:d.clientWidth)||0});function o(){We.value=!1,qe.value=-1}function a(d){var g;We.value===!1&&(We.value=!0),qe.value===-1&&(qe.value=(g=n.value)==null?void 0:g.offsetLeft),Ot.value=d-qe.value}function r(d){let g=0;const v=d.pageX,b=e.tableHeaders[e.tableHeaders.length-1].width;document.onmousemove=k=>{var Q;let y=k.pageX;y<0&&(y=0);const m=100,R=e.tableHeaders.reduce((E,Z)=>E+Z.width,0),F=y-v;R+F>((Q=n.value)==null?void 0:Q.clientWidth)-m||b+y-v>f.size.minTableColumnWidth&&(g=y-v,a(y))},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null;const k=e.tableHeaders[e.tableHeaders.length-1].width;e.tableHeaders[e.tableHeaders.length-1].setWidth(k+g),o()}}function l(d,g){let v=0;const b=d.pageX;document.onmousemove=k=>{let y=k.pageX;y<0&&(y=0);let m=f.size.minTableColumnWidth;if(g.key===0){let E=0;E+=e.expandWidth*t.hierarchy,e.showCheckbox&&(E+=e.checkBoxWidth),E>m&&(m=E)}const R=100,F=e.tableHeaders.reduce((E,Z)=>E+Z.width,0),Q=y-b;F+Q>s.value-R||g.width+y-b>m&&(v=y-b,a(y))},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,g.setWidth(g.width+v),o()}}const u=h(()=>({"gt-hide":!We.value})),p=h(()=>({left:`${Ot.value}px`}));return{sliderLineClass:u,sliderLineStyle:p,onResizeTableWidth:r,onResizeColumnWidth:l}}function ro(){const e=H(30),t=H(e.value/2),n=H(-e.value/2),s=h(()=>({position:" absolute",right:`${n.value}px`,top:`${t.value}px`,zIndex:99})),o=H(null);function a(){Tn(o.value)&&(n.value=o.value)}function r(){if(n.value>=0){o.value=null;return}o.value=n.value,n.value=0}return{btnSize:pe(e),opBtnStyle:s,onOpBtnMouseLeave:a,onOpBtnMouseEnter:r}}var pt=e=>{const t=o=>{let a=!1;return it(o)||(xt(o)?a=o:Dt(o)?a=o(ge(e.data)):o===""&&(a=!0)),a};function n(o){if(it(o))return{data:ge(e.data),level:e.level+1};const a=e.cloneData(),r=e.options.sl,l=e.options.el,u=o||"yyyy-MM-dd";return a[r]=lt(a[r],u),a[l]=lt(a[l],u),{data:a,level:e.level+1}}return{isMerge:t,scopeData:n,textData:(o,a,r)=>{const{data:l}=n(a);return Gn(o)&&o in l?l[o]:r!=null?r:f.noData}}};const lo=["onClick"],io=S({name:f.name.column});function uo(e){const t=e,n=rt(),s=kt(),{dateFormat:o,label:a,emptyData:r,center:l}=oe(t),u=s.__key,p=s.data,{GtParam:d}=T(),{isMerge:g,scopeData:v,textData:b}=pt(p),k=h(()=>d.tableHeaders[u].width),y=h(()=>{let te=f.size.defaultTableColumnWidth;k.value>0&&(te=k.value);for(let I=u+1;I<d.colNodes.length;I++){const he=d.colNodes[I];if(g(he.merge))te+=d.tableHeaders[I].width;else break}return te}),m=h(()=>({"--column-width":`${y.value-1}px`,borderColor:"var(--j-content-border-color)"})),R=H(15),F=h(()=>({"--box-size":`${R.value}px`})),Q=h(()=>d.showCheckbox&&u===0),E=h(()=>d.showExpand&&u===0),Z=h(()=>p.children.length>0),Y=h(()=>p.level*10),ae=h(()=>p.isExpand),{onChangeCheckbox:ce}=ft(p);function ee(){p.setExpand(!ae.value)}const{rowHeight:Ae}=ye(),me=h(()=>({"--row-height":`${Ae.value}px`,justifyContent:l.value?"center":"flex-start"})),be=h(()=>!!(n==null?void 0:n.default)),He=h(()=>(n==null?void 0:n.default)&&n.default(v(o==null?void 0:o.value))[0]),Se=h(()=>!be.value&&b(a==null?void 0:a.value,o==null?void 0:o.value,r.value));return(te,I)=>(A(),w("div",{class:j(["gt-column",{"gt-noselect":!te.selectable}]),style:C(i(m))},[i(Q)?(A(),w("input",{key:0,id:"checkbox",class:"gt-column__checkbox",type:"checkbox",name:"checkbox",style:C(i(F)),onChange:I[0]||(I[0]=he=>i(ce)(he)),onClick:I[1]||(I[1]=ie(()=>{},["stop"])),onDblclick:I[2]||(I[2]=ie(()=>{},["stop"]))},null,36)):q("",!0),i(E)?(A(),w("div",{key:1,class:j(["gt-column__expand",{"gt-hide":!i(Z)}]),style:C(N(x({},i(F)),{marginLeft:`${i(Y)}px`})),onClick:ie(ee,["stop"])},[O(to,{direction:i(ae)?"down":"right"},null,8,["direction"])],14,lo)):q("",!0),c("div",{class:"gt-column__chunk",style:C(i(me))},[i(be)?(A(),K(de(i(He)),{key:0})):(A(),w(J,{key:1},[ke(W(i(Se)),1)],64))],4)],6))}const co=S(N(x({},io),{props:Pn,setup:uo}));var Ut=G(co,[["__scopeId","data-v-5bb39fe0"]]),ho={label:{type:String},dateFormat:{type:String},flat:{type:Boolean,default:!1},bgColor:{type:String,default:""},alignment:{type:String,default:"left",validator:e=>["left","center","right"].includes(e)},move:{type:[Function,Boolean],default:()=>!1},resizeLeft:{type:Boolean,default:!1},resizeRight:{type:Boolean,default:!1},emptyData:{type:String,default:f.noData},linkedResize:{type:Boolean}};const fo=["onMousedown"],go=S({name:f.name.slider});function po(e){const t=e,n=rt(),o=kt().data,{alignment:a,label:r,move:l,dateFormat:u,emptyData:p,bgColor:d,resizeLeft:g,resizeRight:v,linkedResize:b}=oe(t),{oneDayWidth:k,GtParam:y}=T(),{GtData:m}=se(),R=h(()=>o.start),F=h(()=>o.end),Q=h(()=>Ie(R.value,F.value)/X(y.headerUnit)*k.value),E=h(()=>xt(l.value)?l.value:Dt(l.value)?l.value({level:o.level+1,data:ge(o.data)}):!1),Z=h(()=>{const M=U(m.start).setHours(0);return Ie(M,R.value)/X(y.headerUnit)*k.value}),Y=h(()=>{let $;return(n==null?void 0:n.content)&&($=n.content(ee(u==null?void 0:u.value))[0]),$&&ot.exports.isSymbol($.type)?void 0:$}),ae=h(()=>!!(n==null?void 0:n.left)),ce=h(()=>!!(n==null?void 0:n.right)),{scopeData:ee,textData:Ae}=pt(o),me=h(()=>{let $;return(n==null?void 0:n.content)&&($=n.content(ee(u==null?void 0:u.value))[0]),(n==null?void 0:n.default)&&($=n.default(ee(u==null?void 0:u.value))[0]),$&&ot.exports.isSymbol($.type)?void 0:$}),be=h(()=>(n==null?void 0:n.left)&&n.left(ee(u==null?void 0:u.value))[0]),He=h(()=>(n==null?void 0:n.right)&&n.right(ee(u==null?void 0:u.value))[0]),Se=h(()=>({"gt-slider-content":!Y.value,"gt-custom-slider-content":Y.value,"gt-noselect":!0,"gt-text-nowrap":!0})),te=h(()=>{switch(a.value){case"center":return"center";case"right":return"flex-end";default:return"flex-start"}}),I=h(()=>({justifyContent:te.value})),he=h(()=>({"gt-slider-ctrl__left":!ae.value})),Je=h(()=>({"gt-slider-ctrl__right":!ce.value}));function re($){return $?{opacity:1,height:"100%"}:{opacity:0}}const De=h(()=>d.value||"var(--j-primary-color)"),Ve=h(()=>ce.value?x({transition:"all 0.2s",right:"0"},re(le.value&&v.value)):x({backgroundColor:De.value},re(le.value&&v.value))),Pe=h(()=>ae.value?x({transition:"all 0.2s",left:"0"},re(le.value&&g.value)):x({backgroundColor:De.value},re(le.value&&g.value))),je=h(()=>Ae(r==null?void 0:r.value,u==null?void 0:u.value,p.value)),Qe=h(()=>({width:`${Q.value}px`,left:`${Z.value}px`,backgroundColor:Y.value?"":De.value}));let le=H(!1);function At(){!E.value||(le.value=!0)}function ze(){!E.value||(le.value=!1)}function we($){!E.value||Ke($,"move")}function Ye($){!E.value||Ke($,"left")}function Pt($){!E.value||Ke($,"right")}const{IFMoveSlider:jt}=Te(),{setHeaders:Qt}=Ne();function Ke($,M=""){const xe=$.pageX,Xe=U(o.start),Ze=U(o.end),et=[o.data];document.onmousemove=Kt=>{let tt=Kt.pageX;tt<0&&(tt=0);const mt=(tt-xe)/k.value*X(y.headerUnit);(M==="move"||M==="left")&&o.setStart(U(ve(Xe,mt)),y.headerUnit,b.value,et),(M==="move"||M==="right")&&o.setEnd(U(ve(Ze,mt)),y.headerUnit,b.value,et)},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,!(P(o.start,Xe)==="e"&&P(o.end,Ze)==="e")&&(jt(et,{start:Xe,end:Ze}),Yt())}}function Yt(){P(o.start,m.start)==="l"&&m.setStart(o.start),P(o.end,m.end)==="r"&&m.setEnd(o.end),Qt()}return($,M)=>(A(),w("div",{class:j(["gt-slider",{"gt-shadow":!$.flat}]),style:C(i(Qe)),onMousedown:ie(we,["stop"]),onMouseenter:At,onMouseleave:ze},[c("div",{class:j(i(Se)),style:C(i(I)),onSelectstart:M[0]||(M[0]=()=>!1)},[i(me)?(A(),K(de(i(me)),{key:0})):(A(),w(J,{key:1},[ke(W(i(je)),1)],64))],38),c("div",{class:j(["gt-slider-chunk",i(he)]),style:C(i(Pe)),onMousedown:M[1]||(M[1]=ie(xe=>i(g)?Ye(xe):null,["stop"]))},[i(ae)?(A(),K(de(i(be)),{key:0})):q("",!0)],38),c("div",{class:j(["gt-slider-chunk",i(Je)]),style:C(i(Ve)),onMousedown:M[2]||(M[2]=ie(xe=>i(v)?Pt(xe):null,["stop"]))},[i(ce)?(A(),K(de(i(He)),{key:0})):q("",!0)],38)],46,fo))}const vo=S(N(x({},go),{props:ho,setup:po}));var vt=G(vo,[["__scopeId","data-v-1eba601e"]]),_o={data:{type:Array,default:()=>[]},dataIndex:{type:String,required:!0,validator:e=>{if(!e)throw new Error(`${B.header+B.invalidProps}"dataIndex" should be a valid string.`);return!!e}},startKey:{type:String,default:f.key.start},endKey:{type:String,default:f.key.end},headerHeight:{type:[Number,String],default:f.size.defaultHeaderHeight,validator:e=>{const t=L(e)>=f.size.minHeaderHeight;if(!t)throw new Error(`${B.header+B.invalidProps}"headerHeight" should be at least ${f.size.minHeaderHeight}.`);return t}},rowHeight:{type:[Number,String],default:f.size.defaultContentRowHeight,validator:e=>{const t=L(e)>=f.size.minContentRowHeight;if(!t)throw new Error(`${B.header+B.invalidProps}"rowHeight" should be at least ${f.size.minContentRowHeight}.`);const n=L(e)<=f.size.maxContentRowHeight;if(!n)throw new Error(`${B.header+B.invalidProps}"rowHeight" should be no more than ${f.size.maxContentRowHeight}.`);return t&&n}},border:{type:Number,default:1,validator:e=>{const t=L(e)>=0;if(!t)throw new Error(`${B.header+B.invalidProps}"border" should be a positive integer.`);return t}},borderColor:{type:String,default:""},showCheckbox:{type:Boolean},showExpand:{type:Boolean,default:!0},expandAll:{type:Boolean,default:!0},ganttColumnSize:{type:String,default:"normal",validator:e=>["small","normal","large"].includes(e)},showToday:{type:Boolean,default:!0},showWeekend:{type:Boolean,default:!0},levelColor:{type:Array,default:()=>[]},headerStyle:{type:Object,defalut:()=>({})},bodyStyle:{type:Object,default:()=>({})},dark:{type:Boolean,default:!1},primaryColor:{type:String,default:""},showSettingBtn:{type:Boolean,default:!0}};const Bt=H();function yo(){return{tableRef:Bt}}var Ao=()=>({tableRef:Bt});const Gt=H(0),Tt=H(0),It=H(f.size.defaultScrollBarHeight);var Mt=()=>{const{ganttRef:e}=gt(),{tableRef:t}=Ao();function n(a){const{deltaY:r}=a;e.value&&(e.value.scrollTop+=r)}function s(){var a;if(t.value){const r=(a=e.value)==null?void 0:a.scrollTop;Gt.value=r,t.value.scrollTop=r}}function o(){t.value&&e.value&&(It.value=t.value.offsetHeight-e.value.clientHeight),t.value&&(Tt.value=t.value.offsetHeight)}return Be(o),ln(o),{scrollTop:pe(Gt),rootHeight:pe(Tt),scrollBarHeight:pe(It),tableWheelHandle:n,ganttWheelHandle:s}},mo=e=>{const{rowHeight:t}=ye(),{scrollTop:n,rootHeight:s}=Mt(),o=1,a=h(()=>{const u=Math.ceil(n.value/t.value);return u-o>0?u-o:0}),r=h(()=>{const u=Math.ceil(s.value/t.value),p=Math.ceil(n.value/t.value)+u+o;return p>e.value.length?e.value.length:p});return{inView:h(()=>e.value.slice(a.value,r.value))}};const bo=/^rgb(a)?\((\d{1,3}),(\d{1,3}),(\d{1,3}),?([01]?\.?\d*?)?\)$/;function wo(e){if(typeof e!="string")throw new TypeError("Expected a string");e=e.replace(/^#/,""),e.length===3?e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]:e.length===4&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=parseInt(e,16);return e.length>6?{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:Math.round((t&255)/2.55)}:{r:t>>16,g:t>>8&255,b:t&255}}function ko(e){if(typeof e!="string")throw new TypeError("Expected a string");const t=e.replace(/ /g,""),n=bo.exec(t);if(n===null)return wo(t);const s={r:Math.min(255,parseInt(n[2],10)),g:Math.min(255,parseInt(n[3],10)),b:Math.min(255,parseInt(n[4],10))};if(n[1]){const o=parseFloat(n[5]);s.a=Math.min(1,Number.isNaN(o)===!0?1:o)*100}return s}function Co({r:e,g:t,b:n,a:s}){const o=s!==void 0;if(e=Math.round(e),t=Math.round(t),n=Math.round(n),e>255||t>255||n>255||o&&s>100)throw new TypeError("Expected 3 numbers below 256 (and optionally one below 100)");const a=o?(Math.round(255*s/100)|1<<8).toString(16).slice(1):"";return`#${(n|t<<8|e<<16|1<<24).toString(16).slice(1)}${a}`}function Nt(e,t){if(typeof e!="string")throw new TypeError("Expected a string as color");if(t===void 0||t<0||t>1)throw new TypeError("Expected offset to be between 0 and 1");const{r:n,g:s,b:o}=ko(e);return Co({r:n,g:s,b:o,a:Math.round(Math.min(1,Math.max(0,t))*100)})}function Le(){const{GtParam:e}=T(),t=h(()=>e.dark),n=h(()=>t.value?"dark":"default");return{dark:t,colorSelectStr:n}}var Ee=()=>{const{GtParam:e,oneDayWidth:t}=T(),{GtData:n}=se(),{rowHeight:s}=ye(),{colorSelectStr:o}=Le(),a=h(()=>d=>{var v;const g=((v=e.ganttOptions.body)==null?void 0:v.bgColor)||"var(--j-content-bg-color)";return d!==void 0?{backgroundColor:`${e.levelColor[d]||g} !important`}:{}}),r=h(()=>d=>{var g;return x({height:`${s.value}px`,borderColor:"var(--j-content-border-color)",color:(g=e.ganttOptions.body)==null?void 0:g.textColor},a.value(d))}),l=h(()=>d=>{var g;return x({height:`${s.value}px`,borderColor:"var(--j-content-border-color)",color:(g=e.ganttOptions.body)==null?void 0:g.textColor,backgroundSize:`${t.value*(e.headerUnit==="week"?7:1)}px`,backgroundImage:e.headerUnit==="day"?"linear-gradient(270deg, var(--j-content-border-color) 1px, transparent 0)":""},a.value(d))}),u=h(()=>(d,g,v=!0)=>{var k,y,m;let b={};return v&&(n.selected.index===d&&n.selected.uuid===g&&(b={backgroundColor:`${Nt(((k=e.ganttOptions.body)==null?void 0:k.selectColor)||f.color.selected[o.value],.5)} !important`}),n.hovered.index===d&&n.hovered.uuid===g&&(b={backgroundColor:`${Nt(((m=(y=e.ganttOptions)==null?void 0:y.body)==null?void 0:m.hoverColor)||f.color.hovered[o.value],.5)} !important`})),x({height:`${s.value}px`,position:"absolute",width:"100%",top:`${s.value*d}px`},b)}),p=h(()=>{var d,g;return{backgroundColor:`${(d=e.ganttOptions.header)==null?void 0:d.bgColor}`,borderColor:"var(--j-content-border-color)",color:`${(g=e.ganttOptions.header)==null?void 0:g.textColor}`}});return{tableRowStyle:r,ganttRowStyle:l,rowWrapStyle:u,headerStyle:p}};const Ho=S({name:f.name.tableRow});function So(e){const t=e,{tableRowStyle:n}=Ee(),{GtParam:s}=T(),{isMerge:o}=pt(t.data),a=s.colNodes.filter(d=>!o(d.merge)),{onClickRow:r,onDbClickRow:l,onMouseEnterRow:u,onMouseLeaveRow:p}=ft(t.data);return(d,g)=>(A(),w("div",{class:"gt-table-row",style:C(i(n)(e.data.level)),onClick:g[0]||(g[0]=(...v)=>i(r)&&i(r)(...v)),onDblclick:g[1]||(g[1]=(...v)=>i(l)&&i(l)(...v)),onMouseenter:g[2]||(g[2]=(...v)=>i(u)&&i(u)(...v)),onMouseleave:g[3]||(g[3]=(...v)=>i(p)&&i(p)(...v))},[e.data?(A(!0),w(J,{key:0},fe(i(a),v=>(A(),K(de(v.node),{key:v.key,data:e.data},null,8,["data"]))),128)):q("",!0)],36))}const Do=S(N(x({},Ho),{props:{data:null},setup:So}));var Wt=G(Do,[["__scopeId","data-v-13c296d8"]]);const xo=S({name:f.name.ganttRow});function $o(e){var d,g;const t=e,{data:n}=oe(t),s=H((g=(d=n.value)==null?void 0:d.uuid)!=null?g:ut(12)),{GtParam:o}=T(),a=h(()=>o.sliderNode),{onClickRow:r,onDbClickRow:l,onMouseEnterRow:u,onMouseLeaveRow:p}=ft(n.value);return(v,b)=>(A(),w("div",{key:s.value,class:"gt-gantt-row",onClick:b[0]||(b[0]=(...k)=>i(r)&&i(r)(...k)),onDblclick:b[1]||(b[1]=(...k)=>i(l)&&i(l)(...k)),onMouseenter:b[2]||(b[2]=(...k)=>i(u)&&i(u)(...k)),onMouseleave:b[3]||(b[3]=(...k)=>i(p)&&i(p)(...k))},[i(n)?(A(),w(J,{key:0},[i(a)?(A(),K(de(i(a)),{key:0,data:i(n)},null,8,["data"])):(A(),K(vt,{key:1,data:i(n)},null,8,["data"]))],64)):q("",!0)],32))}const Ro=S(N(x({},xo),{props:{data:null},setup:$o}));var qt=G(Ro,[["__scopeId","data-v-2c25a01e"]]);const Eo=S({name:f.name.ganttBackgroundRow});function Oo(e){var a,r;const t=e,{data:n}=oe(t),{ganttRowStyle:s}=Ee(),o=H((r=(a=n.value)==null?void 0:a.uuid)!=null?r:ut(12));return(l,u)=>(A(),w("div",{key:o.value,class:"gt-gantt-row",style:C(i(s)(i(n).level))},null,4))}const zo=S(N(x({},Eo),{props:{data:null},setup:Oo}));var _t=G(zo,[["__scopeId","data-v-cc413e46"]]);const Uo=S({components:{[Wt.name]:Wt,[qt.name]:qt,[_t.name]:_t}});function Bo(e){const t=e,{data:n}=oe(t),{inView:s}=mo(n),{rowWrapStyle:o}=Ee(),a=h(()=>t.name!==_t.name);return(r,l)=>(A(),K(dn,{tag:"div",name:"gt-update-animate"},{default:ne(()=>[(A(!0),w(J,null,fe(i(s),u=>(A(),K(de(i(In)(e.name)),{key:u.uuid,data:u,style:C(i(o)(u.__uindex,u.uuid,i(a))),class:"gt-update-animate-item"},null,8,["data","style"]))),128))]),_:1}))}const Go=S(N(x({},Uo),{props:{data:null,name:null},setup:Bo}));var yt=G(Go,[["__scopeId","data-v-294671bf"]]);const To={class:"gt-table-header-chunk-content"},Io=["onMousedown"],Mo=S({name:f.name.tableHeader});function No(e){const{headerStyle:t}=Ee(),{GtParam:n}=T(),s=h(()=>n.tableHeaders),{onResizeColumnWidth:o}=zt();return(a,r)=>(A(),w("div",{class:"gt-table-header gt-noselect",style:C(i(t))},[(A(!0),w(J,null,fe(i(s),l=>(A(),w("div",{key:l.key,class:"gt-table-header-chunk",style:C(x({width:`${l.width}px`},i(t)))},[c("div",To,W(l.text),1),l.key!==i(s).length-1?(A(),w("div",{key:0,class:"gt-header__table-chunk__move-slider",onMousedown:u=>i(o)(u,l)},null,40,Io)):q("",!0)],4))),128))],4))}const Wo=S(N(x({},Mo),{setup:No}));var qo=G(Wo,[["__scopeId","data-v-5bde0fdd"]]);const Lo=e=>(st("data-v-bafe6a9c"),e=e(),at(),e),Fo=Lo(()=>c("div",{class:"gt-table-bottom-bar"},null,-1)),Jo=S({props:{rowData:null},emits:["table-scroll"],setup(e,{emit:t}){const{rowHeight:n}=ye();function s(a){a.stopPropagation(),t("table-scroll",a)}const{tableRef:o}=yo();return(a,r)=>(A(),w("div",{ref:(l,u)=>{u.tableRef=l,Ge(o)&&(o.value=l)},class:"gt-table",onWheelPassive:s,onDOMMouseScrollPassive:s},[O(qo),c("div",{class:"gt-table-row-wrap",style:C({height:`${i(n)*e.rowData.length}px`,position:"relative"})},[O(yt,{data:e.rowData,name:i(f).name.tableRow},null,8,["data","name"])],4),Fo],544))}});var Vo=G(Jo,[["__scopeId","data-v-bafe6a9c"]]);function Lt(e,t){const{GtParam:n}=T(),s=new Date(lt(e)).setHours(0);return Ie(s,t)/X(n.headerUnit)}function Ft(){const{GtParam:e}=T();function t(n){if(e.ganttHeaders.length===0)return!1;const s=e.startDate.setHours(0),o=e.endDate.setHours(24);return!(n.getTime()<s||n.getTime()>o)}return{isInArea:t}}function Jt(){const{GtParam:e,oneDayWidth:t}=T(),{GtData:n}=se(),{isInArea:s}=Ft(),{colorSelectStr:o}=Le(),a=h(()=>s(U())),r=h(()=>a.value&&e.ganttOptions.showToday),l=h(()=>{const v=new Date().setHours(0);return L(Lt(n.start,v)*t.value)}),u=h(()=>{switch(e.ganttOptions.columnSize){case"large":return 2;case"normal":return 1;default:return 0}}),p=h(()=>{var v;return{left:`${l.value-u.value}px`,width:`${e.headerUnit==="day"?t.value:5}px`,height:"100%","background-color":((v=e.ganttOptions.body)==null?void 0:v.todayColor)||f.color.today[o.value]}}),d=h(()=>e.headerUnit==="day"?t.value>50?50:t.value:15),g=h(()=>{var v;return{left:`${e.headerUnit==="day"?l.value+(t.value-d.value)/2:l.value-d.value/2+2}px`,"border-width":`${d.value/2}px`,"border-top-color":(v=e.ganttOptions.body)==null?void 0:v.todayColor}});return{isTodayInArea:a,showTodayLine:r,todayLineStyle:p,todayLeft:l,todayArrowStyle:g}}function Po(){const{GtData:e}=se(),{GtParam:t,oneDayWidth:n}=T(),{ganttWidth:s}=ye(),{colorSelectStr:o}=Le(),a=h(()=>{const l=[];if(!t.ganttOptions.showWeekend||t.headerUnit!=="day")return l;let p=U(e.start).getDay(),d=0;for(p===0&&(l.push(p),p+=6,d+=6);p>0&&p<6;)p++,d++;for(;d*n.value<s.value;)l.push(d),l.push(++d),++p,p+=6,d+=6;return l}),r=h(()=>l=>{var u;return{left:`${l*n.value}px`,width:`${n.value}px`,height:"100%","background-color":((u=t.ganttOptions.body)==null?void 0:u.weekendColor)||f.color.weekend[o.value]}});return{weekendList:a,weekendStyle:r}}function jo(){const{GtData:e}=se(),{oneDayWidth:t}=T(),{isInArea:n}=Ft(),{INoDateError:s}=Te(),{ganttRef:o}=gt();function a(r){if(!o.value)return;if((it(r)||!dt(r))&&(r=new Date),!n(r)){s(r);return}r.setHours(0);const l=L(Lt(e.start,r)*t.value);let u=0,p=0;if(o.value.scrollLeft<l?p=l-o.value.clientWidth/3:u=Math.abs(o.value.clientWidth/6-l),u&&p)return;const d=1e3,g=u||p;let v=null,b=0,k;function y(m){if(v!==null&&o.value){if(o.value.scrollLeft<u||p>0&&o.value.scrollLeft>=p||k===o.value.scrollLeft)return;const R=g*(m-v)/d;if(u)b-=R;else if(p)b+=R;else return;k=o.value.scrollLeft,o.value.scrollLeft+=b}v=m,window.requestAnimationFrame(y)}window.requestAnimationFrame(y)}return{handleJumpTo:a,ganttRef:o}}const Qo={class:"gt-gantt-header-chunk-unit"},Yo={class:"gt-gantt-header-chunk-one"},Ko=S({name:f.name.ganttHeader});function Xo(e){const{GtParam:t,oneDayWidth:n}=T(),{headerStyle:s}=Ee(),o=h(()=>t.ganttHeaders),a=h(()=>u=>({width:`${n.value*u}px`,borderColor:"var(--j-content-border-color)"})),{showTodayLine:r,todayArrowStyle:l}=Jt();return(u,p)=>(A(),w("div",{class:"gt-gantt-header gt-noselect",style:C(i(s))},[i(r)?(A(),w("div",{key:0,class:"gt-gantt-header-today-arrow",style:C(i(l))},null,4)):q("",!0),(A(!0),w(J,null,fe(i(o).list,(d,g)=>(A(),w("div",{key:g,class:"gt-gantt-header-chunk",style:C(i(a)(d.one.reduce((v,b)=>b.len+v,0)))},[c("div",Qo,W(d.unit),1),c("div",Yo,[(A(!0),w(J,null,fe(d.one,(v,b)=>(A(),w("div",{key:b,style:C(i(a)(v.len))},W(v.text),5))),128))])],4))),128))],4))}const Zo=S(N(x({},Ko),{setup:Xo}));var es=G(Zo,[["__scopeId","data-v-06e5025c"]]);const ts=S({props:{rowData:null},emits:["gantt-scroll"],setup(e,{emit:t}){function n(d){t("gantt-scroll",d)}const{rowHeight:s,ganttWidth:o}=ye(),{showTodayLine:a,todayLineStyle:r}=Jt(),{weekendList:l,weekendStyle:u}=Po(),{ganttRef:p}=no();return(d,g)=>(A(),w("div",{ref:(v,b)=>{b.ganttRef=v,Ge(p)&&(p.value=v)},class:"gt-gantt",onWheelPassive:n,onDOMMouseScrollPassive:n,onScrollPassive:n},[O(es,{style:C({width:`${i(o)}px`})},null,8,["style"]),c("div",{class:"gt-gantt-row-wrap",style:C({width:`${i(o)}px`,height:`${i(s)*e.rowData.length}px`,position:"relative"})},[O(yt,{data:e.rowData,name:i(f).name.ganttBackgroundRow},null,8,["data","name"]),i(a)?(A(),w("div",{key:0,class:"gt-today-line",style:C(i(r))},null,4)):q("",!0),(A(!0),w(J,null,fe(i(l),v=>(A(),w("div",{key:v,class:"gt-weekend-line",style:C(i(u)(v))},null,4))),128)),O(yt,{data:e.rowData,name:i(f).name.ganttRow},null,8,["data","name"])],4)],544))}});var ns=G(ts,[["__scopeId","data-v-3058ffc8"]]);const os=S({name:"GanttBtn",props:{icon:{type:String,required:!0},turn:{type:Boolean},size:{type:Number,default:30}}});function ss(e,t,n,s,o,a){return A(),w("div",{class:j(["gt-btn-wrap",{"turn-animation":e.turn}]),style:C({width:`${e.size}px`,height:`${e.size}px`})},[c("i",{class:j(`icon ${e.icon}`)},null,2)],6)}var as=G(os,[["render",ss],["__scopeId","data-v-3eb2e2b4"]]);const rs=S({name:"GanttSlider",props:{modelValue:Number,min:{type:Number,default:0},max:{type:Number,defalut:100}},setup(e,t){const{modelValue:n}=oe(e);return{value:h({get:()=>n.value,set:o=>{t.emit("update:modelValue",o)}})}}}),ls={class:"gt-slider-bar"},is=["min","max"],ds={class:"show-val gt-shadow"};function us(e,t,n,s,o,a){return A(),w("div",ls,[un(c("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>e.value=r),type:"range",min:e.min,max:e.max},null,8,is),[[cn,e.value]]),c("div",ds,W(e.value),1)])}var cs=G(rs,[["render",us],["__scopeId","data-v-61f471d9"]]);const Oe=e=>(st("data-v-6f4679d9"),e=e(),at(),e),hs=Oe(()=>c("div",{class:"gt-text-title",style:{"margin-bottom":"1rem"}},"\u7CFB\u7EDF\u8BBE\u7F6E",-1)),fs={style:{display:"inline-flex",gap:"1rem"}},gs={style:{display:"inline-block"}},ps=Oe(()=>c("div",{class:"gt-text-secondary-title"},"\u4FEE\u6539\u7518\u7279\u56FE\u5217\u5BBD",-1)),vs={style:{display:"flex",gap:"0.5rem"}},_s={style:{display:"inline-block"}},ys=Oe(()=>c("div",{class:"gt-text-secondary-title"},"\u4FEE\u6539\u884C\u9AD8",-1)),As={style:{"margin-top":"1rem"}},ms=Oe(()=>c("div",{class:"gt-text-title",style:{"margin-bottom":"1rem"}},"\u7518\u7279\u663E\u793A",-1)),bs={style:{display:"flex",gap:"1rem"}},ws=Oe(()=>c("div",{class:"gt-line gt-shadow"},null,-1)),ks=S({name:"GanttDrawer"});function Cs(e){const t=e,{show:n}=oe(t),s=H(2e3),o=H(),{GtParam:a}=T();function r(y){a.setGanttOptions({[f.key.columnSize]:y})}function l(y){a.rowHeight=y}function u(){a.resetSize()}function p(y){a.headerUnit=y}const d=h(()=>({"min-width":"200px",right:n.value?"0px":`-${s.value+10}px`})),g=h(()=>a.getSlot(f.slots.settings)),v=h({get:()=>L(a.rowHeight,f.size.defaultContentRowHeight),set:y=>l(y)}),b=h(()=>f.size.minContentRowHeight),k=h(()=>f.size.maxContentRowHeight);return Be(()=>{var y,m;s.value=(m=(y=o.value)==null?void 0:y.clientWidth)!=null?m:2e3}),(y,m)=>(A(),w("div",{ref:(R,F)=>{F.drawerRef=R,o.value=R},class:"gt-operation-drawer",style:C(i(d))},[c("div",null,[hs,c("div",fs,[c("div",gs,[ps,c("div",vs,[c("button",{class:"gt-drawer-reset-btn",style:{"font-size":"10px"},onClick:m[0]||(m[0]=()=>r("small"))}," \u5C0F "),c("button",{class:"gt-drawer-reset-btn",style:{"font-size":"10px"},onClick:m[1]||(m[1]=()=>r("normal"))}," \u4E2D "),c("button",{class:"gt-drawer-reset-btn",style:{"font-size":"10px"},onClick:m[2]||(m[2]=()=>r("large"))}," \u5927 ")])]),c("div",_s,[ys,O(cs,{modelValue:i(v),"onUpdate:modelValue":m[3]||(m[3]=R=>Ge(v)?v.value=R:null),style:{margin:"5px 20px 10px 0px"},min:i(b),max:i(k)},null,8,["modelValue","min","max"])]),c("div",{style:{margin:"auto 0"}},[c("button",{class:"gt-drawer-reset-btn",onClick:u},"\u91CD\u7F6E")])])]),c("div",As,[ms,c("div",bs,[c("button",{class:"gt-drawer-reset-btn",onClick:m[4]||(m[4]=()=>p("day"))}," \u65E5 "),c("button",{class:"gt-drawer-reset-btn",onClick:m[5]||(m[5]=()=>p("week"))}," \u5468 "),c("button",{class:"gt-drawer-reset-btn",onClick:m[6]||(m[6]=()=>p("month"))}," \u6708 ")])]),ws,i(g)?(A(),K(de(i(g)),{key:0})):q("",!0)],4))}const Hs=S(N(x({},ks),{props:{show:{type:Boolean}},setup:Cs}));var Ss=G(Hs,[["__scopeId","data-v-6f4679d9"]]);const Fe=H(!1);var Ds=()=>{function e(){Fe.value=!0}function t(){Fe.value=!1}const n=h(()=>({"gt-mask-show":Fe.value,"gt-mask-hide":!Fe.value}));return{showMask:e,hideMask:t,maskClass:n}},xs=()=>{const{GtData:e}=se(),{handleJumpTo:t}=jo(),{updateGanttHeaderUnit:n}=Jn();function s(o){e.setSelectedByData(o)}return{setSelected:s,jumpToDate:t,setHeaderUnit:n}};const $s={key:0,class:"gt-root-btn-mask"},Rs=["onClick"],Es=S({name:f.name.root});function Os(e,{expose:t,emit:n}){const s=e,o=rt(),{data:a,border:r,showExpand:l,expandAll:u,startKey:p,endKey:d,borderColor:g,primaryColor:v,showSettingBtn:b}=oe(s),{rootRef:k}=oo();zn(n),Fn(s,o);const y=h(()=>({isExpand:l.value?u.value:!0,startLabel:p.value,endLabel:d.value})),{allData:m}=Vn(a,y),{tableWheelHandle:R,ganttWheelHandle:F,scrollBarHeight:Q}=Mt(),{tableWidth:E,headerHeight:Z}=ye();ao();const{colorSelectStr:Y}=Le(),ae=h(()=>({"--root-border":`${r.value}px`,"--table-width":`${E.value}px`,"--scrollbar-width":`${Q.value}px`,"--header-height":`${Z.value}px`,"--j-content-border-color":g.value||f.color.border[Y.value],"--j-primary-color":v.value||f.color.primary[Y.value],"--j-content-bg-color":f.color.background[Y.value],"--j-text-color":f.color.text[Y.value]})),{sliderLineClass:ce,sliderLineStyle:ee,onResizeTableWidth:Ae}=zt(),{opBtnStyle:me,btnSize:be,onOpBtnMouseLeave:He,onOpBtnMouseEnter:Se}=ro(),{maskClass:te,hideMask:I,showMask:he}=Ds();function Je(){I(),Ve()}const re=H(!1);function De(){re.value=!0}function Ve(){re.value=!1}function Pe(){he(),De()}const{setSelected:je,jumpToDate:Qe,setHeaderUnit:le}=xs();return t({setSelected:je,jumpToDate:Qe,setHeaderUnit:le}),(At,ze)=>(A(),w("div",{ref:(we,Ye)=>{Ye.rootRef=we,Ge(k)&&(k.value=we)},class:"gt-root",style:C(i(ae))},[i(b)?(A(),w("div",$s,[O(as,{icon:"more",size:i(be),style:C(i(me)),onMouseenterPassive:i(Se),onMouseleavePassive:i(He),onClick:ie(Pe,["stop"])},null,8,["size","style","onMouseenterPassive","onMouseleavePassive","onClick"])])):q("",!0),c("div",{class:j(["gt-column-slider-line",i(ce)]),style:C(i(ee))},null,6),c("div",{class:"gt-table-slider-line",style:C({left:`${i(E)-2}px`}),onMousedown:ze[0]||(ze[0]=(...we)=>i(Ae)&&i(Ae)(...we))},null,36),O(Vo,{"row-data":i(m),onTableScroll:i(R)},null,8,["row-data","onTableScroll"]),O(ns,{"row-data":i(m),onGanttScroll:i(F)},null,8,["row-data","onGanttScroll"]),O(Ss,{show:re.value},null,8,["show"]),c("div",{class:j(i(te)),onClick:ie(Je,["stop"])},null,10,Rs)],4))}const zs=S(N(x({},Es),{props:_o,emits:["row-click","row-dbl-click","row-checked","move-slider","no-date-error"],setup:Os}));var Vt=G(zs,[["__scopeId","data-v-150133d7"]]);const Us=[Vt,Ut,vt],Bs=e=>{e.component(f.name.root,Vt),e.component(f.name.column,Ut),e.component(f.name.slider,vt)};var Gs=x({install:Bs},Us);hn(On).use(Gs).mount("#app");
