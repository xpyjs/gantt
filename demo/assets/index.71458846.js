var an=Object.defineProperty,ln=Object.defineProperties;var dn=Object.getOwnPropertyDescriptors;var wt=Object.getOwnPropertySymbols;var un=Object.prototype.hasOwnProperty,cn=Object.prototype.propertyIsEnumerable;var ot=(e,t,n)=>t in e?an(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x=(e,t)=>{for(var n in t||(t={}))un.call(t,n)&&ot(e,n,t[n]);if(wt)for(var n of wt(t))cn.call(t,n)&&ot(e,n,t[n]);return e},P=(e,t)=>ln(e,dn(t));var _=(e,t,n)=>(ot(e,typeof t!="symbol"?t+"":t,n),n);import{d as D,r as Te,o as y,c as b,a as h,b as O,w as te,t as q,e as I,F as j,f as ve,g as He,h as H,i as ce,j as B,k as hn,I as fn,l as st,m as kt,n as c,p as re,q as Ee,s as Ie,u as C,v as L,x as rt,y as at,z as ye,A as gn,B as pn,C as lt,D as Ct,E as i,G as ae,H as ne,J as he,K as vn,T as yn,L as _n,M as mn,N as An,O as bn}from"./vendor.097531fb.js";const wn=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}};wn();var kn="data:image/png;base64,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";var M=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n};let Q=1;const Cn=D({name:"App",data(){return{isDark:!1,changeColor:0,dataList:[],showCheckbox:!0,showWeekend:!0,showToday:!0,showExpand:!0,levelColor:["azure","cornsilk"],headerStyle:{bgColor:"",textColor:""},bodyStyle:{textColor:"",todayColor:"",weekendColor:""},colSize:"normal",showSettingBtn:!0}},created(){let e=2,t=15;for(let n=0;n<1e3;n++){if(e>t){let s=e;e=t,t=s}this.dataList.push({index:n,startDate:`2021-08-${e++}`,endDate:`2021-10-${t++}`,ttt:{a:"aaa",b:"bbb"},name:"\u6211\u7684\u6570\u636E: "+e,children:[]}),e>30&&(e=2),t>30&&(t=5)}for(let n=0;n<50;n++){if(e>t){let s=e;e=t,t=s}[0,1,3,4,5,7,9].forEach(s=>{this.dataList[s].children.push({index:n,startDate:`2021-08-${e++}`,endDate:`2021-10-${t++}`,name:"\u5B50\u6570\u636E: "+e,ttt:{a:"s-aaa",b:"s-bbb"},children:[]})}),e>30&&(e=2),t>30&&(t=5)}for(let n=0;n<50;n++){if(e>t){let s=e;e=t,t=s}[0,2].forEach(s=>{this.dataList[0].children[s].children.push({index:n,startDate:`2021-08-${e++}`,endDate:`2021-10-${t++}`,name:"\u5B59\u6570\u636E: "+e,ttt:{a:"gs-aaa",b:"gs-bbb"},progress:Math.random(),children:[]})}),e>30&&(e=2),t>30&&(t=5)}},methods:{rowClick:function(e){console.log("click row data:",e)},rowDblClick:function(e){console.log("double click row data:",e)},rowChecked:function(e,t){console.log("check row:",e,t)},moveSlider:function(e,{start:t,end:n}){console.log("move slider:",e,t,n)},moveProgress:function(e,t){console.log("move progress:",e,t)},noDateError:function(e){console.log(`${e}\u4E0D\u5728\u8303\u56F4\u5185`)},merge3:function(e){return e.index%3!=0},merge4:function(e){return e.index%4!=0},merge5:function(e){return e.index%5!=0},handleMove:function({level:e}){return e!==1},handleClickReloadData:function(){let e=2,t=15;for(let n=0;n<5e4;n++){if(e>t){let s=e;e=t,t=s}this.dataList.push({index:n,startDate:`2020-06-${e++}`,endDate:`2020-08-${t++}`,ttt:{a:"aaa",b:"bbb"},name:"\u6211\u7684\u6570\u636E: "+e,children:[]}),e>30&&(e=2),t>30&&(t=5)}for(let n=0;n<5;n++){if(e>t){let s=e;e=t,t=s}[0,1,3,4,5,7,9].forEach(s=>{this.dataList[s].children.push({index:n,startDate:`2021-06-${e++}`,endDate:`2021-07-${t++}`,name:"\u5B50\u6570\u636E: "+e,ttt:{a:"s-aaa",b:"s-bbb"},children:[]})}),e>30&&(e=2),t>30&&(t=5)}for(let n=0;n<5;n++){if(e>t){let s=e;e=t,t=s}[0,2].forEach(s=>{this.dataList[0].children[s].children.push({index:n,startDate:`2021-07-${e++}`,endDate:`2021-08-${t++}`,name:"\u5B59\u6570\u636E: "+e,ttt:{a:"gs-aaa",b:"gs-bbb"},children:[]})}),e>30&&(e=2),t>30&&(t=5)}},handleClickEmpty:function(){this.dataList=[]},handleClickModify:function(){Object.assign(this.dataList[0],{startDate:"2020-08-10",endDate:"2020-09-21"}),Object.assign(this.dataList[0].children[2].children[0],{startDate:"2020-08-13",endDate:"2020-09-17",name:"\u5B59\u6570\u636E: abcde"})},handleClickInsert:function(){this.dataList.unshift({index:Q++,startDate:"2020-08-10",endDate:"2020-09-20",name:"\u6570\u636E: "+Q,ttt:{a:"s-aaa"+Q,b:"s-bbb"+Q},children:[]})},handleClickInsert2:function(){this.dataList[0].children.unshift({index:Q++,startDate:"2020-08-15",endDate:"2020-09-13",name:"\u5B50\u6570\u636E: "+Q,ttt:{a:"s-aaa"+Q,b:"s-bbb"+Q},children:[{index:Q++,startDate:"2020-08-21",endDate:"2020-09-5",name:"\u5B59\u6570\u636E: "+Q,ttt:{a:"s-aaa"+Q,b:"s-bbb"+Q},children:[]}]}),this.dataList=[...this.dataList]},handleClickDelete:function(){console.log(this.dataList.shift())},handleClickColor(){this.changeColor++,this.changeColor%2!=0?(this.levelColor=["green","yellow","red"],this.headerStyle={bgColor:"black",textColor:"lightgrey"},this.bodyStyle={bgColor:"grey",textColor:"grey"}):(this.levelColor=["azure","cornsilk"],this.headerStyle={bgColor:"",textColor:""},this.bodyStyle={bgColor:"",textColor:""})},handleClickBg(){this.isDark=!this.isDark},setSelected(){this.$refs.gantt.setSelected(this.dataList[0])},jumpTo(){this.$refs.gantt.jumpToDate()},setHeaderUnit(e){this.$refs.gantt.setHeaderUnit(e)}}}),Sn=h("div",{style:{margin:"0 auto",width:"500px"}},[h("img",{src:kn,alt:"",width:"500"})],-1),Hn={style:{height:"400px","padding-bottom":"10px"}},xn=h("template",null,[h("div",null,"123")],-1),Dn=h("div",null,"a",-1),$n=h("div",null,"b",-1),Rn={key:0,class:"slider-level-one"},On={style:{"background-color":"#ccc",width:"100%"}},En={name:"end",style:{backgroundColor:`#${555}`,color:"#789"}},zn=h("div",null,[h("p",null,"\u6807\u9898"),h("input")],-1),Un={style:{display:"inline-block"}},Bn=He(" \u9009\u62E9\u5217\u5BBD "),Gn={style:{display:"inline-block"}},Tn=He(" \u9009\u62E9\u663E\u793A "),In=h("div",{class:"tip-text"},"\u6309 F12 \u6253\u5F00\u63A7\u5236\u53F0\u4EE5\u67E5\u770B\u4E8B\u4EF6\u8F93\u51FA\u5185\u5BB9\u3002",-1),Mn=h("div",{class:"code-link"},[He(" \u8BE5\u9875\u9762\u6E90\u4EE3\u7801\u5728 "),h("a",{href:"https://github.com/jeremyjone/jz-gantt/blob/master/src/App.vue"},"\u8FD9\u91CC")],-1);function Nn(e,t,n,s,o,r){const l=Te("JGanttSlider"),a=Te("JGanttColumn"),d=Te("j-gantt-column"),p=Te("JGantt");return y(),b(j,null,[Sn,h("div",Hn,[O(p,{ref:"gantt","header-height":"48","row-height":"30","data-index":"index","expand-all":"",dark:e.isDark,"gantt-column-size":e.colSize,"show-checkbox":e.showCheckbox,"show-weekend":e.showWeekend,"show-today":e.showToday,"show-expand":e.showExpand,data:e.dataList,"header-style":e.headerStyle,"body-style":e.bodyStyle,"level-color":e.levelColor,"show-setting-btn":e.showSettingBtn,onRowClick:e.rowClick,onRowDblClick:e.rowDblClick,onRowChecked:e.rowChecked,onMoveSlider:e.moveSlider,onMoveProgress:e.moveProgress,onNoDateError:e.noDateError},{settings:te(()=>[zn]),default:te(()=>[xn,Dn,$n,O(l,{flat:"",label:"startDate","date-format":"MM-dd H:mm:s","empty-data":"",alignment:"center",move:e.handleMove,"resize-left":!0,"resize-right":!0,"linked-resize":!0,progress:""},{default:te(({data:u})=>[h("div",null,q(u.name),1)]),content:te(({data:u,level:f})=>[f===1?(y(),b("div",Rn)):I("",!0)]),_:1},8,["move"]),O(a,{label:"index",merge:e.merge3},{default:te(({data:u})=>[h("div",On,q(u.name),1)]),_:1},8,["merge"]),O(a,{label:"name",width:"150",merge:e.merge3},{default:te(({data:u})=>[h("div",null,"2 - "+q(u),1)]),_:1},8,["merge"]),O(a,{label:"ttt.a",merge:e.merge5,"column-style":"backgroundColor: #cde; padding-left: 10px","column-class":"test-class"},null,8,["merge"]),O(a,{label:"bbb","date-format":"",merge:e.merge5},{default:te(()=>[(y(),b(j,null,ve(100,u=>h("div",{key:u},q(u),1)),64))]),_:1},8,["merge"]),O(a,{label:"startDate",width:"180",center:"","date-format":"",merge:e.merge4},null,8,["merge"]),O(d,{label:"endDate",name:"\u81EA\u5B9A\u4E49\u6807\u7B7E",width:"200","date-format":"q yyyy-MM-dd HH:mm:ss",merge:e.merge4},{default:te(({data:u})=>[h("span",En," abc - "+q(u.endDate),1)]),_:1},8,["merge"]),O(a,{label:"picture12345",merge:e.merge5},{default:te(({data:u})=>[He(" \u{1F440}\u{1F603}\u2728\u2714\u{1F431}\u200D\u{1F680}\u{1F431}\u200D\u{1F453} "+q(u.ttt.b),1)]),_:1},8,["merge"])]),_:1},8,["dark","gantt-column-size","show-checkbox","show-weekend","show-today","show-expand","data","header-style","body-style","level-color","show-setting-btn","onRowClick","onRowDblClick","onRowChecked","onMoveSlider","onMoveProgress","onNoDateError"])]),h("div",null,"total: "+q(e.dataList.length),1),h("button",{onClick:t[0]||(t[0]=(...u)=>e.handleClickBg&&e.handleClickBg(...u))}," \u5207\u6362\u5230"+q(e.isDark?"\u6D45\u8272":"\u6DF1\u8272")+"\u6A21\u5F0F ",1),h("button",{onClick:t[1]||(t[1]=(...u)=>e.handleClickReloadData&&e.handleClickReloadData(...u))},"\u91CD\u65B0\u8D4B\u503C"),h("button",{onClick:t[2]||(t[2]=(...u)=>e.handleClickEmpty&&e.handleClickEmpty(...u))},"\u6E05\u7A7A"),h("button",{onClick:t[3]||(t[3]=(...u)=>e.handleClickModify&&e.handleClickModify(...u))},"\u4FEE\u6539"),h("button",{onClick:t[4]||(t[4]=(...u)=>e.handleClickInsert&&e.handleClickInsert(...u))},"\u63D2\u5165"),h("button",{onClick:t[5]||(t[5]=(...u)=>e.handleClickInsert2&&e.handleClickInsert2(...u))},"\u63D2\u51652"),h("button",{onClick:t[6]||(t[6]=(...u)=>e.handleClickDelete&&e.handleClickDelete(...u))},"\u5220\u9664"),h("button",{onClick:t[7]||(t[7]=(...u)=>e.handleClickColor&&e.handleClickColor(...u))},"\u5207\u6362\u989C\u8272"),h("button",{onClick:t[8]||(t[8]=()=>e.showCheckbox=!e.showCheckbox)},"\u663E\u793Acheckbox"),h("button",{onClick:t[9]||(t[9]=()=>e.showWeekend=!e.showWeekend)},"\u663E\u793Aweekend"),h("button",{onClick:t[10]||(t[10]=()=>e.showToday=!e.showToday)},"\u663E\u793Atoday"),h("button",{onClick:t[11]||(t[11]=()=>e.showExpand=!e.showExpand)},"\u663E\u793Aexpand"),h("button",{onClick:t[12]||(t[12]=(...u)=>e.setSelected&&e.setSelected(...u))},"\u8BBE\u7F6E\u9009\u62E9"),h("button",{onClick:t[13]||(t[13]=(...u)=>e.jumpTo&&e.jumpTo(...u))},"\u8DF3\u8F6C\u5230"),h("button",{onClick:t[14]||(t[14]=()=>e.showSettingBtn=!e.showSettingBtn)}," \u663E\u793A\u8BBE\u7F6E\u6309\u94AE "),e.showSettingBtn?I("",!0):(y(),b(j,{key:0},[h("div",Un,[Bn,h("button",{onClick:t[15]||(t[15]=()=>e.colSize="small")},"\u5C0F"),h("button",{onClick:t[16]||(t[16]=()=>e.colSize="normal")},"\u4E2D"),h("button",{onClick:t[17]||(t[17]=()=>e.colSize="large")},"\u5927")]),h("div",Gn,[Tn,h("button",{onClick:t[18]||(t[18]=()=>e.setHeaderUnit("day"))},"\u65E5"),h("button",{onClick:t[19]||(t[19]=()=>e.setHeaderUnit("week"))},"\u5468"),h("button",{onClick:t[20]||(t[20]=()=>e.setHeaderUnit("month"))},"\u6708")])],64)),In,Mn],64)}var Wn=M(Cn,[["render",Nn]]);const St=H();var qn=e=>(St.value=e,{});function Ln(){return St}var Me=()=>{const e=Ln();function t(a){e.value("row-click",a?x({},ce(a.data)):void 0)}function n(a){e.value("row-dbl-click",x({},ce(a==null?void 0:a.data)))}function s(a,d){e.value("row-checked",a,x({},ce(d==null?void 0:d.data)))}function o(a,d){e.value("move-slider",a.map(p=>ce(p)),d)}function r(a,d){e.value("move-progress",x({},ce(a.data)),d)}function l(a){e.value("no-date-error",a)}return{IFClickRow:t,IFDblClickRow:n,IFCheckedRow:s,IFMoveSlider:o,IFMoveProgress:r,INoDateError:l}};const g={noData:"\u65E0\u6570\u636E \u{1F622}",name:{root:"JGantt",column:"JGanttColumn",slider:"JGanttSlider",table:"JTableContent",gantt:"JGanttContent",tableHeader:"JTableHeader",ganttHeader:"JGanttHeader",tableRow:"JTableContentRow",ganttRow:"JGanttContentRow",ganttBackgroundRow:"JGanttContentBackgroundRow"},key:{start:"startDate",end:"endDate",columnSize:"columnSize",showToday:"showToday",showWeekend:"showWeekend",header:"header",body:"body",todayColor:"todayColor",weekendColor:"weekendColor",bgColor:"bgColor",borderColor:"borderColor",textColor:"textColor",hoverColor:"hoverColor",selectColor:"selectColor"},slots:{settings:"settings"},size:{defaultHeaderHeight:100,defaultContentRowHeight:30,defaultTableColumnWidth:80,defaultScrollBarHeight:17,minContentRowHeight:20,maxContentRowHeight:70,minHeaderHeight:30,minTableColumnWidth:30},color:{selected:{default:"#999",dark:"#666"},hovered:{default:"#ccc",dark:"#333"},today:{default:"lightblue",dark:"steelblue"},weekend:{default:"lightgrey",dark:"grey"},primary:{default:"#ECA710",dark:"#ECA710"},text:{default:"#282828",dark:"#E5E5E5"},border:{default:"#E5E5E5",dark:"#212121"},background:{default:"white",dark:"#181818"}},time:{millisecondOfDay:864e5,millisecondOfWeek:6048e5}};B.extend(hn);B.extend(fn);function G(e){return B(e).toDate()}function Fn(e,t,n){const s={},o=G(e).getTime(),r=G(t).getTime();for(let a=o;a<=r;){const d=B(a).year(),p=B(a).month()+1;switch(n){case"week":s[`${d}-${p}`]?s[`${d}-${p}`].push({text:`\u7B2C ${B(a).week()} \u5468`,len:7}):s[`${d}-${p}`]=[{text:`\u7B2C ${B(a).week()} \u5468`,len:a===o?7-B(a).day():7}],a+=a===o?(7-B(a).day())*g.time.millisecondOfDay:g.time.millisecondOfWeek;break;case"month":s[`${d}`]?s[`${d}`].push({text:`${p} \u6708`,len:B(a).daysInMonth()}):s[`${d}`]=[{text:`${p} \u6708`,len:a===o?B(a).daysInMonth()-B(a).date()+1:B(a).daysInMonth()}],a+=a===o?(B(a).daysInMonth()-B(a).date()+1)*g.time.millisecondOfDay:B(a).daysInMonth()*g.time.millisecondOfDay;break;case"day":default:s[`${d}-${p}`]?s[`${d}-${p}`].push({text:B(a).date().toString(),len:1}):s[`${d}-${p}`]=[{text:B(a).date().toString(),len:1}],a+=g.time.millisecondOfDay}}const l=[];for(const a in s)l.push({unit:a,one:s[a]});return l}function Ne(e,t){return G(t).getTime()-G(e).getTime()}function Y(e,t){const n=G(e).getTime(),s=G(t).getTime();return n<s?"l":n>s?"r":"e"}function _e(e,t){const n=G(e).getTime()+t;return G(n).getTime()}function it(e,t="yyyy-MM-dd",n="zh"){const s={zh:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],en:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]};["zh","en"].indexOf(n)===-1&&(n="zh"),e=G(e);const o={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours()%12==0?12:e.getHours()%12,"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};let r;for(r in o)if(new RegExp(`(${r})`).test(t)){const l=o[r].toString();t=t.replace(RegExp.$1,RegExp.$1.length===1?l:`00${l}`.substr(`${l}`.length))}return/(y+)/.test(t)&&(t=t.replace(RegExp.$1,`${e.getFullYear()}`.substr(4-RegExp.$1.length))),/(D+)/.test(t)&&(t=t.replace(RegExp.$1,s[n][e.getDay()])),t}function oe(e){switch(e){case"week":case"month":case"day":default:return g.time.millisecondOfDay}}function Ht(e,t){const n=e instanceof Object,s=t instanceof Object;if(!n||!s)return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const o in e){const r=e[o]instanceof Object,l=t[o]instanceof Object;if(r&&l){if(!Ht(e[o],t[o]))return!1}else if(e[o]!==t[o])return!1}return!0}function fe(e,t){return Object.prototype.toString.call(e).slice(8,-1)===t}const dt=e=>fe(e,"Undefined"),xt=e=>fe(e,"Object"),ze=e=>fe(e,"Array"),ut=e=>fe(e,"Date"),Dt=e=>fe(e,"Function"),$t=e=>fe(e,"Boolean"),Rt=e=>fe(e,"String"),Pn=e=>fe(e,"Number");function J(e,t=0,n=10){return e===void 0?e=t:(e=parseInt(e,n),Number.isNaN(e)&&(e=t)),e}function ct(e,t=16){const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),s=[];let o;if(t=t||n.length,e)for(o=0;o<e;o++)s[o]=n[0|Math.random()*t];else{let r;for(s[8]=s[13]=s[18]=s[23]="-",s[14]="4",o=0;o<36;o++)s[o]||(r=0|Math.random()*16,s[o]=n[o===19?r&3|8:r])}return s.join("")}function Jn(e){return e.replace(/([A-Z])/g,"-$1".toLowerCase()).replace(/^-/,"")}function Ot(e,t){return e.indexOf(t)===-1&&e.push(t),e}function Vn(e,t){t.split(";").forEach(n=>{const[s,o]=n.split(":");s&&o&&(e[s.trim()]=o.trim())})}class jn{constructor(){_(this,"uuid");_(this,"index");_(this,"parentId");_(this,"parentNode");_(this,"level");_(this,"children");_(this,"options");_(this,"__uindex");_(this,"__data");_(this,"__isExpand");this.uuid=ct(12),this.__data=null,this.index=0,this.parentId=[],this.parentNode=null,this.level=0,this.__isExpand=!0,this.children=[],this.options={},this.__uindex=0}get data(){return this.__data}get isExpand(){return this.__isExpand}get start(){return G(this.__data[this.options.sl])}get end(){return G(this.__data[this.options.el])}get progress(){var t,n;if(this.children.length>0){let s=0;for(const o of this.children)s+=(t=o.progress)!=null?t:0;return s/this.children.length}return(n=this.__data.progress)!=null?n:0}setProgress(t){t<0?this.__data.progress=0:t>1?this.__data.progress=1:this.__data.progress=t}initData(t,n){const s=n.startLabel||g.key.start,o=n.endLabel||g.key.end;Object.assign(this.options,{sl:s,el:o}),this.__isExpand=this.options.isExpand||!0,this.__data=t}isSame(t){return Ht(t,this.data)}cloneData(){return this._clone(this.data)}_clone(t){if(!xt(t))return t;const n=ze(t)?[]:{};for(const s in t)n[s]=xt(t[s])?this._clone(t[s]):t[s];return n}setExpand(t){this.__isExpand=t}setStart(t,n,s=!1,o=[]){if(this.data[this.options.sl]=t,Y(t,_e(this.end,-oe(n)))==="r"&&(this.data[this.options.el]=_e(t,oe(n))),!s)return;let r=this.parentNode;for(;r!==null&&Y(this.start,r.start)==="l";){r.setStart(this.start,n),Ot(o,r.data);r=r.parentNode}this.__setChildrenDate(this,"start",n,o)}setEnd(t,n,s=!1,o=[]){if(this.data[this.options.el]=t,Y(t,_e(this.start,oe(n)))==="l"&&(this.data[this.options.sl]=_e(t,-oe(n))),!s)return;let r=this.parentNode;for(;r!==null&&Y(this.end,r.end)==="r";){r.setEnd(this.end,n),Ot(o,r.data);r=r.parentNode}this.__setChildrenDate(this,"end",n,o)}__setChildrenDate(t,n,s,o){for(let r=0;r<t.children.length;r++){const l=t.children[r];n==="start"?Y(l.start,t.start)==="l"&&(l.setStart(t.start,s),o.push(l.data),this.__setChildrenDate(l,n,s,o)):n==="end"&&Y(l.end,t.end)==="r"&&(l.setEnd(t.end,s),o.push(l.data),this.__setChildrenDate(l,n,s,o))}}}let ht=0;class Qn{constructor(){_(this,"data");_(this,"originData");_(this,"__start");_(this,"__end");_(this,"__hierarchy");_(this,"__selected");_(this,"__hovered");_(this,"__len");_(this,"__that");this.data=[],this.originData=[],this.__start=null,this.__end=null,this.__hierarchy=0,this.__selected={index:-1},this.__hovered={index:-1},this.__len=0,this.__that=this}initData(t,n={}){this.originData=t,this.data=this.__createDataTree(t,[],n),this.__len=this.data.length}get len(){return this.__len}get selected(){return this.__selected}get hovered(){return this.__hovered}get start(){return this.__start}setStart(t){t&&ut(t)?this.__start=t:this.__start=null}get end(){return this.__end}setEnd(t){t&&ut(t)?this.__end=t:this.__end=null}__createDataTree(t,n,s={},o=0,r=null){const l=[];for(let a=0;a<t.length;a++)l.push(this.__createDataNode(t[a],a,n,o,r,s));return l}__createDataNode(t,n,s,o,r,l){const a=new jn;a.initData(t,l),a.index=n,a.level=o,a.parentId=s,a.parentNode=r,this.__updateDate(a);const d=[...s];return d.push(n),ze(t.children)&&(a.children=this.__createDataTree(t.children,d,l,o+1,a)),o>this.__hierarchy&&(this.__hierarchy=o),a}__updateDate(t){(!this.start||Y(t.start,this.start)==="l")&&(this.__start=t.start),(!this.end||Y(t.end,this.end)==="r")&&(this.__end=t.end)}update(t,n=null){var o,r;if(this.__diff(this.data,t),!n)return;const s=this.flatData.find(l=>l.uuid===n.uuid);this.__selected={index:(o=s==null?void 0:s.__uindex)!=null?o:-1,uuid:(r=s==null?void 0:s.uuid)!=null?r:void 0}}__diff(t,n,s=null){let o=0;for(;o<n.length;){if(o<t.length&&!t[o].isSame(n[o]))if(o+1<t.length&&t[o+1].isSame(n[o]))t.splice(o,1);else if(o+1<n.length&&t[o].isSame(n[o+1])){const r=this.__createDataNode(n[o],o,t[o].parentId,t[o].level,t[o].parentNode,t[o].options);t.splice(o,0,r)}else{const r=this.__createDataNode(n[o],o,t[o].parentId,t[o].level,t[o].parentNode,t[o].options);t.splice(o,1,r)}if(t[o]===void 0){const r=this.__createDataNode(n[o],o,s?[...s.parentId,s.index]:[],s?s.level+1:0,s,s?s.options:{});t.splice(o,1,r)}this.__diff(t[o].children,n[o].children,t[o]),this.__updateDate(t[o]),o+=1}t[o]&&t.splice(o,t.length)}setSelectedByData(t){const n=s=>{if(ze(s))for(let o=0;o<s.length;o++)if(s[o].isSame(t)){this.__selected={index:s[o].__uindex,uuid:s[o].uuid};break}else s[o].children&&n(s[o].children)};n(this.data)}setHovered(t){this.__hovered=t}setSelected(t){this.__selected=t}get hierarchy(){return this.__hierarchy+1}get flatData(){ht=0;const t=[];return this.__flatten(this.data,t),this.__len=t.length,t}__flatten(t,n){for(let s=0;s<t.length;s++)t[s].__uindex=ht,ht+=1,n.push(t[s]),t[s].isExpand&&ze(t[s].children)&&this.__flatten(t[s].children,n)}}const T={header:`[${g.name.root} warn]:`,invalidProps:"Invalid props:",nullKeys:"Null keys:",formatError:"Format error:",typeError:"Type error:"};class Yn{constructor(){_(this,"key");_(this,"label");_(this,"node");_(this,"merge");return this.key=-1,this.label="",this.node=null,this.merge=!1,this}initData(t){return this.key=t.key,this.label=t.label,this.node=t.node,this.merge=t.merge,this}}class Kn{constructor(){_(this,"key");_(this,"label");_(this,"text");_(this,"__w");return this.key=-1,this.label="",this.text="",this.__w=g.size.defaultTableColumnWidth,this}initData(t){return this.key=t.key,this.label=t.label,this.text=t.text,this.__w=t.width,this}get width(){return this.__w}setWidth(t){this.__w=t}}class Xn{constructor(){_(this,"colSize");_(this,"rowHeight");this.colSize="normal",this.rowHeight=g.size.defaultContentRowHeight}}class me{constructor(){_(this,"__cns");_(this,"__sn");_(this,"__ths");_(this,"__ghs");_(this,"__cbw");_(this,"__rh");_(this,"__hh");_(this,"__gos");_(this,"__slots");_(this,"__start");_(this,"__end");_(this,"__default");_(this,"__hu","day");_(this,"levelColor");_(this,"expandWidth");_(this,"showCheckbox");_(this,"showExpand");_(this,"dark");this.__cns=[],this.__sn=null,this.__ths=[],this.__ghs={length:0,list:[]},this.__cbw=15,this.__rh=g.size.defaultContentRowHeight,this.__hh=g.size.defaultHeaderHeight,this.levelColor=[],this.expandWidth=15,this.showCheckbox=!1,this.showExpand=!1,this.dark=!1,this.__slots=Object,this.__start=new Date,this.__end=new Date,this.__default=new Xn,this.__gos={columnSize:"normal",showToday:!0,showWeekend:!0,header:{},body:{todayColor:"",weekendColor:"",hoverColor:"",selectColor:""}}}init(t){this.__default=t}get colNodes(){return this.__cns}get sliderNode(){return this.__sn}get tableHeaders(){return this.__ths}get ganttHeaders(){return this.__ghs}get ganttOptions(){return this.__gos}get checkBoxWidth(){return this.__cbw+10}set checkBoxWidth(t){this.__cbw=t}get rowHeight(){return this.__rh}set rowHeight(t){t<g.size.minContentRowHeight?console.error(T.header,T.invalidProps,`rowHeight should be at least ${g.size.minContentRowHeight}.`):this.__rh=t}get headerHeight(){return J(this.__hh)}set headerHeight(t){t<g.size.minHeaderHeight?console.error(T.header,T.invalidProps,`headerHeight should be at least ${g.size.minHeaderHeight}.`):this.__hh=t}get startDate(){return this.__start}get endDate(){return this.__end}get headerUnit(){return this.__hu}set headerUnit(t){this.__hu=t,this.updateGanttHeaders()}setGanttOptions(t){st.exports.merge(this.ganttOptions,t)}setGanttHeaders(t,n){this.__start=new Date(t),this.__end=new Date(n),this.updateGanttHeaders()}updateGanttHeaders(){const t=Fn(this.__start,this.__end,this.__hu);this.ganttHeaders.list=t,this.ganttHeaders.length=t.reduce((n,s)=>s.one.reduce((o,r)=>r.len+o,0)+n,0)}__addCNode(t){this.colNodes.findIndex(n=>n.key===t.key)===-1&&this.colNodes.push(t)}__addTHeader(t){this.tableHeaders.findIndex(n=>n.key===t.key)===-1&&this.tableHeaders.push(t)}static __checkType(t,n){return t.replace(/-/g,"").toLocaleLowerCase()===n.toLocaleLowerCase()}static __isComponent(t){var n,s;return!!((n=t.type)==null?void 0:n.name)&&!!((s=t.type)==null?void 0:s.setup)}setNodes(t){if(!ze(t))return;let n=0;t.filter(s=>{var r,l;const o=(r=s.type)==null?void 0:r.name;return o&&me.__isComponent(s)&&(me.__checkType(o,g.name.column)&&!!((l=s.props)==null?void 0:l.label)||me.__checkType(o,g.name.slider))}).forEach(s=>{var r,l,a,d;const o=s.type.name;if(me.__checkType(o,g.name.column)){s.key=n,Object.assign(s.props,{__key:n});const p=(r=s.props)==null?void 0:r.label,u=J((l=s.props)==null?void 0:l.width,g.size.defaultTableColumnWidth);let f=(a=s.props)==null?void 0:a.merge;s.key===0&&(f=void 0),this.__addTHeader(new Kn().initData({key:n,label:p,text:((d=s.props)==null?void 0:d.name)||p,width:u})),this.__addCNode(new Yn().initData({key:n,label:p,node:s,merge:f})),n+=1}else me.__checkType(o,g.name.slider)&&(this.__sn=s)})}addSlot(t,n){this.__slots[t]=n}getSlot(t){return this.__slots[t]}resetSize(){this.setGanttOptions({[g.key.columnSize]:this.__default.colSize}),this.rowHeight=J(this.__default.rowHeight)}}const $=kt(new me),We=c(()=>{var t;switch((t=$.ganttOptions.columnSize)!=null?t:"normal"){case"small":return $.headerUnit==="week"?7:$.headerUnit==="month"?4:15;case"large":return $.headerUnit==="week"?30:$.headerUnit==="month"?15:60;case"normal":default:return $.headerUnit==="week"?15:$.headerUnit==="month"?8:30}});var N=()=>({GtParam:$,colSize:c(()=>{var e;return(e=$.ganttOptions.columnSize)!=null?e:"normal"}),oneDayWidth:We});const ft=H(0);function qe(){const{GtData:e}=le();function t(){const n=e.start;let o=e.end;const r=Ne(n,o)/oe($.headerUnit);if(r*We.value<ft.value){const l=(ft.value-r*We.value)/We.value;o=_e(o,l*oe($.headerUnit))}$.setGanttHeaders(n,o)}return{initGanttWidth:ft,setHeaders:t}}function Zn(e,t){const{setHeaders:n}=qe(),{showCheckbox:s,showExpand:o,headerHeight:r,levelColor:l,dark:a,ganttColumnSize:d,showToday:p,showWeekend:u,headerStyle:f,bodyStyle:v,rowHeight:w}=re(e);function k(m=!1){var R;$.showCheckbox=s.value,$.showExpand=o.value,$.headerHeight=J(r.value),$.levelColor=l.value,$.dark=a.value;const A={[g.key.showToday]:p.value,[g.key.showWeekend]:u.value,[g.key.header]:f.value||{},[g.key.body]:v.value||{},[g.key.columnSize]:d.value};m&&($.rowHeight=J(w.value),$.init({colSize:d.value,rowHeight:(R=w.value)!=null?R:g.size.defaultContentRowHeight})),$.setGanttOptions(A)}(t==null?void 0:t.default)&&$.setNodes(t.default());for(const m in g.slots)(t==null?void 0:t[m])&&$.addSlot(m,t==null?void 0:t[m]);k(!0),Ee(()=>[e.bodyStyle,e.borderColor,e.primaryColor,e.levelColor,e.showCheckbox,e.showExpand,e.headerHeight,e.rowHeight,e.ganttColumnSize,e.showToday,e.showWeekend,e.headerStyle,e.bodyStyle,e.dark],()=>{k()}),Ee(()=>[$.headerUnit],()=>{k(!0)}),Ee(()=>[$.headerUnit,$.ganttOptions.columnSize],()=>{n()})}function eo(){function e(t){["day","week","month"].includes(t)?$.headerUnit=t:(console.warn(T.header,T.invalidProps,`input value '${t}' is not a valid header unit. It should be 'day', 'week' or 'month'.`),$.headerUnit="day")}return{updateGanttHeaderUnit:e}}const xe=kt(new Qn);var le=()=>({GtData:xe});function to(e,t){const{setHeaders:n}=qe(),{IFClickRow:s}=Me();xe.initData(e.value,t.value);const o=c(()=>xe.flatData);return Ee(()=>e,r=>{let l=null;const a=xe.selected.index;a>-1&&(l=o.value[a]),xe.update(r.value,l),n(),a>-1&&xe.selected.index===-1&&s(void 0)},{deep:!0}),{allData:o}}var gt=e=>{const{GtData:t}=le(),{IFClickRow:n,IFDblClickRow:s,IFCheckedRow:o}=Me();function r(f){var v;o((v=f.target)==null?void 0:v.checked,e)}let l=!1;function a(){var f;l?l=!1:(t.setSelected({index:(f=e==null?void 0:e.__uindex)!=null?f:-1,uuid:e==null?void 0:e.uuid}),n(e),l=!0,window.setTimeout(()=>{l=!1},500))}function d(){s(e)}function p(){var f;t.setHovered({index:(f=e==null?void 0:e.__uindex)!=null?f:-1,uuid:e==null?void 0:e.uuid})}function u(){t.setHovered({index:-1})}return{onChangeCheckbox:r,onClickRow:a,onDbClickRow:d,onMouseEnterRow:p,onMouseLeaveRow:u}},no={label:{type:String,required:!0},name:String,width:{type:[Number,String],validator:e=>{const t=J(e)>g.size.minTableColumnWidth;return t||console.error(T.header,T.invalidProps,`column width should be more than "${g.size.minTableColumnWidth}".`),t}},center:{type:Boolean,default:!1},merge:{type:[Function,Boolean],default:()=>!1},dateFormat:String,emptyData:{type:String,default:g.noData},selectable:{type:Boolean,default:!1},columnStyle:{type:[Object,String],default:()=>({})},columnClass:{type:[Object,String],default:()=>({})}};const oo=e=>(rt("data-v-0dc57eb9"),e=e(),at(),e),so=["width","height"],ro=oo(()=>h("path",{d:"M823.110667 437.542194L302.873052 81.236186c-59.893088-41.026392-141.257188 1.871627-141.257188 74.457805v712.610994c0 72.586179 81.364099 115.484198 141.257188 74.457806l520.237615-356.304985c52.364625-35.8413 52.364625-113.074312 0-148.915612z","p-id":"6885"},null,-1)),ao=[ro],lo=D({name:"GanttArrowIcon"}),io=D(P(x({},lo),{props:{size:{type:Number,default:15},direction:{type:String,default:"right",validator:e=>["up","down","left","right"].includes(e)}},setup(e){const t=e,n=H(!1),s=H(!1),o=H(!1),r=H(!0);function l(){switch(n.value=!1,s.value=!1,o.value=!1,r.value=!1,t.direction){case"up":n.value=!0;break;case"down":s.value=!0;break;case"left":o.value=!0;break;default:r.value=!0;break}}return Ie(()=>{l()}),Ee(()=>t.direction,a=>{l()}),(a,d)=>(y(),b("svg",{t:"1594609520750",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6884","data-darkreader-inline-fill":"",width:e.size,height:e.size,style:C({fill:"var(--j-primary-color)"}),class:L({"gt-animation":!0,up:n.value,down:s.value,left:o.value,right:r.value})},ao,14,so))}}));var uo=M(io,[["__scopeId","data-v-0dc57eb9"]]);const Et=H();function co(){return{ganttRef:Et}}var pt=()=>({ganttRef:Et});const zt=H();function ho(){return{rootRef:zt}}var fo=()=>({rootRef:ye(zt)}),Ae=()=>{const{GtParam:e,oneDayWidth:t}=N(),n=c(()=>e.tableHeaders.reduce((o,r)=>o+r.width,0)),s=c(()=>{const o=t.value;return e.ganttHeaders.length*o});return{rowHeight:c(()=>e.rowHeight),tableWidth:ye(n),ganttWidth:ye(s),headerHeight:c(()=>e.headerHeight)}};function go(){const{initGanttWidth:e,setHeaders:t}=qe(),{ganttRef:n}=pt(),s=H();return gn(()=>{s.value=new ResizeObserver(o=>{for(const r of o)e.value=r.contentRect.width,t()})}),Ie(()=>{var o;(n==null?void 0:n.value)&&((o=s.value)==null||o.observe(n.value))}),pn(()=>{s.value=void 0}),{}}const Le=H(!1),Ut=H(0),Fe=H(-1);function Bt(){const{GtParam:e}=N(),{GtData:t}=le(),{rootRef:n}=fo(),s=c(()=>{var u;return((u=n.value)==null?void 0:u.clientWidth)||0});function o(){Le.value=!1,Fe.value=-1}function r(u){var f;Le.value===!1&&(Le.value=!0),Fe.value===-1&&(Fe.value=(f=n.value)==null?void 0:f.offsetLeft),Ut.value=u-Fe.value}function l(u){let f=0;const v=u.pageX,w=e.tableHeaders[e.tableHeaders.length-1].width;document.onmousemove=k=>{var X;let m=k.pageX;m<0&&(m=0);const A=100,R=e.tableHeaders.reduce((z,Z)=>z+Z.width,0),K=m-v;R+K>((X=n.value)==null?void 0:X.clientWidth)-A||w+m-v>g.size.minTableColumnWidth&&(f=m-v,r(m))},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null;const k=e.tableHeaders[e.tableHeaders.length-1].width;e.tableHeaders[e.tableHeaders.length-1].setWidth(k+f),o()}}function a(u,f){let v=0;const w=u.pageX;document.onmousemove=k=>{let m=k.pageX;m<0&&(m=0);let A=g.size.minTableColumnWidth;if(f.key===0){let z=0;z+=e.expandWidth*t.hierarchy,e.showCheckbox&&(z+=e.checkBoxWidth),z>A&&(A=z)}const R=100,K=e.tableHeaders.reduce((z,Z)=>z+Z.width,0),X=m-w;K+X>s.value-R||f.width+m-w>A&&(v=m-w,r(m))},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,f.setWidth(f.width+v),o()}}const d=c(()=>({"gt-hide":!Le.value})),p=c(()=>({left:`${Ut.value}px`}));return{sliderLineClass:d,sliderLineStyle:p,onResizeTableWidth:l,onResizeColumnWidth:a}}function po(){const e=H(30),t=H(e.value/2),n=H(-e.value/2),s=c(()=>({position:" absolute",right:`${n.value}px`,top:`${t.value}px`,zIndex:99})),o=H(null);function r(){Pn(o.value)&&(n.value=o.value)}function l(){if(n.value>=0){o.value=null;return}o.value=n.value,n.value=0}return{btnSize:ye(e),opBtnStyle:s,onOpBtnMouseLeave:r,onOpBtnMouseEnter:l}}var vt=e=>{const t=o=>{let r=!1;return dt(o)||($t(o)?r=o:Dt(o)?r=o(ce(e.data)):o===""&&(r=!0)),r};function n(o){if(dt(o))return{data:ce(e.data),level:e.level+1};const r=e.cloneData(),l=e.options.sl,a=e.options.el,d=o||"yyyy-MM-dd";return r[l]=it(r[l],d),r[a]=it(r[a],d),{data:r,level:e.level+1}}return{isMerge:t,scopeData:n,textData:(o,r,l)=>{const{data:a}=n(r);if(Rt(o)){if(o in a)return a[o];if(o.includes(".")){const[d,...p]=o.split(".");if(d in a)return p.reduce((u,f)=>u[f],a[d])}}return l!=null?l:g.noData}}};const vo=["onClick"],yo=D({name:g.name.column}),_o=D(P(x({},yo),{props:no,setup(e){const t=e,n=lt(),s=Ct(),{dateFormat:o,label:r,emptyData:l,center:a,columnStyle:d,columnClass:p}=re(t),u=s.__key,f=s.data,{GtParam:v}=N(),{isMerge:w,scopeData:k,textData:m}=vt(f),A=c(()=>v.tableHeaders[u].width),R=c(()=>{let W=g.size.defaultTableColumnWidth;A.value>0&&(W=A.value);for(let E=u+1;E<v.colNodes.length;E++){const V=v.colNodes[E];if(w(V.merge))W+=v.tableHeaders[E].width;else break}return W}),K=c(()=>({"--column-width":`${R.value-1}px`,borderColor:"var(--j-content-border-color)"})),X=H(15),z=c(()=>({"--box-size":`${X.value}px`})),Z=c(()=>v.showCheckbox&&u===0),F=c(()=>v.showExpand&&u===0),De=c(()=>f.children.length>0),ee=c(()=>f.level*10),ie=c(()=>f.isExpand),{onChangeCheckbox:de}=gt(f);function se(){f.setExpand(!ie.value)}const{rowHeight:$e}=Ae(),be=c(()=>{let W={"--row-height":`${$e.value}px`,justifyContent:a.value?"center":"flex-start"};return d.value&&Object.keys(d.value).length>0&&(Rt(d.value)?Vn(W,d.value):W=x(x({},W),d.value)),W}),we=c(()=>!!(n==null?void 0:n.default)),Re=c(()=>(n==null?void 0:n.default)&&n.default(k(o==null?void 0:o.value))[0]),ge=c(()=>!we.value&&m(r==null?void 0:r.value,o==null?void 0:o.value,l.value));return(W,E)=>(y(),b("div",{class:L(["gt-column",{"gt-noselect":!W.selectable}]),style:C(i(K))},[i(Z)?(y(),b("input",{key:0,id:"checkbox",class:"gt-column__checkbox",type:"checkbox",name:"checkbox",style:C(i(z)),onChange:E[0]||(E[0]=V=>i(de)(V)),onClick:E[1]||(E[1]=ae(()=>{},["stop"])),onDblclick:E[2]||(E[2]=ae(()=>{},["stop"]))},null,36)):I("",!0),i(F)?(y(),b("div",{key:1,class:L(["gt-column__expand",{"gt-hide":!i(De)}]),style:C(P(x({},i(z)),{marginLeft:`${i(ee)}px`})),onClick:ae(se,["stop"])},[O(uo,{direction:i(ie)?"down":"right"},null,8,["direction"])],14,vo)):I("",!0),h("div",{class:L(["gt-column__chunk",i(p)]),style:C(i(be))},[i(we)?(y(),ne(he(i(Re)),{key:0})):(y(),b(j,{key:1},[He(q(i(ge)),1)],64))],6)],6))}}));var Gt=M(_o,[["__scopeId","data-v-40ba8244"]]),mo={label:{type:String},dateFormat:{type:String},flat:{type:Boolean,default:!1},bgColor:{type:String,default:""},alignment:{type:String,default:"left",validator:e=>["left","center","right"].includes(e)},move:{type:[Function,Boolean],default:()=>!1},resizeLeft:{type:Boolean,default:!1},resizeRight:{type:Boolean,default:!1},emptyData:{type:String,default:g.noData},linkedResize:{type:Boolean},progress:{type:Boolean,default:!1}};const Ao=["onMousedown"],bo={style:{color:"gray","margin-right":"3px",transform:"scale(0.7)"}},wo=["onMousedown"],ko=D({name:g.name.slider}),Co=D(P(x({},ko),{props:mo,setup(e){const t=e,n=lt(),o=Ct().data,{alignment:r,label:l,move:a,dateFormat:d,emptyData:p,bgColor:u,resizeLeft:f,resizeRight:v,linkedResize:w,progress:k}=re(t),{oneDayWidth:m,GtParam:A}=N(),{GtData:R}=le(),K=c(()=>o.start),X=c(()=>o.end),z=c(()=>{var U;let S=(U=o.progress)!=null?U:0;return S>1?S=1:S<0&&(S=0),Math.floor(S*100)}),Z=c(()=>Ne(K.value,X.value)/oe(A.headerUnit)*m.value),F=c(()=>$t(a.value)?a.value:Dt(a.value)?a.value({level:o.level+1,data:ce(o.data)}):!1),De=c(()=>{const U=G(R.start).setHours(0);return Ne(U,K.value)/oe(A.headerUnit)*m.value}),ee=c(()=>{let S;return(n==null?void 0:n.content)&&(S=n.content(se(d==null?void 0:d.value))[0]),S&&st.exports.isSymbol(S.type)?void 0:S}),ie=c(()=>!!(n==null?void 0:n.left)),de=c(()=>!!(n==null?void 0:n.right)),{scopeData:se,textData:$e}=vt(o),be=c(()=>{let S;return(n==null?void 0:n.content)?S=n.content(se(d==null?void 0:d.value))[0]:(n==null?void 0:n.default)&&(S=n.default(se(d==null?void 0:d.value))[0]),S&&st.exports.isSymbol(S.type)?void 0:S}),we=c(()=>(n==null?void 0:n.left)&&n.left(se(d==null?void 0:d.value))[0]),Re=c(()=>(n==null?void 0:n.right)&&n.right(se(d==null?void 0:d.value))[0]),ge=c(()=>({"gt-slider-content":!ee.value,"gt-custom-slider-content":ee.value,"gt-noselect":!0,"gt-text-nowrap":!0})),W=c(()=>{switch(r.value){case"center":return"center";case"right":return"flex-end";default:return"flex-start"}}),E=c(()=>u.value||"var(--j-primary-color)"),V=c(()=>!ee.value&&k.value),Ve=c(()=>({justifyContent:W.value,borderRadius:"3px",padding:`0px ${ee.value||W.value==="center"?0:20}px`})),je=c(()=>({backgroundColor:E.value,width:`${z.value}%`,borderRadius:"3px",justifyContent:"end"})),Qe=c(()=>({filter:V.value?"sepia(1)":"none",borderRadius:"3px",backgroundColor:ee.value?"":E.value})),Ye=c(()=>({"gt-slider-ctrl__left":!ie.value})),Ke=c(()=>({"gt-slider-ctrl__right":!de.value}));function ke(S){return S?{opacity:1,height:"100%"}:{opacity:0}}const At=c(()=>de.value?x({transition:"all 0.2s",right:"0"},ke(Ce.value&&v.value)):x({backgroundColor:E.value},ke(Ce.value&&v.value))),Ge=c(()=>ie.value?x({transition:"all 0.2s",left:"0"},ke(Ce.value&&f.value)):x({backgroundColor:E.value},ke(Ce.value&&f.value))),Xe=c(()=>$e(l==null?void 0:l.value,d==null?void 0:d.value,p.value)),Qt=c(()=>({width:`${Z.value}px`,left:`${De.value}px`,backgroundColor:!ee.value&&!k.value?E.value:""})),Ce=H(!1),Ze=H(!1);function Yt(){Ze.value=!0,!!F.value&&(Ce.value=!0)}function Kt(){Ze.value=!1,!!F.value&&(Ce.value=!1)}function Xt(S){!F.value||et(S,"move")}function Zt(S){!F.value||et(S,"left")}function en(S){!F.value||et(S,"right")}const{IFMoveSlider:tn,IFMoveProgress:nn}=Me(),{setHeaders:on}=qe();function et(S,U=""){const ue=S.pageX,Se=G(o.start),Oe=G(o.end),pe=[o.data];document.onmousemove=tt=>{let nt=tt.pageX;nt<0&&(nt=0);const bt=(nt-ue)/m.value*oe(A.headerUnit);(U==="move"||U==="left")&&o.setStart(G(_e(Se,bt)),A.headerUnit,w.value,pe),(U==="move"||U==="right")&&o.setEnd(G(_e(Oe,bt)),A.headerUnit,w.value,pe)},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,!(Y(o.start,Se)==="e"&&Y(o.end,Oe)==="e")&&(tn(pe,{start:Se,end:Oe}),sn())}}function sn(){Y(o.start,R.start)==="l"&&R.setStart(o.start),Y(o.end,R.end)==="r"&&R.setEnd(o.end),on()}function rn(S){var Se;if(!F.value)return;const U=S.pageX,ue=(Se=o.progress)!=null?Se:0;document.onmousemove=Oe=>{let pe=Oe.pageX;pe<0&&(pe=0);const tt=ue+(pe-U)/Z.value;o.setProgress(tt)},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,nn(o,ue)}}return(S,U)=>(y(),b("div",{class:L(["gt-slider",{"gt-shadow":!S.flat}]),style:C(i(Qt)),onMousedown:ae(Xt,["stop"]),onMouseenter:Yt,onMouseleave:Kt},[i(V)?(y(),b("div",{key:0,class:L(i(ge)),style:C(i(Qe))},null,6)):I("",!0),i(V)?(y(),b("div",{key:1,class:L(i(ge)),style:C(i(je))},[h("span",bo,q(i(z))+"% ",1)],6)):I("",!0),h("div",{class:L(i(ge)),style:C(i(Ve)),onSelectstart:U[0]||(U[0]=()=>!1)},[i(be)?(y(),ne(he(i(be)),{key:0})):(y(),b(j,{key:1},[He(q(i(Xe)),1)],64))],38),h("div",{class:L(["gt-slider-chunk",i(Ye)]),style:C(i(Ge)),onMousedown:U[1]||(U[1]=ae(ue=>i(f)?Zt(ue):null,["stop"]))},[i(ie)?(y(),ne(he(i(we)),{key:0})):I("",!0)],38),h("div",{class:L(["gt-slider-chunk",i(Ke)]),style:C(i(At)),onMousedown:U[2]||(U[2]=ae(ue=>i(v)?en(ue):null,["stop"]))},[i(de)?(y(),ne(he(i(Re)),{key:0})):I("",!0)],38),i(V)&&i(o).children.length===0?(y(),b("div",{key:2,class:"gt-slider-progress-btn",style:C({left:`${i(z)}%`,opacity:Ze.value?1:0}),onMousedown:ae(rn,["stop"])},null,44,wo)):I("",!0)],46,Ao))}}));var yt=M(Co,[["__scopeId","data-v-2e33e1f3"]]),So={data:{type:Array,default:()=>[]},dataIndex:{type:String,required:!0,validator:e=>{if(!e)throw new Error(`${T.header+T.invalidProps}"dataIndex" should be a valid string.`);return!!e}},startKey:{type:String,default:g.key.start},endKey:{type:String,default:g.key.end},headerHeight:{type:[Number,String],default:g.size.defaultHeaderHeight,validator:e=>{const t=J(e)>=g.size.minHeaderHeight;if(!t)throw new Error(`${T.header+T.invalidProps}"headerHeight" should be at least ${g.size.minHeaderHeight}.`);return t}},rowHeight:{type:[Number,String],default:g.size.defaultContentRowHeight,validator:e=>{const t=J(e)>=g.size.minContentRowHeight;if(!t)throw new Error(`${T.header+T.invalidProps}"rowHeight" should be at least ${g.size.minContentRowHeight}.`);const n=J(e)<=g.size.maxContentRowHeight;if(!n)throw new Error(`${T.header+T.invalidProps}"rowHeight" should be no more than ${g.size.maxContentRowHeight}.`);return t&&n}},border:{type:Number,default:1,validator:e=>{const t=J(e)>=0;if(!t)throw new Error(`${T.header+T.invalidProps}"border" should be a positive integer.`);return t}},borderColor:{type:String,default:""},showCheckbox:{type:Boolean},showExpand:{type:Boolean,default:!0},expandAll:{type:Boolean,default:!0},ganttColumnSize:{type:String,default:"normal",validator:e=>["small","normal","large"].includes(e)},showToday:{type:Boolean,default:!0},showWeekend:{type:Boolean,default:!0},levelColor:{type:Array,default:()=>[]},headerStyle:{type:Object,defalut:()=>({})},bodyStyle:{type:Object,default:()=>({})},dark:{type:Boolean,default:!1},primaryColor:{type:String,default:""},showSettingBtn:{type:Boolean,default:!0}};const Tt=H();function Ho(){return{tableRef:Tt}}var xo=()=>({tableRef:Tt});const It=H(0),Mt=H(0),Nt=H(g.size.defaultScrollBarHeight);var Wt=()=>{const{ganttRef:e}=pt(),{tableRef:t}=xo();function n(r){const{deltaY:l}=r;e.value&&(e.value.scrollTop+=l)}function s(){var r;if(t.value){const l=(r=e.value)==null?void 0:r.scrollTop;It.value=l,t.value.scrollTop=l}}function o(){t.value&&e.value&&(Nt.value=t.value.offsetHeight-e.value.clientHeight),t.value&&(Mt.value=t.value.offsetHeight)}return Ie(o),vn(o),{scrollTop:ye(It),rootHeight:ye(Mt),scrollBarHeight:ye(Nt),tableWheelHandle:n,ganttWheelHandle:s}},Do=e=>{const{rowHeight:t}=Ae(),{scrollTop:n,rootHeight:s}=Wt(),o=1,r=c(()=>{const d=Math.ceil(n.value/t.value);return d-o>0?d-o:0}),l=c(()=>{const d=Math.ceil(s.value/t.value),p=Math.ceil(n.value/t.value)+d+o;return p>e.value.length?e.value.length:p});return{inView:c(()=>e.value.slice(r.value,l.value))}};const $o=/^rgb(a)?\((\d{1,3}),(\d{1,3}),(\d{1,3}),?([01]?\.?\d*?)?\)$/;function Ro(e){if(typeof e!="string")throw new TypeError("Expected a string");e=e.replace(/^#/,""),e.length===3?e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]:e.length===4&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=parseInt(e,16);return e.length>6?{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:Math.round((t&255)/2.55)}:{r:t>>16,g:t>>8&255,b:t&255}}function Oo(e){if(typeof e!="string")throw new TypeError("Expected a string");const t=e.replace(/ /g,""),n=$o.exec(t);if(n===null)return Ro(t);const s={r:Math.min(255,parseInt(n[2],10)),g:Math.min(255,parseInt(n[3],10)),b:Math.min(255,parseInt(n[4],10))};if(n[1]){const o=parseFloat(n[5]);s.a=Math.min(1,Number.isNaN(o)===!0?1:o)*100}return s}function Eo({r:e,g:t,b:n,a:s}){const o=s!==void 0;if(e=Math.round(e),t=Math.round(t),n=Math.round(n),e>255||t>255||n>255||o&&s>100)throw new TypeError("Expected 3 numbers below 256 (and optionally one below 100)");const r=o?(Math.round(255*s/100)|1<<8).toString(16).slice(1):"";return`#${(n|t<<8|e<<16|1<<24).toString(16).slice(1)}${r}`}function qt(e,t){if(typeof e!="string")throw new TypeError("Expected a string as color");if(t===void 0||t<0||t>1)throw new TypeError("Expected offset to be between 0 and 1");const{r:n,g:s,b:o}=Oo(e);return Eo({r:n,g:s,b:o,a:Math.round(Math.min(1,Math.max(0,t))*100)})}function Pe(){const{GtParam:e}=N(),t=c(()=>e.dark),n=c(()=>t.value?"dark":"default");return{dark:t,colorSelectStr:n}}var Ue=()=>{const{GtParam:e,oneDayWidth:t}=N(),{GtData:n}=le(),{rowHeight:s}=Ae(),{colorSelectStr:o}=Pe(),r=c(()=>u=>{var v;const f=((v=e.ganttOptions.body)==null?void 0:v.bgColor)||"var(--j-content-bg-color)";return u!==void 0?{backgroundColor:`${e.levelColor[u]||f} !important`}:{}}),l=c(()=>u=>{var f;return x({height:`${s.value}px`,borderColor:"var(--j-content-border-color)",color:(f=e.ganttOptions.body)==null?void 0:f.textColor},r.value(u))}),a=c(()=>u=>{var f;return x({height:`${s.value}px`,borderColor:"var(--j-content-border-color)",color:(f=e.ganttOptions.body)==null?void 0:f.textColor,backgroundSize:`${t.value*(e.headerUnit==="week"?7:1)}px`,backgroundImage:e.headerUnit==="day"?"linear-gradient(270deg, var(--j-content-border-color) 1px, transparent 0)":""},r.value(u))}),d=c(()=>(u,f,v=!0)=>{var k,m,A;let w={};return v&&(n.selected.index===u&&n.selected.uuid===f&&(w={backgroundColor:`${qt(((k=e.ganttOptions.body)==null?void 0:k.selectColor)||g.color.selected[o.value],.5)} !important`}),n.hovered.index===u&&n.hovered.uuid===f&&(w={backgroundColor:`${qt(((A=(m=e.ganttOptions)==null?void 0:m.body)==null?void 0:A.hoverColor)||g.color.hovered[o.value],.5)} !important`})),x({height:`${s.value}px`,position:"absolute",width:"100%",top:`${s.value*u}px`},w)}),p=c(()=>{var u,f;return{backgroundColor:`${(u=e.ganttOptions.header)==null?void 0:u.bgColor}`,borderColor:"var(--j-content-border-color)",color:`${(f=e.ganttOptions.header)==null?void 0:f.textColor}`}});return{tableRowStyle:l,ganttRowStyle:a,rowWrapStyle:d,headerStyle:p}};const zo=D({name:g.name.tableRow}),Uo=D(P(x({},zo),{props:{data:null},setup(e){const t=e,{tableRowStyle:n}=Ue(),{GtParam:s}=N(),{isMerge:o}=vt(t.data),r=s.colNodes.filter(u=>!o(u.merge)),{onClickRow:l,onDbClickRow:a,onMouseEnterRow:d,onMouseLeaveRow:p}=gt(t.data);return(u,f)=>(y(),b("div",{class:"gt-table-row",style:C(i(n)(e.data.level)),onClick:f[0]||(f[0]=(...v)=>i(l)&&i(l)(...v)),onDblclick:f[1]||(f[1]=(...v)=>i(a)&&i(a)(...v)),onMouseenter:f[2]||(f[2]=(...v)=>i(d)&&i(d)(...v)),onMouseleave:f[3]||(f[3]=(...v)=>i(p)&&i(p)(...v))},[e.data?(y(!0),b(j,{key:0},ve(i(r),v=>(y(),ne(he(v.node),{key:v.key,data:e.data},null,8,["data"]))),128)):I("",!0)],36))}}));var Lt=M(Uo,[["__scopeId","data-v-13c296d8"]]);const Bo=D({name:g.name.ganttRow}),Go=D(P(x({},Bo),{props:{data:null},setup(e){var u,f;const t=e,{data:n}=re(t),s=H((f=(u=n.value)==null?void 0:u.uuid)!=null?f:ct(12)),{GtParam:o}=N(),r=c(()=>o.sliderNode),{onClickRow:l,onDbClickRow:a,onMouseEnterRow:d,onMouseLeaveRow:p}=gt(n.value);return(v,w)=>(y(),b("div",{key:s.value,class:"gt-gantt-row",onClick:w[0]||(w[0]=(...k)=>i(l)&&i(l)(...k)),onDblclick:w[1]||(w[1]=(...k)=>i(a)&&i(a)(...k)),onMouseenter:w[2]||(w[2]=(...k)=>i(d)&&i(d)(...k)),onMouseleave:w[3]||(w[3]=(...k)=>i(p)&&i(p)(...k))},[i(n)?(y(),b(j,{key:0},[i(r)?(y(),ne(he(i(r)),{key:0,data:i(n)},null,8,["data"])):(y(),ne(yt,{key:1,data:i(n)},null,8,["data"]))],64)):I("",!0)],32))}}));var Ft=M(Go,[["__scopeId","data-v-4631398e"]]);const To=D({name:g.name.ganttBackgroundRow}),Io=D(P(x({},To),{props:{data:null},setup(e){var r,l;const t=e,{data:n}=re(t),{ganttRowStyle:s}=Ue(),o=H((l=(r=n.value)==null?void 0:r.uuid)!=null?l:ct(12));return(a,d)=>(y(),b("div",{key:o.value,class:"gt-gantt-row",style:C(i(s)(i(n).level))},null,4))}}));var _t=M(Io,[["__scopeId","data-v-cc413e46"]]);const Mo=D({components:{[Lt.name]:Lt,[Ft.name]:Ft,[_t.name]:_t}}),No=D(P(x({},Mo),{props:{data:null,name:null},setup(e){const t=e,{data:n}=re(t),{inView:s}=Do(n),{rowWrapStyle:o}=Ue(),r=c(()=>t.name!==_t.name);return(l,a)=>(y(),ne(yn,{tag:"div",name:"gt-update-animate"},{default:te(()=>[(y(!0),b(j,null,ve(i(s),d=>(y(),ne(he(i(Jn)(e.name)),{key:d.uuid,data:d,style:C(i(o)(d.__uindex,d.uuid,i(r))),class:"gt-update-animate-item"},null,8,["data","style"]))),128))]),_:1}))}}));var mt=M(No,[["__scopeId","data-v-294671bf"]]);const Wo={class:"gt-table-header-chunk-content"},qo=["onMousedown"],Lo=D({name:g.name.tableHeader}),Fo=D(P(x({},Lo),{setup(e){const{headerStyle:t}=Ue(),{GtParam:n}=N(),s=c(()=>n.tableHeaders),{onResizeColumnWidth:o}=Bt();return(r,l)=>(y(),b("div",{class:"gt-table-header gt-noselect",style:C(i(t))},[(y(!0),b(j,null,ve(i(s),a=>(y(),b("div",{key:a.key,class:"gt-table-header-chunk",style:C(x({width:`${a.width}px`},i(t)))},[h("div",Wo,q(a.text),1),a.key!==i(s).length-1?(y(),b("div",{key:0,class:"gt-header__table-chunk__move-slider",onMousedown:d=>i(o)(d,a)},null,40,qo)):I("",!0)],4))),128))],4))}}));var Po=M(Fo,[["__scopeId","data-v-5bde0fdd"]]);const Jo=e=>(rt("data-v-bafe6a9c"),e=e(),at(),e),Vo=Jo(()=>h("div",{class:"gt-table-bottom-bar"},null,-1)),jo=D({props:{rowData:null},emits:["table-scroll"],setup(e,{emit:t}){const{rowHeight:n}=Ae();function s(r){r.stopPropagation(),t("table-scroll",r)}const{tableRef:o}=Ho();return(r,l)=>(y(),b("div",{ref_key:"tableRef",ref:o,class:"gt-table",onWheelPassive:s,onDOMMouseScrollPassive:s},[O(Po),h("div",{class:"gt-table-row-wrap",style:C({height:`${i(n)*e.rowData.length}px`,position:"relative"})},[O(mt,{data:e.rowData,name:i(g).name.tableRow},null,8,["data","name"])],4),Vo],544))}});var Qo=M(jo,[["__scopeId","data-v-bafe6a9c"]]);function Pt(e,t){const{GtParam:n}=N(),s=new Date(it(e)).setHours(0);return Ne(s,t)/oe(n.headerUnit)}function Jt(){const{GtParam:e}=N();function t(n){if(e.ganttHeaders.length===0)return!1;const s=e.startDate.setHours(0),o=e.endDate.setHours(24);return!(n.getTime()<s||n.getTime()>o)}return{isInArea:t}}function Vt(){const{GtParam:e,oneDayWidth:t}=N(),{GtData:n}=le(),{isInArea:s}=Jt(),{colorSelectStr:o}=Pe(),r=c(()=>s(G())),l=c(()=>r.value&&e.ganttOptions.showToday),a=c(()=>{const v=new Date().setHours(0);return J(Pt(n.start,v)*t.value)}),d=c(()=>{switch(e.ganttOptions.columnSize){case"large":return 2;case"normal":return 1;default:return 0}}),p=c(()=>{var v;return{left:`${a.value-d.value}px`,width:`${e.headerUnit==="day"?t.value:5}px`,height:"100%","background-color":((v=e.ganttOptions.body)==null?void 0:v.todayColor)||g.color.today[o.value]}}),u=c(()=>e.headerUnit==="day"?t.value>50?50:t.value:15),f=c(()=>{var v;return{left:`${e.headerUnit==="day"?a.value+(t.value-u.value)/2:a.value-u.value/2+2}px`,"border-width":`${u.value/2}px`,"border-top-color":(v=e.ganttOptions.body)==null?void 0:v.todayColor}});return{isTodayInArea:r,showTodayLine:l,todayLineStyle:p,todayLeft:a,todayArrowStyle:f}}function Yo(){const{GtData:e}=le(),{GtParam:t,oneDayWidth:n}=N(),{ganttWidth:s}=Ae(),{colorSelectStr:o}=Pe(),r=c(()=>{const a=[];if(!t.ganttOptions.showWeekend||t.headerUnit!=="day")return a;let p=G(e.start).getDay(),u=0;for(p===0&&(a.push(p),p+=6,u+=6);p>0&&p<6;)p++,u++;for(;u*n.value<s.value;)a.push(u),a.push(++u),++p,p+=6,u+=6;return a}),l=c(()=>a=>{var d;return{left:`${a*n.value}px`,width:`${n.value}px`,height:"100%","background-color":((d=t.ganttOptions.body)==null?void 0:d.weekendColor)||g.color.weekend[o.value]}});return{weekendList:r,weekendStyle:l}}function Ko(){const{GtData:e}=le(),{oneDayWidth:t}=N(),{isInArea:n}=Jt(),{INoDateError:s}=Me(),{ganttRef:o}=pt();function r(l){if(!o.value)return;if((dt(l)||!ut(l))&&(l=new Date),!n(l)){s(l);return}l.setHours(0);const a=J(Pt(e.start,l)*t.value);let d=0,p=0;if(o.value.scrollLeft<a?p=a-o.value.clientWidth/3:d=Math.abs(o.value.clientWidth/6-a),d&&p)return;const u=1e3,f=d||p;let v=null,w=0,k;function m(A){if(v!==null&&o.value){if(o.value.scrollLeft<d||p>0&&o.value.scrollLeft>=p||k===o.value.scrollLeft)return;const R=f*(A-v)/u;if(d)w-=R;else if(p)w+=R;else return;k=o.value.scrollLeft,o.value.scrollLeft+=w}v=A,window.requestAnimationFrame(m)}window.requestAnimationFrame(m)}return{handleJumpTo:r,ganttRef:o}}const Xo={class:"gt-gantt-header-chunk-unit"},Zo={class:"gt-gantt-header-chunk-one"},es=D({name:g.name.ganttHeader}),ts=D(P(x({},es),{setup(e){const{GtParam:t,oneDayWidth:n}=N(),{headerStyle:s}=Ue(),o=c(()=>t.ganttHeaders),r=c(()=>d=>({width:`${n.value*d}px`,borderColor:"var(--j-content-border-color)"})),{showTodayLine:l,todayArrowStyle:a}=Vt();return(d,p)=>(y(),b("div",{class:"gt-gantt-header gt-noselect",style:C(i(s))},[i(l)?(y(),b("div",{key:0,class:"gt-gantt-header-today-arrow",style:C(i(a))},null,4)):I("",!0),(y(!0),b(j,null,ve(i(o).list,(u,f)=>(y(),b("div",{key:f,class:"gt-gantt-header-chunk",style:C(i(r)(u.one.reduce((v,w)=>w.len+v,0)))},[h("div",Xo,q(u.unit),1),h("div",Zo,[(y(!0),b(j,null,ve(u.one,(v,w)=>(y(),b("div",{key:w,style:C(i(r)(v.len))},q(v.text),5))),128))])],4))),128))],4))}}));var ns=M(ts,[["__scopeId","data-v-06e5025c"]]);const os=D({props:{rowData:null},emits:["gantt-scroll"],setup(e,{emit:t}){function n(u){t("gantt-scroll",u)}const{rowHeight:s,ganttWidth:o}=Ae(),{showTodayLine:r,todayLineStyle:l}=Vt(),{weekendList:a,weekendStyle:d}=Yo(),{ganttRef:p}=co();return(u,f)=>(y(),b("div",{ref_key:"ganttRef",ref:p,class:"gt-gantt",onWheelPassive:n,onDOMMouseScrollPassive:n,onScrollPassive:n},[O(ns,{style:C({width:`${i(o)}px`})},null,8,["style"]),h("div",{class:"gt-gantt-row-wrap",style:C({width:`${i(o)}px`,height:`${i(s)*e.rowData.length}px`,position:"relative"})},[O(mt,{data:e.rowData,name:i(g).name.ganttBackgroundRow},null,8,["data","name"]),i(r)?(y(),b("div",{key:0,class:"gt-today-line",style:C(i(l))},null,4)):I("",!0),(y(!0),b(j,null,ve(i(a),v=>(y(),b("div",{key:v,class:"gt-weekend-line",style:C(i(d)(v))},null,4))),128)),O(mt,{data:e.rowData,name:i(g).name.ganttRow},null,8,["data","name"])],4)],544))}});var ss=M(os,[["__scopeId","data-v-3058ffc8"]]);const rs=D({name:"GanttBtn",props:{icon:{type:String,required:!0},turn:{type:Boolean},size:{type:Number,default:30}}});function as(e,t,n,s,o,r){return y(),b("div",{class:L(["gt-btn-wrap",{"turn-animation":e.turn}]),style:C({width:`${e.size}px`,height:`${e.size}px`})},[h("i",{class:L(`icon ${e.icon}`)},null,2)],6)}var ls=M(rs,[["render",as],["__scopeId","data-v-3eb2e2b4"]]);const is=D({name:"GanttSlider",props:{modelValue:Number,min:{type:Number,default:0},max:{type:Number,defalut:100}},setup(e,t){const{modelValue:n}=re(e);return{value:c({get:()=>n.value,set:o=>{t.emit("update:modelValue",o)}})}}}),ds={class:"gt-slider-bar"},us=["min","max"],cs={class:"show-val gt-shadow"};function hs(e,t,n,s,o,r){return y(),b("div",ds,[_n(h("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>e.value=l),type:"range",min:e.min,max:e.max},null,8,us),[[mn,e.value]]),h("div",cs,q(e.value),1)])}var fs=M(is,[["render",hs],["__scopeId","data-v-61f471d9"]]);const Be=e=>(rt("data-v-6f4679d9"),e=e(),at(),e),gs=Be(()=>h("div",{class:"gt-text-title",style:{"margin-bottom":"1rem"}},"\u7CFB\u7EDF\u8BBE\u7F6E",-1)),ps={style:{display:"inline-flex",gap:"1rem"}},vs={style:{display:"inline-block"}},ys=Be(()=>h("div",{class:"gt-text-secondary-title"},"\u4FEE\u6539\u7518\u7279\u56FE\u5217\u5BBD",-1)),_s={style:{display:"flex",gap:"0.5rem"}},ms={style:{display:"inline-block"}},As=Be(()=>h("div",{class:"gt-text-secondary-title"},"\u4FEE\u6539\u884C\u9AD8",-1)),bs={style:{"margin-top":"1rem"}},ws=Be(()=>h("div",{class:"gt-text-title",style:{"margin-bottom":"1rem"}},"\u7518\u7279\u663E\u793A",-1)),ks={style:{display:"flex",gap:"1rem"}},Cs=Be(()=>h("div",{class:"gt-line gt-shadow"},null,-1)),Ss=D({name:"GanttDrawer"}),Hs=D(P(x({},Ss),{props:{show:{type:Boolean}},setup(e){const t=e,{show:n}=re(t),s=H(2e3),o=H(),{GtParam:r}=N();function l(m){r.setGanttOptions({[g.key.columnSize]:m})}function a(m){r.rowHeight=m}function d(){r.resetSize()}function p(m){r.headerUnit=m}const u=c(()=>({"min-width":"200px",right:n.value?"0px":`-${s.value+10}px`})),f=c(()=>r.getSlot(g.slots.settings)),v=c({get:()=>J(r.rowHeight,g.size.defaultContentRowHeight),set:m=>a(m)}),w=c(()=>g.size.minContentRowHeight),k=c(()=>g.size.maxContentRowHeight);return Ie(()=>{var m,A;s.value=(A=(m=o.value)==null?void 0:m.clientWidth)!=null?A:2e3}),(m,A)=>(y(),b("div",{ref_key:"drawerRef",ref:o,class:"gt-operation-drawer",style:C(i(u))},[h("div",null,[gs,h("div",ps,[h("div",vs,[ys,h("div",_s,[h("button",{class:"gt-drawer-reset-btn",style:{"font-size":"10px"},onClick:A[0]||(A[0]=()=>l("small"))}," \u5C0F "),h("button",{class:"gt-drawer-reset-btn",style:{"font-size":"10px"},onClick:A[1]||(A[1]=()=>l("normal"))}," \u4E2D "),h("button",{class:"gt-drawer-reset-btn",style:{"font-size":"10px"},onClick:A[2]||(A[2]=()=>l("large"))}," \u5927 ")])]),h("div",ms,[As,O(fs,{modelValue:i(v),"onUpdate:modelValue":A[3]||(A[3]=R=>An(v)?v.value=R:null),style:{margin:"5px 20px 10px 0px"},min:i(w),max:i(k)},null,8,["modelValue","min","max"])]),h("div",{style:{margin:"auto 0"}},[h("button",{class:"gt-drawer-reset-btn",onClick:d},"\u91CD\u7F6E")])])]),h("div",bs,[ws,h("div",ks,[h("button",{class:"gt-drawer-reset-btn",onClick:A[4]||(A[4]=()=>p("day"))}," \u65E5 "),h("button",{class:"gt-drawer-reset-btn",onClick:A[5]||(A[5]=()=>p("week"))}," \u5468 "),h("button",{class:"gt-drawer-reset-btn",onClick:A[6]||(A[6]=()=>p("month"))}," \u6708 ")])]),Cs,i(f)?(y(),ne(he(i(f)),{key:0})):I("",!0)],4))}}));var xs=M(Hs,[["__scopeId","data-v-6f4679d9"]]);const Je=H(!1);var Ds=()=>{function e(){Je.value=!0}function t(){Je.value=!1}const n=c(()=>({"gt-mask-show":Je.value,"gt-mask-hide":!Je.value}));return{showMask:e,hideMask:t,maskClass:n}},$s=()=>{const{GtData:e}=le(),{handleJumpTo:t}=Ko(),{updateGanttHeaderUnit:n}=eo();function s(o){e.setSelectedByData(o)}return{setSelected:s,jumpToDate:t,setHeaderUnit:n}};const Rs={key:0,class:"gt-root-btn-mask"},Os=["onClick"],Es=D({name:g.name.root}),zs=D(P(x({},Es),{props:So,emits:["row-click","row-dbl-click","row-checked","move-slider","move-progress","no-date-error"],setup(e,{expose:t,emit:n}){const s=e,o=lt(),{data:r,border:l,showExpand:a,expandAll:d,startKey:p,endKey:u,borderColor:f,primaryColor:v,showSettingBtn:w}=re(s),{rootRef:k}=ho();qn(n),Zn(s,o);const m=c(()=>({isExpand:a.value?d.value:!0,startLabel:p.value,endLabel:u.value})),{allData:A}=to(r,m),{tableWheelHandle:R,ganttWheelHandle:K,scrollBarHeight:X}=Wt(),{tableWidth:z,headerHeight:Z}=Ae();go();const{colorSelectStr:F}=Pe(),De=c(()=>({"--root-border":`${l.value}px`,"--table-width":`${z.value}px`,"--scrollbar-width":`${X.value}px`,"--header-height":`${Z.value}px`,"--j-content-border-color":f.value||g.color.border[F.value],"--j-primary-color":v.value||g.color.primary[F.value],"--j-content-bg-color":g.color.background[F.value],"--j-text-color":g.color.text[F.value]})),{sliderLineClass:ee,sliderLineStyle:ie,onResizeTableWidth:de}=Bt(),{opBtnStyle:se,btnSize:$e,onOpBtnMouseLeave:be,onOpBtnMouseEnter:we}=po(),{maskClass:Re,hideMask:ge,showMask:W}=Ds();function E(){ge(),je()}const V=H(!1);function Ve(){V.value=!0}function je(){V.value=!1}function Qe(){W(),Ve()}const{setSelected:Ye,jumpToDate:Ke,setHeaderUnit:ke}=$s();return t({setSelected:Ye,jumpToDate:Ke,setHeaderUnit:ke}),(At,Ge)=>(y(),b("div",{ref_key:"rootRef",ref:k,class:"gt-root",style:C(i(De))},[i(w)?(y(),b("div",Rs,[O(ls,{icon:"more",size:i($e),style:C(i(se)),onMouseenterPassive:i(we),onMouseleavePassive:i(be),onClick:ae(Qe,["stop"])},null,8,["size","style","onMouseenterPassive","onMouseleavePassive","onClick"])])):I("",!0),h("div",{class:L(["gt-column-slider-line",i(ee)]),style:C(i(ie))},null,6),h("div",{class:"gt-table-slider-line",style:C({left:`${i(z)-2}px`}),onMousedown:Ge[0]||(Ge[0]=(...Xe)=>i(de)&&i(de)(...Xe))},null,36),O(Qo,{"row-data":i(A),onTableScroll:i(R)},null,8,["row-data","onTableScroll"]),O(ss,{"row-data":i(A),onGanttScroll:i(K)},null,8,["row-data","onGanttScroll"]),O(xs,{show:V.value},null,8,["show"]),h("div",{class:L(i(Re)),onClick:ae(E,["stop"])},null,10,Os)],4))}}));var jt=M(zs,[["__scopeId","data-v-2cfed322"]]);const Us=[jt,Gt,yt],Bs=e=>{e.component(g.name.root,jt),e.component(g.name.column,Gt),e.component(g.name.slider,yt)};var Gs=x({install:Bs},Us);bn(Wn).use(Gs).mount("#app");
