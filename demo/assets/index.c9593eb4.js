var pn=Object.defineProperty,vn=Object.defineProperties;var _n=Object.getOwnPropertyDescriptors;var Tt=Object.getOwnPropertySymbols;var yn=Object.prototype.hasOwnProperty,mn=Object.prototype.propertyIsEnumerable;var rt=(e,t,n)=>t in e?pn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x=(e,t)=>{for(var n in t||(t={}))yn.call(t,n)&&rt(e,n,t[n]);if(Tt)for(var n of Tt(t))mn.call(t,n)&&rt(e,n,t[n]);return e},L=(e,t)=>vn(e,_n(t));var m=(e,t,n)=>(rt(e,typeof t!="symbol"?t+"":t,n),n);import{d as H,r as Ie,o as y,c as k,a as f,b as R,w as te,e as N,t as W,F,f as re,g as we,h as C,i as _e,j as B,k as An,I as bn,l as lt,m as Me,n as h,p as se,q as ke,s as Ne,u as S,v as j,x as it,y as ut,z as le,A as wn,B as kn,C as dt,D as Ot,E as i,G as ie,H as P,J as ue,K as Cn,T as Sn,L as Hn,M as xn,N as Dn,O as $n,P as Rn}from"./vendor.810e0755.js";const Tn=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}};Tn();var On="data:image/png;base64,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";var E=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n};let Q=1;const En=H({name:"App",data(){return{isDark:!1,changeColor:0,dataList:[],showCheckbox:!0,showWeekend:!0,showToday:!0,showExpand:!0,levelColor:[],headerStyle:{bgColor:"",textColor:""},bodyStyle:{textColor:"",todayColor:"",weekendColor:""},colSize:"normal",showSettingBtn:!0}},created(){let e=2,t=15;for(let n=0;n<1e3;n++){if(e>t){let s=e;e=t,t=s}this.dataList.push({id:n,startTime:`2021-08-${e++}`,endTime:`2021-10-${t++}`,ttt:{a:"aaa",b:"bbb"},name:"\u6211\u7684\u6570\u636E: "+e,children:[]}),e>30&&(e=2),t>30&&(t=5)}for(let n=0;n<50;n++){if(e>t){let s=e;e=t,t=s}[0,1,3,4,5,7,9].forEach(s=>{this.dataList[s].children.push({id:n,startTime:`2021-08-${e++}`,endTime:`2021-10-${t++}`,name:"\u5B50\u6570\u636E: "+e,ttt:{a:"s-aaa",b:"s-bbb"},children:[]})}),e>30&&(e=2),t>30&&(t=5)}for(let n=0;n<50;n++){if(e>t){let s=e;e=t,t=s}[0,2].forEach(s=>{this.dataList[0].children[s].children.push({id:n,startTime:`2021-08-${e++}`,endTime:`2021-10-${t++}`,name:"\u5B59\u6570\u636E: "+e,ttt:{a:"gs-aaa",b:"gs-bbb"},children:[]})}),e>30&&(e=2),t>30&&(t=5)}},methods:{rowClick:function(e){console.log("click row data:",e)},rowDblClick:function(e){console.log("double click row data:",e)},rowChecked:function(e,t){console.log("check row:",e,t)},moveSlider:function(e,t){console.log("move slider:",e,t)},noDateError:function(e){console.log(`${e}\u4E0D\u5728\u8303\u56F4\u5185`)},merge3:function(e){return e.id%3!=0},merge4:function(e){return e.id%4!=0},merge5:function(e){return e.id%5!=0},handleMove:function({level:e}){return e!==1},handleClickReloadData:function(){let e=2,t=15;for(let n=0;n<5e4;n++){if(e>t){let s=e;e=t,t=s}this.dataList.push({id:n,startTime:`2020-06-${e++}`,endTime:`2020-08-${t++}`,ttt:{a:"aaa",b:"bbb"},name:"\u6211\u7684\u6570\u636E: "+e,children:[]}),e>30&&(e=2),t>30&&(t=5)}for(let n=0;n<5;n++){if(e>t){let s=e;e=t,t=s}[0,1,3,4,5,7,9].forEach(s=>{this.dataList[s].children.push({id:n,startTime:`2021-06-${e++}`,endTime:`2021-07-${t++}`,name:"\u5B50\u6570\u636E: "+e,ttt:{a:"s-aaa",b:"s-bbb"},children:[]})}),e>30&&(e=2),t>30&&(t=5)}for(let n=0;n<5;n++){if(e>t){let s=e;e=t,t=s}[0,2].forEach(s=>{this.dataList[0].children[s].children.push({id:n,startTime:`2021-07-${e++}`,endTime:`2021-08-${t++}`,name:"\u5B59\u6570\u636E: "+e,ttt:{a:"gs-aaa",b:"gs-bbb"},children:[]})}),e>30&&(e=2),t>30&&(t=5)}},handleClickEmpty:function(){this.dataList=[]},handleClickModify:function(){Object.assign(this.dataList[0],{startTime:"2020-08-10",endTime:"2020-09-21"}),Object.assign(this.dataList[0].children[2].children[0],{startTime:"2020-08-13",endTime:"2020-09-17",name:"\u5B59\u6570\u636E: abcde"})},handleClickInsert:function(){this.dataList.unshift({id:Q++,startTime:"2020-08-10",endTime:"2020-09-20",name:"\u6570\u636E: "+Q,ttt:{a:"s-aaa"+Q,b:"s-bbb"+Q},children:[]})},handleClickInsert2:function(){this.dataList[0].children.unshift({id:Q++,startTime:"2020-08-15",endTime:"2020-09-13",name:"\u5B50\u6570\u636E: "+Q,ttt:{a:"s-aaa"+Q,b:"s-bbb"+Q},children:[{id:Q++,startTime:"2020-08-21",endTime:"2020-09-5",name:"\u5B59\u6570\u636E: "+Q,ttt:{a:"s-aaa"+Q,b:"s-bbb"+Q},children:[]}]}),this.dataList=[...this.dataList]},handleClickDelete:function(){console.log(this.dataList.shift())},handleClickColor(){this.changeColor++,this.changeColor%2!=0?(this.levelColor=["green","yellow","red"],this.headerStyle={bgColor:"black",textColor:"lightgrey"},this.bodyStyle={bgColor:"grey",textColor:"grey"}):(this.levelColor=["azure","cornsilk"],this.headerStyle={bgColor:"",textColor:""},this.bodyStyle={bgColor:"",textColor:""})},handleClickBg(){this.isDark=!this.isDark},setSelected(){this.$refs.gantt.setSelected(this.dataList[0])},jumpTo(){this.$refs.gantt.jumpToDate()},setHeaderUnit(e){this.$refs.gantt.setHeaderUnit(e)}}}),Un=f("div",{style:{margin:"0 auto",width:"500px"}},[f("img",{src:On,alt:"",width:"500"})],-1),zn={style:{height:"400px","padding-bottom":"10px"}},Bn=f("template",null,[f("div",null,"123")],-1),Gn=f("div",null,"a",-1),In=f("div",null,"b",-1),Mn={key:0,class:"slider-level-one"},Nn={style:{"background-color":"#ccc",width:"100%"}},Wn={name:"end",style:{backgroundColor:`#${555}`,color:"#789"}},qn=f("div",null,[f("p",null,"\u6807\u9898"),f("input")],-1),Ln={style:{display:"inline-block"}},Fn=we(" \u9009\u62E9\u5217\u5BBD "),Jn={style:{display:"inline-block"}},Vn=we(" \u9009\u62E9\u663E\u793A "),jn=f("div",{class:"tip-text"},"\u6309 F12 \u6253\u5F00\u63A7\u5236\u53F0\u4EE5\u67E5\u770B\u4E8B\u4EF6\u8F93\u51FA\u5185\u5BB9\u3002",-1),Pn=f("div",{class:"code-link"},[we(" \u8BE5\u9875\u9762\u6E90\u4EE3\u7801\u5728 "),f("a",{href:"https://github.com/jeremyjone/jz-gantt/blob/master/src/App.vue"},"\u8FD9\u91CC")],-1);function Qn(e,t,n,s,o,a){const l=Ie("JGanttSlider"),r=Ie("JGanttColumn"),d=Ie("j-gantt-column"),v=Ie("JGantt");return y(),k(F,null,[Un,f("div",zn,[R(v,{ref:"gantt","header-height":"48","row-height":"30","data-index":"id","start-key":"startTime","end-key":"endTime","expand-all":"",dark:e.isDark,"gantt-column-size":e.colSize,"show-checkbox":e.showCheckbox,"show-weekend":e.showWeekend,"show-today":e.showToday,"show-expand":e.showExpand,data:e.dataList,"header-style":e.headerStyle,"body-style":e.bodyStyle,"level-color":e.levelColor,"show-setting-btn":e.showSettingBtn,onRowClick:e.rowClick,onRowDblClick:e.rowDblClick,onRowChecked:e.rowChecked,onMoveSlider:e.moveSlider,onNoDateError:e.noDateError},{settings:te(()=>[qn]),default:te(()=>[Bn,Gn,In,R(l,{flat:"",label:"startTime","date-format":"MM-dd H:mm:s","empty-data":"",move:e.handleMove,"resize-left":!0,"resize-right":!0,"linked-resize":!0},{content:te(({data:u,level:c})=>[c===1?(y(),k("div",Mn)):N("",!0)]),_:1},8,["move"]),R(r,{label:"id",merge:e.merge3},{default:te(({data:u})=>[f("div",Nn,W(u.name),1)]),_:1},8,["merge"]),R(r,{label:"name",width:"150",merge:e.merge3},{default:te(({data:u})=>[f("div",null,"2 - "+W(u),1)]),_:1},8,["merge"]),R(r,{label:"ttt.a",merge:e.merge5,"column-style":"backgroundColor: #cde; padding-left: 10px","column-class":"test-class"},null,8,["merge"]),R(r,{label:"bbb","date-format":"",merge:e.merge5},{default:te(()=>[(y(),k(F,null,re(100,u=>f("div",{key:u},W(u),1)),64))]),_:1},8,["merge"]),R(r,{label:"startTime",width:"180",center:"","date-format":"",merge:e.merge4},null,8,["merge"]),R(d,{label:"endTime",name:"\u81EA\u5B9A\u4E49\u6807\u7B7E",width:"200","date-format":"q yyyy-MM-dd HH:mm:ss",merge:e.merge4},{default:te(({data:u})=>[f("span",Wn," abc - "+W(u.endTime),1)]),_:1},8,["merge"]),R(r,{label:"picture12345",merge:e.merge5},{default:te(({data:u})=>[we(" \u{1F440}\u{1F603}\u2728\u2714\u{1F431}\u200D\u{1F680}\u{1F431}\u200D\u{1F453} "+W(u.ttt.b),1)]),_:1},8,["merge"])]),_:1},8,["dark","gantt-column-size","show-checkbox","show-weekend","show-today","show-expand","data","header-style","body-style","level-color","show-setting-btn","onRowClick","onRowDblClick","onRowChecked","onMoveSlider","onNoDateError"])]),f("div",null,"total: "+W(e.dataList.length),1),f("button",{onClick:t[0]||(t[0]=(...u)=>e.handleClickBg&&e.handleClickBg(...u))}," \u5207\u6362\u5230"+W(e.isDark?"\u6D45\u8272":"\u6DF1\u8272")+"\u6A21\u5F0F ",1),f("button",{onClick:t[1]||(t[1]=(...u)=>e.handleClickReloadData&&e.handleClickReloadData(...u))},"\u91CD\u65B0\u8D4B\u503C"),f("button",{onClick:t[2]||(t[2]=(...u)=>e.handleClickEmpty&&e.handleClickEmpty(...u))},"\u6E05\u7A7A"),f("button",{onClick:t[3]||(t[3]=(...u)=>e.handleClickModify&&e.handleClickModify(...u))},"\u4FEE\u6539"),f("button",{onClick:t[4]||(t[4]=(...u)=>e.handleClickInsert&&e.handleClickInsert(...u))},"\u63D2\u5165"),f("button",{onClick:t[5]||(t[5]=(...u)=>e.handleClickInsert2&&e.handleClickInsert2(...u))},"\u63D2\u51652"),f("button",{onClick:t[6]||(t[6]=(...u)=>e.handleClickDelete&&e.handleClickDelete(...u))},"\u5220\u9664"),f("button",{onClick:t[7]||(t[7]=(...u)=>e.handleClickColor&&e.handleClickColor(...u))},"\u5207\u6362\u989C\u8272"),f("button",{onClick:t[8]||(t[8]=()=>e.showCheckbox=!e.showCheckbox)},"\u663E\u793Acheckbox"),f("button",{onClick:t[9]||(t[9]=()=>e.showWeekend=!e.showWeekend)},"\u663E\u793Aweekend"),f("button",{onClick:t[10]||(t[10]=()=>e.showToday=!e.showToday)},"\u663E\u793Atoday"),f("button",{onClick:t[11]||(t[11]=()=>e.showExpand=!e.showExpand)},"\u663E\u793Aexpand"),f("button",{onClick:t[12]||(t[12]=(...u)=>e.setSelected&&e.setSelected(...u))},"\u8BBE\u7F6E\u9009\u62E9"),f("button",{onClick:t[13]||(t[13]=(...u)=>e.jumpTo&&e.jumpTo(...u))},"\u8DF3\u8F6C\u5230"),f("button",{onClick:t[14]||(t[14]=()=>e.showSettingBtn=!e.showSettingBtn)}," \u663E\u793A\u8BBE\u7F6E\u6309\u94AE "),e.showSettingBtn?N("",!0):(y(),k(F,{key:0},[f("div",Ln,[Fn,f("button",{onClick:t[15]||(t[15]=()=>e.colSize="small")},"\u5C0F"),f("button",{onClick:t[16]||(t[16]=()=>e.colSize="normal")},"\u4E2D"),f("button",{onClick:t[17]||(t[17]=()=>e.colSize="large")},"\u5927")]),f("div",Jn,[Vn,f("button",{onClick:t[18]||(t[18]=()=>e.setHeaderUnit("day1"))},"\u65E5"),f("button",{onClick:t[19]||(t[19]=()=>e.setHeaderUnit("week"))},"\u5468"),f("button",{onClick:t[20]||(t[20]=()=>e.setHeaderUnit("month"))},"\u6708")])],64)),jn,Pn],64)}var Yn=E(En,[["render",Qn]]);const Et=C();var Kn=e=>(Et.value=e,{});function Xn(){return Et}var We=()=>{const e=Xn();function t(l){e.value("row-click",l?x({},_e(l.data)):void 0)}function n(l){e.value("row-dbl-click",x({},_e(l==null?void 0:l.data)))}function s(l,r){e.value("row-checked",l,x({},_e(r==null?void 0:r.data)))}function o(l,r){e.value("move-slider",l.map(d=>_e(d.data)),r)}function a(l){e.value("no-date-error",l)}return{IFClickRow:t,IFDblClickRow:n,IFCheckedRow:s,IFMoveSlider:o,INoDateError:a}};const g={noData:"\u65E0\u6570\u636E \u{1F622}",name:{root:"JGantt",column:"JGanttColumn",slider:"JGanttSlider",table:"JTableContent",gantt:"JGanttContent",tableHeader:"JTableHeader",ganttHeader:"JGanttHeader",tableRow:"JTableContentRow",ganttRow:"JGanttContentRow",ganttBackgroundRow:"JGanttContentBackgroundRow"},key:{start:"startDate",end:"endDate",columnSize:"columnSize",showToday:"showToday",showWeekend:"showWeekend",header:"header",body:"body",todayColor:"todayColor",weekendColor:"weekendColor",bgColor:"bgColor",borderColor:"borderColor",textColor:"textColor",hoverColor:"hoverColor",selectColor:"selectColor"},slots:{settings:"settings"},size:{defaultHeaderHeight:100,defaultContentRowHeight:30,defaultTableColumnWidth:80,defaultScrollBarHeight:17,minContentRowHeight:20,maxContentRowHeight:70,minHeaderHeight:30,minTableColumnWidth:30},color:{selected:{default:"#999",dark:"#666"},hovered:{default:"#ccc",dark:"#333"},today:{default:"lightblue",dark:"steelblue"},weekend:{default:"lightgrey",dark:"grey"},primary:{default:"#ECA710",dark:"#ECA710"},text:{default:"#282828",dark:"#E5E5E5"},border:{default:"#E5E5E5",dark:"#212121"},background:{default:"white",dark:"#181818"}},time:{millisecondOfDay:864e5,millisecondOfWeek:6048e5}};B.extend(An);B.extend(bn);function U(e){return B(e).toDate()}function ct(e){return`\u7B2C ${B(e).week()} \u5468`}function ht(e){return`${B(e).month()+1} \u6708`}function ft(e){return B(e).date().toString()}function Zn(e,t,n){const s={},o=U(e).getTime(),a=U(t).getTime();for(let r=o;r<=a;){const d=B(r).year(),v=`${B(r).month()+1}`.padStart(2,"0");switch(n){case"week":s[`${d}-${v}`]?s[`${d}-${v}`].push({text:ct(r),len:7}):s[`${d}-${v}`]=[{text:ct(r),len:r===o?7-B(r).day():7}],r+=r===o?(7-B(r).day())*g.time.millisecondOfDay:g.time.millisecondOfWeek;break;case"month":s[`${d}`]?s[`${d}`].push({text:ht(r),len:B(r).daysInMonth()}):s[`${d}`]=[{text:ht(r),len:r===o?B(r).daysInMonth()-B(r).date()+1:B(r).daysInMonth()}],r+=r===o?(B(r).daysInMonth()-B(r).date()+1)*g.time.millisecondOfDay:B(r).daysInMonth()*g.time.millisecondOfDay;break;case"day":default:s[`${d}-${v}`]?s[`${d}-${v}`].push({text:ft(r),len:1}):s[`${d}-${v}`]=[{text:ft(r),len:1}],r+=g.time.millisecondOfDay}}const l=[];for(const r in s)l.push({unit:r,one:s[r]});return l}function qe(e,t){return U(t).getTime()-U(e).getTime()}function Y(e,t){const n=U(e).getTime(),s=U(t).getTime();return n<s?"l":n>s?"r":"e"}function ye(e,t){const n=U(e).getTime()+t;return U(n).getTime()}function Le(e,t="yyyy-MM-dd",n="zh"){const s={zh:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],en:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]};["zh","en"].indexOf(n)===-1&&(n="zh"),e=U(e);const o={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours()%12==0?12:e.getHours()%12,"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};let a;for(a in o)if(new RegExp(`(${a})`).test(t)){const l=o[a].toString();t=t.replace(RegExp.$1,RegExp.$1.length===1?l:`00${l}`.substr(`${l}`.length))}return/(y+)/.test(t)&&(t=t.replace(RegExp.$1,`${e.getFullYear()}`.substr(4-RegExp.$1.length))),/(D+)/.test(t)&&(t=t.replace(RegExp.$1,s[n][e.getDay()])),t}function ne(e){switch(e){case"week":case"month":case"day":default:return g.time.millisecondOfDay}}function Ut(e,t){const n=e instanceof Object,s=t instanceof Object;if(!n||!s)return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const o in e){const a=e[o]instanceof Object,l=t[o]instanceof Object;if(a&&l){if(!Ut(e[o],t[o]))return!1}else if(e[o]!==t[o])return!1}return!0}function de(e,t){return Object.prototype.toString.call(e).slice(8,-1)===t}const gt=e=>de(e,"Undefined"),zt=e=>de(e,"Object"),Oe=e=>de(e,"Array"),pt=e=>de(e,"Date"),Bt=e=>de(e,"Function"),Gt=e=>de(e,"Boolean"),It=e=>de(e,"String"),eo=e=>de(e,"Number");function J(e,t=0,n=10){return e===void 0?e=t:(e=parseInt(e,n),Number.isNaN(e)&&(e=t)),e}function vt(e,t=16){const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),s=[];let o;if(t=t||n.length,e)for(o=0;o<e;o++)s[o]=n[0|Math.random()*t];else{let a;for(s[8]=s[13]=s[18]=s[23]="-",s[14]="4",o=0;o<36;o++)s[o]||(a=0|Math.random()*16,s[o]=n[o===19?a&3|8:a])}return s.join("")}function to(e){return e.replace(/([A-Z])/g,"-$1".toLowerCase()).replace(/^-/,"")}function Mt(e,t){return e.indexOf(t)===-1&&e.push(t),e}function no(e,t){t.split(";").forEach(n=>{const[s,o]=n.split(":");s&&o&&(e[s.trim()]=o.trim())})}class oo{constructor(){m(this,"uuid");m(this,"index");m(this,"parentId");m(this,"parentNode");m(this,"level");m(this,"children");m(this,"options");m(this,"__uindex");m(this,"__data");m(this,"__isExpand");this.uuid=vt(12),this.__data=null,this.index=0,this.parentId=[],this.parentNode=null,this.level=0,this.__isExpand=!0,this.children=[],this.options={},this.__uindex=0}get data(){return this.__data}get isExpand(){return this.__isExpand}get start(){return U(this.__data[this.options.sl])}get end(){return U(this.__data[this.options.el])}initData(t,n){const s=n.startLabel||g.key.start,o=n.endLabel||g.key.end;Object.assign(this.options,{sl:s,el:o}),this.__isExpand=this.options.isExpand||!0,this.__data=t}isSame(t){return Ut(t,this.data)}cloneData(){return this._clone(this.data)}_clone(t){if(!zt(t))return t;const n=Oe(t)?[]:{};for(const s in t)n[s]=zt(t[s])?this._clone(t[s]):t[s];return n}setExpand(t){this.__isExpand=t}setStart(t,n,s=!1,o=[]){if(this.data[this.options.sl]=t,Y(t,ye(this.end,-ne(n)))==="r"&&(this.data[this.options.el]=ye(t,ne(n))),!s)return;let a=this.parentNode;for(;a!==null&&Y(this.start,a.start)==="l";){a.setStart(this.start,n),Mt(o,a);a=a.parentNode}this.__setChildrenDate(this,"start",n,o)}setEnd(t,n,s=!1,o=[]){if(this.data[this.options.el]=t,Y(t,ye(this.start,ne(n)))==="l"&&(this.data[this.options.sl]=ye(t,-ne(n))),!s)return;let a=this.parentNode;for(;a!==null&&Y(this.end,a.end)==="r";){a.setEnd(this.end,n),Mt(o,a);a=a.parentNode}this.__setChildrenDate(this,"end",n,o)}__setChildrenDate(t,n,s,o){for(let a=0;a<t.children.length;a++){const l=t.children[a];n==="start"?Y(l.start,t.start)==="l"&&(l.setStart(t.start,s),o.push(l),this.__setChildrenDate(l,n,s,o)):n==="end"&&Y(l.end,t.end)==="r"&&(l.setEnd(t.end,s),o.push(l),this.__setChildrenDate(l,n,s,o))}}}let _t=0;class so{constructor(){m(this,"data");m(this,"originData");m(this,"__start");m(this,"__end");m(this,"__hierarchy");m(this,"__selected");m(this,"__hovered");m(this,"__len");m(this,"__that");this.data=[],this.originData=[],this.__start=null,this.__end=null,this.__hierarchy=0,this.__selected={index:-1},this.__hovered={index:-1},this.__len=0,this.__that=this}initData(t,n={}){this.originData=t,this.data=this.__createDataTree(t,[],n),this.__len=this.data.length}get len(){return this.__len}get selected(){return this.__selected}get hovered(){return this.__hovered}get start(){return this.__start}setStart(t){t&&pt(t)?this.__start=t:this.__start=null}get end(){return this.__end}setEnd(t){t&&pt(t)?this.__end=t:this.__end=null}__createDataTree(t,n,s={},o=0,a=null){const l=[];for(let r=0;r<t.length;r++)l.push(this.__createDataNode(t[r],r,n,o,a,s));return l}__createDataNode(t,n,s,o,a,l){const r=new oo;r.initData(t,l),r.index=n,r.level=o,r.parentId=s,r.parentNode=a,this.__updateDate(r);const d=[...s];return d.push(n),Oe(t.children)&&(r.children=this.__createDataTree(t.children,d,l,o+1,r)),o>this.__hierarchy&&(this.__hierarchy=o),r}__updateDate(t){(!this.start||Y(t.start,this.start)==="l")&&(this.__start=t.start),(!this.end||Y(t.end,this.end)==="r")&&(this.__end=t.end)}update(t,n=null,s={}){var a,l;if(this.__diff(s,this.data,t),!n)return;const o=this.flatData.find(r=>r.uuid===n.uuid);this.__selected={index:(a=o==null?void 0:o.__uindex)!=null?a:-1,uuid:(l=o==null?void 0:o.uuid)!=null?l:void 0}}__diff(t,n,s,o=null){let a=0;for(;a<s.length;){if(a<n.length&&!n[a].isSame(s[a]))if(a+1<n.length&&n[a+1].isSame(s[a]))n.splice(a,1);else if(a+1<s.length&&n[a].isSame(s[a+1])){const l=this.__createDataNode(s[a],a,n[a].parentId,n[a].level,n[a].parentNode,t);n.splice(a,0,l)}else{const l=this.__createDataNode(s[a],a,n[a].parentId,n[a].level,n[a].parentNode,t);n.splice(a,1,l)}if(n[a]===void 0){const l=this.__createDataNode(s[a],a,o?[...o.parentId,o.index]:[],o?o.level+1:0,o,t);n.splice(a,1,l)}this.__diff(t,n[a].children,s[a].children,n[a]),this.__updateDate(n[a]),a+=1}n[a]&&n.splice(a,n.length)}setSelectedByData(t){const n=s=>{if(Oe(s))for(let o=0;o<s.length;o++)if(s[o].isSame(t)){this.__selected={index:s[o].__uindex,uuid:s[o].uuid};break}else s[o].children&&n(s[o].children)};n(this.data)}setHovered(t){this.__hovered=t}setSelected(t){this.__selected=t}get hierarchy(){return this.__hierarchy+1}get flatData(){_t=0;const t=[];return this.__flatten(this.data,t),this.__len=t.length,t}__flatten(t,n){for(let s=0;s<t.length;s++)t[s].__uindex=_t,_t+=1,n.push(t[s]),t[s].isExpand&&Oe(t[s].children)&&this.__flatten(t[s].children,n)}}const z={header:`[${g.name.root} warn]:`,invalidProps:"Invalid props:",nullKeys:"Null keys:",formatError:"Format error:",typeError:"Type error:"};class ao{constructor(){m(this,"key");m(this,"label");m(this,"node");m(this,"merge");return this.key=-1,this.label="",this.node=null,this.merge=!1,this}initData(t){return this.key=t.key,this.label=t.label,this.node=t.node,this.merge=t.merge,this}}class ro{constructor(){m(this,"key");m(this,"label");m(this,"text");m(this,"__w");return this.key=-1,this.label="",this.text="",this.__w=g.size.defaultTableColumnWidth,this}initData(t){return this.key=t.key,this.label=t.label,this.text=t.text,this.__w=t.width,this}get width(){return this.__w}setWidth(t){this.__w=t}}class lo{constructor(){m(this,"colSize");m(this,"rowHeight");this.colSize="normal",this.rowHeight=g.size.defaultContentRowHeight}}class me{constructor(){m(this,"__cns");m(this,"__sn");m(this,"__ths");m(this,"__ghs");m(this,"__cbw");m(this,"__rh");m(this,"__hh");m(this,"__gos");m(this,"__slots");m(this,"__start");m(this,"__end");m(this,"__default");m(this,"__hu","day");m(this,"levelColor");m(this,"expandWidth");m(this,"showCheckbox");m(this,"showExpand");m(this,"dark");this.__cns=[],this.__sn=null,this.__ths=[],this.__ghs={length:0,list:[]},this.__cbw=15,this.__rh=g.size.defaultContentRowHeight,this.__hh=g.size.defaultHeaderHeight,this.levelColor=[],this.expandWidth=15,this.showCheckbox=!1,this.showExpand=!1,this.dark=!1,this.__slots=Object,this.__start=new Date,this.__end=new Date,this.__default=new lo,this.__gos={columnSize:"normal",showToday:!0,showWeekend:!0,header:{},body:{todayColor:"",weekendColor:"",hoverColor:"",selectColor:""}}}init(t){this.__default=t}get colNodes(){return this.__cns}get sliderNode(){return this.__sn}get tableHeaders(){return this.__ths}get ganttHeaders(){return this.__ghs}get ganttOptions(){return this.__gos}get checkBoxWidth(){return this.__cbw+10}set checkBoxWidth(t){this.__cbw=t}get rowHeight(){return this.__rh}set rowHeight(t){t<g.size.minContentRowHeight?console.error(z.header,z.invalidProps,`rowHeight should be at least ${g.size.minContentRowHeight}.`):this.__rh=t}get headerHeight(){return J(this.__hh)}set headerHeight(t){t<g.size.minHeaderHeight?console.error(z.header,z.invalidProps,`headerHeight should be at least ${g.size.minHeaderHeight}.`):this.__hh=t}get startDate(){return this.__start}get endDate(){return this.__end}get headerUnit(){return this.__hu}set headerUnit(t){this.__hu=t,this.updateGanttHeaders()}setGanttOptions(t){lt.exports.merge(this.ganttOptions,t)}setGanttHeaders(t,n){this.__start=new Date(t),this.__end=new Date(n),this.updateGanttHeaders()}updateGanttHeaders(){const t=Zn(this.__start,this.__end,this.__hu);this.ganttHeaders.list=t,this.ganttHeaders.length=t.reduce((n,s)=>s.one.reduce((o,a)=>a.len+o,0)+n,0)}__addCNode(t){this.colNodes.findIndex(n=>n.key===t.key)===-1&&this.colNodes.push(t)}__addTHeader(t){this.tableHeaders.findIndex(n=>n.key===t.key)===-1&&this.tableHeaders.push(t)}static __checkType(t,n){return t.replace(/-/g,"").toLocaleLowerCase()===n.toLocaleLowerCase()}static __isComponent(t){var n,s;return!!((n=t.type)==null?void 0:n.name)&&!!((s=t.type)==null?void 0:s.setup)}setNodes(t){if(!Oe(t))return;let n=0;t.filter(s=>{var a,l;const o=(a=s.type)==null?void 0:a.name;return o&&me.__isComponent(s)&&(me.__checkType(o,g.name.column)&&!!((l=s.props)==null?void 0:l.label)||me.__checkType(o,g.name.slider))}).forEach(s=>{var a,l,r,d;const o=s.type.name;if(me.__checkType(o,g.name.column)){s.key=n,Object.assign(s.props,{__key:n});const v=(a=s.props)==null?void 0:a.label,u=J((l=s.props)==null?void 0:l.width,g.size.defaultTableColumnWidth);let c=(r=s.props)==null?void 0:r.merge;s.key===0&&(c=void 0),this.__addTHeader(new ro().initData({key:n,label:v,text:((d=s.props)==null?void 0:d.name)||v,width:u})),this.__addCNode(new ao().initData({key:n,label:v,node:s,merge:c})),n+=1}else me.__checkType(o,g.name.slider)&&(this.__sn=s)})}addSlot(t,n){this.__slots[t]=n}getSlot(t){return this.__slots[t]}resetSize(){this.setGanttOptions({[g.key.columnSize]:this.__default.colSize}),this.rowHeight=J(this.__default.rowHeight)}}const D=Me(new me),Fe=h(()=>{var t;switch((t=D.ganttOptions.columnSize)!=null?t:"normal"){case"small":return D.headerUnit==="week"?7:D.headerUnit==="month"?4:15;case"large":return D.headerUnit==="week"?30:D.headerUnit==="month"?15:60;case"normal":default:return D.headerUnit==="week"?15:D.headerUnit==="month"?8:30}});var G=()=>({GtParam:D,colSize:h(()=>{var e;return(e=D.ganttOptions.columnSize)!=null?e:"normal"}),oneDayWidth:Fe});const yt=C(0);function Je(){const{GtData:e}=ae();function t(){const n=e.start;let o=e.end;const a=qe(n,o)/ne(D.headerUnit);if(a*Fe.value<yt.value){const l=(yt.value-a*Fe.value)/Fe.value;o=ye(o,l*ne(D.headerUnit))}D.setGanttHeaders(n,o)}return{initGanttWidth:yt,setHeaders:t}}function io(e,t){const{setHeaders:n}=Je(),{showCheckbox:s,showExpand:o,headerHeight:a,levelColor:l,dark:r,ganttColumnSize:d,showToday:v,showWeekend:u,headerStyle:c,bodyStyle:p,rowHeight:w}=se(e);function b(_=!1){var O;D.showCheckbox=s.value,D.showExpand=o.value,D.headerHeight=J(a.value),D.levelColor=l.value,D.dark=r.value;const A={[g.key.showToday]:v.value,[g.key.showWeekend]:u.value,[g.key.header]:c.value||{},[g.key.body]:p.value||{},[g.key.columnSize]:d.value};_&&(D.rowHeight=J(w.value),D.init({colSize:d.value,rowHeight:(O=w.value)!=null?O:g.size.defaultContentRowHeight})),D.setGanttOptions(A)}(t==null?void 0:t.default)&&D.setNodes(t.default());for(const _ in g.slots)(t==null?void 0:t[_])&&D.addSlot(_,t==null?void 0:t[_]);b(!0),ke(()=>[e.bodyStyle,e.borderColor,e.primaryColor,e.levelColor,e.showCheckbox,e.showExpand,e.headerHeight,e.rowHeight,e.ganttColumnSize,e.showToday,e.showWeekend,e.headerStyle,e.bodyStyle,e.dark],()=>{b()}),ke(()=>[D.headerUnit],()=>{b(!0)}),ke(()=>[D.headerUnit,D.ganttOptions.columnSize],()=>{n()})}function uo(){function e(t){["day","week","month"].includes(t)?D.headerUnit=t:(console.warn(z.header,z.invalidProps,`input value '${t}' is not a valid header unit. It should be 'day', 'week' or 'month'.`),D.headerUnit="day")}return{updateGanttHeaderUnit:e}}const Ce=Me(new so);var ae=()=>({GtData:Ce});function co(e,t){const{setHeaders:n}=Je(),{IFClickRow:s}=We();Ce.initData(e.value,t.value);const o=h(()=>Ce.flatData);return ke(()=>e,a=>{let l=null;const r=Ce.selected.index;r>-1&&(l=o.value[r]),Ce.update(a.value,l,t.value),n(),r>-1&&Ce.selected.index===-1&&s(void 0)},{deep:!0}),{allData:o}}var mt=e=>{const{GtData:t}=ae(),{IFClickRow:n,IFDblClickRow:s,IFCheckedRow:o}=We();function a(c){var p;o((p=c.target)==null?void 0:p.checked,e)}let l=!1;function r(){var c;l?l=!1:(t.setSelected({index:(c=e==null?void 0:e.__uindex)!=null?c:-1,uuid:e==null?void 0:e.uuid}),n(e),l=!0,window.setTimeout(()=>{l=!1},500))}function d(){s(e)}function v(){var c;t.setHovered({index:(c=e==null?void 0:e.__uindex)!=null?c:-1,uuid:e==null?void 0:e.uuid})}function u(){t.setHovered({index:-1})}return{onChangeCheckbox:a,onClickRow:r,onDbClickRow:d,onMouseEnterRow:v,onMouseLeaveRow:u}},ho={label:{type:String,required:!0},name:String,width:{type:[Number,String],validator:e=>{const t=J(e)>g.size.minTableColumnWidth;return t||console.error(z.header,z.invalidProps,`column width should be more than "${g.size.minTableColumnWidth}".`),t}},center:{type:Boolean,default:!1},merge:{type:[Function,Boolean],default:()=>!1},dateFormat:String,emptyData:{type:String,default:g.noData},selectable:{type:Boolean,default:!1},columnStyle:{type:[Object,String],default:()=>({})},columnClass:{type:[Object,String],default:()=>({})}};const fo=e=>(it("data-v-0dc57eb9"),e=e(),ut(),e),go=["width","height"],po=fo(()=>f("path",{d:"M823.110667 437.542194L302.873052 81.236186c-59.893088-41.026392-141.257188 1.871627-141.257188 74.457805v712.610994c0 72.586179 81.364099 115.484198 141.257188 74.457806l520.237615-356.304985c52.364625-35.8413 52.364625-113.074312 0-148.915612z","p-id":"6885"},null,-1)),vo=[po],_o=H({name:"GanttArrowIcon"}),yo=H(L(x({},_o),{props:{size:{type:Number,default:15},direction:{type:String,default:"right",validator:e=>["up","down","left","right"].includes(e)}},setup(e){const t=e,n=C(!1),s=C(!1),o=C(!1),a=C(!0);function l(){switch(n.value=!1,s.value=!1,o.value=!1,a.value=!1,t.direction){case"up":n.value=!0;break;case"down":s.value=!0;break;case"left":o.value=!0;break;default:a.value=!0;break}}return Ne(()=>{l()}),ke(()=>t.direction,r=>{l()}),(r,d)=>(y(),k("svg",{t:"1594609520750",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6884","data-darkreader-inline-fill":"",width:e.size,height:e.size,style:S({fill:"var(--j-primary-color)"}),class:j({"gt-animation":!0,up:n.value,down:s.value,left:o.value,right:a.value})},vo,14,go))}}));var mo=E(yo,[["__scopeId","data-v-0dc57eb9"]]);const Nt=C();function Ao(){return{ganttRef:Nt}}var At=()=>({ganttRef:Nt});const Wt=C();function bo(){return{rootRef:Wt}}var wo=()=>({rootRef:le(Wt)}),ce=()=>{const{GtParam:e,oneDayWidth:t}=G(),n=h(()=>e.tableHeaders.reduce((o,a)=>o+a.width,0)),s=h(()=>{const o=t.value;return e.ganttHeaders.length*o});return{rowHeight:h(()=>e.rowHeight),tableWidth:le(n),ganttWidth:le(s),headerHeight:h(()=>e.headerHeight)}};function ko(){const{initGanttWidth:e,setHeaders:t}=Je(),{ganttRef:n}=At(),s=C();return wn(()=>{s.value=new ResizeObserver(o=>{for(const a of o)e.value=a.contentRect.width,t()})}),Ne(()=>{var o;(n==null?void 0:n.value)&&((o=s.value)==null||o.observe(n.value))}),kn(()=>{s.value=void 0}),{}}const Ve=C(!1),qt=C(0),je=C(-1);function Lt(){const{GtParam:e}=G(),{GtData:t}=ae(),{rootRef:n}=wo(),s=h(()=>{var u;return((u=n.value)==null?void 0:u.clientWidth)||0});function o(){Ve.value=!1,je.value=-1}function a(u){var c;Ve.value===!1&&(Ve.value=!0),je.value===-1&&(je.value=(c=n.value)==null?void 0:c.offsetLeft),qt.value=u-je.value}function l(u){let c=0;const p=u.pageX,w=e.tableHeaders[e.tableHeaders.length-1].width;document.onmousemove=b=>{var K;let _=b.pageX;_<0&&(_=0);const A=100,O=e.tableHeaders.reduce((T,oe)=>T+oe.width,0),V=_-p;O+V>((K=n.value)==null?void 0:K.clientWidth)-A||w+_-p>g.size.minTableColumnWidth&&(c=_-p,a(_))},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null;const b=e.tableHeaders[e.tableHeaders.length-1].width;e.tableHeaders[e.tableHeaders.length-1].setWidth(b+c),o()}}function r(u,c){let p=0;const w=u.pageX;document.onmousemove=b=>{let _=b.pageX;_<0&&(_=0);let A=g.size.minTableColumnWidth;if(c.key===0){let T=0;T+=e.expandWidth*t.hierarchy,e.showCheckbox&&(T+=e.checkBoxWidth),T>A&&(A=T)}const O=100,V=e.tableHeaders.reduce((T,oe)=>T+oe.width,0),K=_-w;V+K>s.value-O||c.width+_-w>A&&(p=_-w,a(_))},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,c.setWidth(c.width+p),o()}}const d=h(()=>({"gt-hide":!Ve.value})),v=h(()=>({left:`${qt.value}px`}));return{sliderLineClass:d,sliderLineStyle:v,onResizeTableWidth:l,onResizeColumnWidth:r}}function Co(){const e=C(30),t=C(e.value/2),n=C(-e.value/2),s=h(()=>({position:" absolute",right:`${n.value}px`,top:`${t.value}px`,zIndex:99})),o=C(null);function a(){eo(o.value)&&(n.value=o.value)}function l(){if(n.value>=0){o.value=null;return}o.value=n.value,n.value=0}return{btnSize:le(e),opBtnStyle:s,onOpBtnMouseLeave:a,onOpBtnMouseEnter:l}}var bt=e=>{const t=o=>{let a=!1;return gt(o)||(Gt(o)?a=o:Bt(o)?a=o(_e(e.data)):o===""&&(a=!0)),a};function n(o){if(gt(o))return{data:_e(e.data),level:e.level+1};const a=e.cloneData(),l=e.options.sl,r=e.options.el,d=o||"yyyy-MM-dd";return a[l]=Le(a[l],d),a[r]=Le(a[r],d),{data:a,level:e.level+1}}return{isMerge:t,scopeData:n,textData:(o,a,l)=>{const{data:r}=n(a);if(It(o)){if(o in r)return r[o];if(o.includes(".")){const[d,...v]=o.split(".");if(d in r)return v.reduce((u,c)=>u[c],r[d])}}return l!=null?l:g.noData}}};const So=["onClick"],Ho=H({name:g.name.column}),xo=H(L(x({},Ho),{props:ho,setup(e){const t=e,n=dt(),s=Ot(),{dateFormat:o,label:a,emptyData:l,center:r,columnStyle:d,columnClass:v}=se(t),u=s.__key,c=s.data,{GtParam:p}=G(),{isMerge:w,scopeData:b,textData:_}=bt(c),A=h(()=>p.tableHeaders[u].width),O=h(()=>{let M=g.size.defaultTableColumnWidth;A.value>0&&(M=A.value);for(let I=u+1;I<p.colNodes.length;I++){const ee=p.colNodes[I];if(w(ee.merge))M+=p.tableHeaders[I].width;else break}return M}),V=h(()=>({"--column-width":`${O.value-1}px`,borderColor:"var(--j-content-border-color)"})),K=C(15),T=h(()=>({"--box-size":`${K.value}px`})),oe=h(()=>p.showCheckbox&&u===0),he=h(()=>p.showExpand&&u===0),X=h(()=>c.children.length>0),fe=h(()=>c.level*10),Z=h(()=>c.isExpand),{onChangeCheckbox:He}=mt(c);function ge(){c.setExpand(!Z.value)}const{rowHeight:xe}=ce(),De=h(()=>{let M={"--row-height":`${xe.value}px`,justifyContent:r.value?"center":"flex-start"};return d.value&&Object.keys(d.value).length>0&&(It(d.value)?no(M,d.value):M=x(x({},M),d.value)),M}),Ae=h(()=>!!(n==null?void 0:n.default)),$e=h(()=>(n==null?void 0:n.default)&&n.default(b(o==null?void 0:o.value))[0]),Re=h(()=>!Ae.value&&_(a==null?void 0:a.value,o==null?void 0:o.value,l.value));return(M,I)=>(y(),k("div",{class:j(["gt-column",{"gt-noselect":!M.selectable}]),style:S(i(V))},[i(oe)?(y(),k("input",{key:0,id:"checkbox",class:"gt-column__checkbox",type:"checkbox",name:"checkbox",style:S(i(T)),onChange:I[0]||(I[0]=ee=>i(He)(ee)),onClick:I[1]||(I[1]=ie(()=>{},["stop"])),onDblclick:I[2]||(I[2]=ie(()=>{},["stop"]))},null,36)):N("",!0),i(he)?(y(),k("div",{key:1,class:j(["gt-column__expand",{"gt-hide":!i(X)}]),style:S(L(x({},i(T)),{marginLeft:`${i(fe)}px`})),onClick:ie(ge,["stop"])},[R(mo,{direction:i(Z)?"down":"right"},null,8,["direction"])],14,So)):N("",!0),f("div",{class:j(["gt-column__chunk",i(v)]),style:S(i(De))},[i(Ae)?(y(),P(ue(i($e)),{key:0})):(y(),k(F,{key:1},[we(W(i(Re)),1)],64))],6)],6))}}));var Ft=E(xo,[["__scopeId","data-v-40ba8244"]]),Do={label:{type:String},dateFormat:{type:String},flat:{type:Boolean,default:!1},bgColor:{type:String,default:""},alignment:{type:String,default:"left",validator:e=>["left","center","right"].includes(e)},move:{type:[Function,Boolean],default:()=>!1},resizeLeft:{type:Boolean,default:!1},resizeRight:{type:Boolean,default:!1},emptyData:{type:String,default:g.noData},linkedResize:{type:Boolean}};const wt=Me([]);var Jt=()=>{function e(){wt.length=0}function t(n){wt.push(n)}return{clearShowDateList:e,addShowDate:t,showDateList:le(wt)}};const Se=C(!1),kt=C(""),Ct=[];var St=()=>{function e(){Se.value=!1,kt.value=""}function t(n){if(Se.value){Se.value=!1,setTimeout(()=>{t(n)},500);return}kt.value=n,Se.value=!0}return ke(()=>Se.value,n=>{n?Ct.push(setTimeout(()=>{e()},3e3)):(Ct.forEach(clearTimeout),Ct.length=0)}),{isShowToast:Se,toastMessage:kt,showToast:t,hideToast:e}};const Pe=Me([]),Vt=1e3;var Ht=()=>{function e(t){Array.isArray(t)?Pe.push(...t):Pe.push(t),setTimeout(()=>{Pe.length=0},Vt)}return{successBarTimeout:Vt,successBarList:Pe,pushSucceessBar:e}};const $o=["onMousedown"],Ro=H({name:g.name.slider}),To=H(L(x({},Ro),{props:Do,setup(e){const t=e,n=dt(),o=Ot().data,{alignment:a,label:l,move:r,dateFormat:d,emptyData:v,bgColor:u,resizeLeft:c,resizeRight:p,linkedResize:w}=se(t),{oneDayWidth:b,GtParam:_}=G(),{GtData:A}=ae(),O=h(()=>o.start),V=h(()=>o.end),K=h(()=>qe(O.value,V.value)/ne(_.headerUnit)*b.value),T=h(()=>Gt(r.value)?r.value:Bt(r.value)?r.value({level:o.level+1,data:_e(o.data)}):!1),oe=h(()=>{const q=U(A.start).setHours(0);return qe(q,O.value)/ne(_.headerUnit)*b.value}),he=h(()=>{let $;return(n==null?void 0:n.content)&&($=n.content(Z(d==null?void 0:d.value))[0]),$&&lt.exports.isSymbol($.type)?void 0:$}),X=h(()=>!!(n==null?void 0:n.left)),fe=h(()=>!!(n==null?void 0:n.right)),{scopeData:Z,textData:He}=bt(o),ge=h(()=>{let $;return(n==null?void 0:n.content)&&($=n.content(Z(d==null?void 0:d.value))[0]),(n==null?void 0:n.default)&&($=n.default(Z(d==null?void 0:d.value))[0]),$&&lt.exports.isSymbol($.type)?void 0:$}),xe=h(()=>(n==null?void 0:n.left)&&n.left(Z(d==null?void 0:d.value))[0]),De=h(()=>(n==null?void 0:n.right)&&n.right(Z(d==null?void 0:d.value))[0]),Ae=h(()=>({"gt-slider-content":!he.value,"gt-custom-slider-content":he.value,"gt-noselect":!0,"gt-text-nowrap":!0})),$e=h(()=>{switch(a.value){case"center":return"center";case"right":return"flex-end";default:return"flex-start"}}),Re=h(()=>({justifyContent:$e.value})),M=h(()=>({"gt-slider-ctrl__left":!X.value})),I=h(()=>({"gt-slider-ctrl__right":!fe.value}));function ee($){return $?{opacity:1,height:"100%"}:{opacity:0}}const pe=h(()=>u.value||"var(--j-primary-color)"),Ke=h(()=>fe.value?x({transition:"all 0.2s",right:"0"},ee(ve.value&&p.value)):x({backgroundColor:pe.value},ee(ve.value&&p.value))),Xe=h(()=>X.value?x({transition:"all 0.2s",left:"0"},ee(ve.value&&c.value)):x({backgroundColor:pe.value},ee(ve.value&&c.value))),Ze=h(()=>He(l==null?void 0:l.value,d==null?void 0:d.value,v.value)),et=h(()=>({width:`${K.value}px`,left:`${oe.value}px`,backgroundColor:he.value?"":pe.value})),{addShowDate:ze,clearShowDateList:tt}=Jt();let ve=C(!1);function Be(){ze(o.start),ze(o.end),!!T.value&&(ve.value=!0)}function be(){tt(),!!T.value&&(ve.value=!1)}function an($){!T.value||nt($,"move")}function rn($){!T.value||nt($,"left")}function ln($){!T.value||nt($,"right")}const{IFMoveSlider:un}=We(),{setHeaders:dn}=Je(),{showToast:cn}=St(),{pushSucceessBar:hn}=Ht();function nt($,q=""){const Te=$.pageX,ot=U(o.start),st=U(o.end),Ge=[o];document.onmousemove=gn=>{let at=gn.pageX;at<0&&(at=0);const Rt=(at-Te)/b.value*ne(_.headerUnit);(q==="move"||q==="left")&&o.setStart(U(ye(ot,Rt)),_.headerUnit,w.value,Ge),(q==="move"||q==="right")&&o.setEnd(U(ye(st,Rt)),_.headerUnit,w.value,Ge)},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,!(Y(o.start,ot)==="e"&&Y(o.end,st)==="e")&&(un(Ge,{start:ot,end:st}),fn(),cn("\u79FB\u52A8\u6210\u529F"),hn(Ge))}}function fn(){Y(o.start,A.start)==="l"&&A.setStart(o.start),Y(o.end,A.end)==="r"&&A.setEnd(o.end),dn()}return($,q)=>(y(),k("div",{class:j(["gt-slider",{"gt-shadow":!$.flat}]),style:S(i(et)),onMousedown:ie(an,["stop"]),onMouseenter:Be,onMouseleave:be},[f("div",{class:j(i(Ae)),style:S(i(Re)),onSelectstart:q[0]||(q[0]=()=>!1)},[i(ge)?(y(),P(ue(i(ge)),{key:0})):(y(),k(F,{key:1},[we(W(i(Ze)),1)],64))],38),f("div",{class:j(["gt-slider-chunk",i(M)]),style:S(i(Xe)),onMousedown:q[1]||(q[1]=ie(Te=>i(c)?rn(Te):null,["stop"]))},[i(X)?(y(),P(ue(i(xe)),{key:0})):N("",!0)],38),f("div",{class:j(["gt-slider-chunk",i(I)]),style:S(i(Ke)),onMousedown:q[2]||(q[2]=ie(Te=>i(p)?ln(Te):null,["stop"]))},[i(fe)?(y(),P(ue(i(De)),{key:0})):N("",!0)],38)],46,$o))}}));var xt=E(To,[["__scopeId","data-v-63976248"]]),Oo={data:{type:Array,default:()=>[]},dataIndex:{type:String,required:!0,validator:e=>{if(!e)throw new Error(`${z.header+z.invalidProps}"dataIndex" should be a valid string.`);return!!e}},startKey:{type:String,default:g.key.start},endKey:{type:String,default:g.key.end},headerHeight:{type:[Number,String],default:g.size.defaultHeaderHeight,validator:e=>{const t=J(e)>=g.size.minHeaderHeight;if(!t)throw new Error(`${z.header+z.invalidProps}"headerHeight" should be at least ${g.size.minHeaderHeight}.`);return t}},rowHeight:{type:[Number,String],default:g.size.defaultContentRowHeight,validator:e=>{const t=J(e)>=g.size.minContentRowHeight;if(!t)throw new Error(`${z.header+z.invalidProps}"rowHeight" should be at least ${g.size.minContentRowHeight}.`);const n=J(e)<=g.size.maxContentRowHeight;if(!n)throw new Error(`${z.header+z.invalidProps}"rowHeight" should be no more than ${g.size.maxContentRowHeight}.`);return t&&n}},border:{type:Number,default:1,validator:e=>{const t=J(e)>=0;if(!t)throw new Error(`${z.header+z.invalidProps}"border" should be a positive integer.`);return t}},borderColor:{type:String,default:""},showCheckbox:{type:Boolean},showExpand:{type:Boolean,default:!0},expandAll:{type:Boolean,default:!0},ganttColumnSize:{type:String,default:"normal",validator:e=>["small","normal","large"].includes(e)},showToday:{type:Boolean,default:!0},showWeekend:{type:Boolean,default:!0},levelColor:{type:Array,default:()=>[]},headerStyle:{type:Object,defalut:()=>({})},bodyStyle:{type:Object,default:()=>({})},dark:{type:Boolean,default:!1},primaryColor:{type:String,default:""},showSettingBtn:{type:Boolean,default:!0}};const jt=C();function Eo(){return{tableRef:jt}}var Uo=()=>({tableRef:jt});const Pt=C(0),Qt=C(0),Yt=C(g.size.defaultScrollBarHeight);var Kt=()=>{const{ganttRef:e}=At(),{tableRef:t}=Uo();function n(a){const{deltaY:l}=a;e.value&&(e.value.scrollTop+=l)}function s(){var a;if(t.value){const l=(a=e.value)==null?void 0:a.scrollTop;Pt.value=l,t.value.scrollTop=l}}function o(){t.value&&e.value&&(Yt.value=t.value.offsetHeight-e.value.clientHeight),t.value&&(Qt.value=t.value.offsetHeight)}return Ne(o),Cn(o),{scrollTop:le(Pt),rootHeight:le(Qt),scrollBarHeight:le(Yt),tableWheelHandle:n,ganttWheelHandle:s}},zo=e=>{const{rowHeight:t}=ce(),{scrollTop:n,rootHeight:s}=Kt(),o=1,a=h(()=>{const d=Math.ceil(n.value/t.value);return d-o>0?d-o:0}),l=h(()=>{const d=Math.ceil(s.value/t.value),v=Math.ceil(n.value/t.value)+d+o;return v>e.value.length?e.value.length:v});return{inView:h(()=>e.value.slice(a.value,l.value))}};const Bo=/^rgb(a)?\((\d{1,3}),(\d{1,3}),(\d{1,3}),?([01]?\.?\d*?)?\)$/;function Go(e){if(typeof e!="string")throw new TypeError("Expected a string");e=e.replace(/^#/,""),e.length===3?e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]:e.length===4&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=parseInt(e,16);return e.length>6?{r:t>>24&255,g:t>>16&255,b:t>>8&255,a:Math.round((t&255)/2.55)}:{r:t>>16,g:t>>8&255,b:t&255}}function Io(e){if(typeof e!="string")throw new TypeError("Expected a string");const t=e.replace(/ /g,""),n=Bo.exec(t);if(n===null)return Go(t);const s={r:Math.min(255,parseInt(n[2],10)),g:Math.min(255,parseInt(n[3],10)),b:Math.min(255,parseInt(n[4],10))};if(n[1]){const o=parseFloat(n[5]);s.a=Math.min(1,Number.isNaN(o)===!0?1:o)*100}return s}function Mo({r:e,g:t,b:n,a:s}){const o=s!==void 0;if(e=Math.round(e),t=Math.round(t),n=Math.round(n),e>255||t>255||n>255||o&&s>100)throw new TypeError("Expected 3 numbers below 256 (and optionally one below 100)");const a=o?(Math.round(255*s/100)|1<<8).toString(16).slice(1):"";return`#${(n|t<<8|e<<16|1<<24).toString(16).slice(1)}${a}`}function Xt(e,t){if(typeof e!="string")throw new TypeError("Expected a string as color");if(t===void 0||t<0||t>1)throw new TypeError("Expected offset to be between 0 and 1");const{r:n,g:s,b:o}=Io(e);return Mo({r:n,g:s,b:o,a:Math.round(Math.min(1,Math.max(0,t))*100)})}function Qe(){const{GtParam:e}=G(),t=h(()=>e.dark),n=h(()=>t.value?"dark":"default");return{dark:t,colorSelectStr:n}}var Ee=()=>{const{GtParam:e,oneDayWidth:t}=G(),{GtData:n}=ae(),{rowHeight:s}=ce(),{colorSelectStr:o}=Qe(),a=h(()=>u=>{var p;const c=((p=e.ganttOptions.body)==null?void 0:p.bgColor)||"var(--j-content-bg-color)";return u!==void 0?{backgroundColor:`${e.levelColor[u]||c} !important`}:{}}),l=h(()=>u=>{var c;return x({height:`${s.value}px`,borderColor:"var(--j-content-border-color)",color:(c=e.ganttOptions.body)==null?void 0:c.textColor},a.value(u))}),r=h(()=>u=>{var c;return x({height:`${s.value}px`,borderColor:"var(--j-content-border-color)",color:(c=e.ganttOptions.body)==null?void 0:c.textColor,backgroundSize:`${t.value*(e.headerUnit==="week"?7:1)}px`,backgroundImage:e.headerUnit==="day"?"linear-gradient(270deg, var(--j-content-border-color) 1px, transparent 0)":""},a.value(u))}),d=h(()=>(u,c,p=!0)=>{var b,_,A;let w={};return p&&(n.selected.index===u&&n.selected.uuid===c&&(w={backgroundColor:`${Xt(((b=e.ganttOptions.body)==null?void 0:b.selectColor)||g.color.selected[o.value],.5)} !important`}),n.hovered.index===u&&n.hovered.uuid===c&&(w={backgroundColor:`${Xt(((A=(_=e.ganttOptions)==null?void 0:_.body)==null?void 0:A.hoverColor)||g.color.hovered[o.value],.5)} !important`})),x({height:`${s.value}px`,position:"absolute",width:"100%",top:`${s.value*u}px`},w)}),v=h(()=>{var u,c;return{backgroundColor:`${(u=e.ganttOptions.header)==null?void 0:u.bgColor}`,borderColor:"var(--j-content-border-color)",color:`${(c=e.ganttOptions.header)==null?void 0:c.textColor}`}});return{tableRowStyle:l,ganttRowStyle:r,rowWrapStyle:d,headerStyle:v}};const No=H({name:g.name.tableRow}),Wo=H(L(x({},No),{props:{data:null},setup(e){const t=e,{tableRowStyle:n}=Ee(),{GtParam:s}=G(),{isMerge:o}=bt(t.data),a=s.colNodes.filter(u=>!o(u.merge)),{onClickRow:l,onDbClickRow:r,onMouseEnterRow:d,onMouseLeaveRow:v}=mt(t.data);return(u,c)=>(y(),k("div",{class:"gt-table-row",style:S(i(n)(e.data.level)),onClick:c[0]||(c[0]=(...p)=>i(l)&&i(l)(...p)),onDblclick:c[1]||(c[1]=(...p)=>i(r)&&i(r)(...p)),onMouseenter:c[2]||(c[2]=(...p)=>i(d)&&i(d)(...p)),onMouseleave:c[3]||(c[3]=(...p)=>i(v)&&i(v)(...p))},[e.data?(y(!0),k(F,{key:0},re(i(a),p=>(y(),P(ue(p.node),{key:p.key,data:e.data},null,8,["data"]))),128)):N("",!0)],36))}}));var Zt=E(Wo,[["__scopeId","data-v-13c296d8"]]);const qo=H({name:g.name.ganttRow}),Lo=H(L(x({},qo),{props:{data:null},setup(e){var u,c;const t=e,{data:n}=se(t),s=C((c=(u=n.value)==null?void 0:u.uuid)!=null?c:vt(12)),{GtParam:o}=G(),a=h(()=>o.sliderNode),{onClickRow:l,onDbClickRow:r,onMouseEnterRow:d,onMouseLeaveRow:v}=mt(n.value);return(p,w)=>(y(),k("div",{key:s.value,class:"gt-gantt-row",onClick:w[0]||(w[0]=(...b)=>i(l)&&i(l)(...b)),onDblclick:w[1]||(w[1]=(...b)=>i(r)&&i(r)(...b)),onMouseenter:w[2]||(w[2]=(...b)=>i(d)&&i(d)(...b)),onMouseleave:w[3]||(w[3]=(...b)=>i(v)&&i(v)(...b))},[i(n)?(y(),k(F,{key:0},[i(a)?(y(),P(ue(i(a)),{key:0,data:i(n)},null,8,["data"])):(y(),P(xt,{key:1,data:i(n)},null,8,["data"]))],64)):N("",!0)],32))}}));var en=E(Lo,[["__scopeId","data-v-4631398e"]]);const Fo=H({name:g.name.ganttBackgroundRow}),Jo=H(L(x({},Fo),{props:{data:null},setup(e){var a,l;const t=e,{data:n}=se(t),{ganttRowStyle:s}=Ee(),o=C((l=(a=n.value)==null?void 0:a.uuid)!=null?l:vt(12));return(r,d)=>(y(),k("div",{key:o.value,class:"gt-gantt-row",style:S(i(s)(i(n).level))},null,4))}}));var Dt=E(Jo,[["__scopeId","data-v-cc413e46"]]);const Vo=H({components:{[Zt.name]:Zt,[en.name]:en,[Dt.name]:Dt}}),jo=H(L(x({},Vo),{props:{data:null,name:null},setup(e){const t=e,{data:n}=se(t),{inView:s}=zo(n),{rowWrapStyle:o}=Ee(),a=h(()=>t.name!==Dt.name);return(l,r)=>(y(),P(Sn,{tag:"div",name:"gt-update-animate"},{default:te(()=>[(y(!0),k(F,null,re(i(s),d=>(y(),P(ue(i(to)(e.name)),{key:d.uuid,data:d,style:S(i(o)(d.__uindex,d.uuid,i(a))),class:"gt-update-animate-item"},null,8,["data","style"]))),128))]),_:1}))}}));var $t=E(jo,[["__scopeId","data-v-294671bf"]]);const Po={class:"gt-table-header-chunk-content"},Qo=["onMousedown"],Yo=H({name:g.name.tableHeader}),Ko=H(L(x({},Yo),{setup(e){const{headerStyle:t}=Ee(),{GtParam:n}=G(),s=h(()=>n.tableHeaders),{onResizeColumnWidth:o}=Lt();return(a,l)=>(y(),k("div",{class:"gt-table-header gt-noselect",style:S(i(t))},[(y(!0),k(F,null,re(i(s),r=>(y(),k("div",{key:r.key,class:"gt-table-header-chunk",style:S(x({width:`${r.width}px`},i(t)))},[f("div",Po,W(r.text),1),r.key!==i(s).length-1?(y(),k("div",{key:0,class:"gt-header__table-chunk__move-slider",onMousedown:d=>i(o)(d,r)},null,40,Qo)):N("",!0)],4))),128))],4))}}));var Xo=E(Ko,[["__scopeId","data-v-5bde0fdd"]]);const Zo=e=>(it("data-v-bafe6a9c"),e=e(),ut(),e),es=Zo(()=>f("div",{class:"gt-table-bottom-bar"},null,-1)),ts=H({props:{rowData:null},emits:["table-scroll"],setup(e,{emit:t}){const{rowHeight:n}=ce();function s(a){a.stopPropagation(),t("table-scroll",a)}const{tableRef:o}=Eo();return(a,l)=>(y(),k("div",{ref_key:"tableRef",ref:o,class:"gt-table",onWheelPassive:s,onDOMMouseScrollPassive:s},[R(Xo),f("div",{class:"gt-table-row-wrap",style:S({height:`${i(n)*e.rowData.length}px`,position:"relative"})},[R($t,{data:e.rowData,name:i(g).name.tableRow},null,8,["data","name"])],4),es],544))}});var ns=E(ts,[["__scopeId","data-v-bafe6a9c"]]);function tn(e,t){const{GtParam:n}=G(),s=new Date(Le(e)).setHours(0);return qe(s,t)/ne(n.headerUnit)}function nn(){const{GtParam:e}=G();function t(n){if(e.ganttHeaders.length===0)return!1;const s=e.startDate.setHours(0),o=e.endDate.setHours(24);return!(n.getTime()<s||n.getTime()>o)}return{isInArea:t}}function on(){const{GtParam:e,oneDayWidth:t}=G(),{GtData:n}=ae(),{isInArea:s}=nn(),{colorSelectStr:o}=Qe(),a=h(()=>s(U())),l=h(()=>a.value&&e.ganttOptions.showToday),r=h(()=>{const p=new Date().setHours(0);return J(tn(n.start,p)*t.value)}),d=h(()=>{switch(e.ganttOptions.columnSize){case"large":return 2;case"normal":return 1;default:return 0}}),v=h(()=>{var p;return{left:`${r.value-d.value}px`,width:`${e.headerUnit==="day"?t.value:5}px`,height:"100%","background-color":((p=e.ganttOptions.body)==null?void 0:p.todayColor)||g.color.today[o.value]}}),u=h(()=>e.headerUnit==="day"?t.value>50?50:t.value:15),c=h(()=>{var p;return{left:`${e.headerUnit==="day"?r.value+(t.value-u.value)/2:r.value-u.value/2+2}px`,"border-width":`${u.value/2}px`,"border-top-color":(p=e.ganttOptions.body)==null?void 0:p.todayColor}});return{isTodayInArea:a,showTodayLine:l,todayLineStyle:v,todayLeft:r,todayArrowStyle:c}}function os(){const{GtData:e}=ae(),{GtParam:t,oneDayWidth:n}=G(),{ganttWidth:s}=ce(),{colorSelectStr:o}=Qe(),a=h(()=>{const r=[];if(!t.ganttOptions.showWeekend||t.headerUnit!=="day")return r;let v=U(e.start).getDay(),u=0;for(v===0&&(r.push(v),v+=6,u+=6);v>0&&v<6;)v++,u++;for(;u*n.value<s.value;)r.push(u),r.push(++u),++v,v+=6,u+=6;return r}),l=h(()=>r=>{var d;return{left:`${r*n.value}px`,width:`${n.value}px`,height:"100%","background-color":((d=t.ganttOptions.body)==null?void 0:d.weekendColor)||g.color.weekend[o.value]}});return{weekendList:a,weekendStyle:l}}function ss(){const{GtData:e}=ae(),{oneDayWidth:t}=G(),{isInArea:n}=nn(),{INoDateError:s}=We(),{ganttRef:o}=At(),{showToast:a}=St();function l(r){if(!o.value)return;if((gt(r)||!pt(r))&&(r=new Date),!n(r)){a("\u65F6\u95F4\u8D85\u51FA\u8303\u56F4"),s(r);return}r.setHours(0);const d=J(tn(e.start,r)*t.value);let v=0,u=0;if(o.value.scrollLeft<d?u=d-o.value.clientWidth/3:v=Math.abs(o.value.clientWidth/6-d),v&&u)return;const c=1e3,p=v||u;let w=null,b=0,_;function A(O){if(w!==null&&o.value){if(o.value.scrollLeft<v||u>0&&o.value.scrollLeft>=u||_===o.value.scrollLeft)return;const V=p*(O-w)/c;if(v)b-=V;else if(u)b+=V;else return;_=o.value.scrollLeft,o.value.scrollLeft+=b}w=O,window.requestAnimationFrame(A)}window.requestAnimationFrame(A)}return{handleJumpTo:l,ganttRef:o}}const as={class:"gt-gantt-header-chunk-unit"},rs={class:"gt-gantt-header-chunk-one"},ls=H({name:g.name.ganttHeader}),is=H(L(x({},ls),{setup(e){const{GtParam:t,oneDayWidth:n}=G(),{headerStyle:s}=Ee(),o=h(()=>t.ganttHeaders),{showDateList:a}=Jt(),l=h(()=>(u,c=!1)=>({width:`${n.value*u}px`,borderColor:"var(--j-content-border-color)",backdropFilter:c?"brightness(1.2)":""})),r=h(()=>(u,c)=>{for(let p=0;p<a.length;p++){const w=a[p],b=Le(w,t.headerUnit==="month"?"yyyy":"yyyy-MM");let _;switch(t.headerUnit){case"month":_=ht(w);break;case"week":_=ct(w);break;case"day":default:_=ft(w);break}if(t.headerUnit==="day"&&u===b&&c===_||t.headerUnit!=="day"&&c===_)return!0}return!1}),{showTodayLine:d,todayArrowStyle:v}=on();return(u,c)=>(y(),k("div",{class:"gt-gantt-header gt-noselect",style:S(i(s))},[i(d)?(y(),k("div",{key:0,class:"gt-gantt-header-today-arrow",style:S(i(v))},null,4)):N("",!0),(y(!0),k(F,null,re(i(o).list,(p,w)=>(y(),k("div",{key:w,class:"gt-gantt-header-chunk",style:S(i(l)(p.one.reduce((b,_)=>_.len+b,0)))},[f("div",as,W(p.unit),1),f("div",rs,[(y(!0),k(F,null,re(p.one,(b,_)=>(y(),k("div",{key:_,style:S(i(l)(b.len,i(r)(p.unit,b.text)))},W(b.text),5))),128))])],4))),128))],4))}}));var us=E(is,[["__scopeId","data-v-7cfc7e70"]]);const ds=H({props:{rowData:null},emits:["gantt-scroll"],setup(e,{emit:t}){function n(u){t("gantt-scroll",u)}const{rowHeight:s,ganttWidth:o}=ce(),{showTodayLine:a,todayLineStyle:l}=on(),{weekendList:r,weekendStyle:d}=os(),{ganttRef:v}=Ao();return(u,c)=>(y(),k("div",{ref_key:"ganttRef",ref:v,class:"gt-gantt",onWheelPassive:n,onDOMMouseScrollPassive:n,onScrollPassive:n},[R(us,{style:S({width:`${i(o)}px`})},null,8,["style"]),f("div",{class:"gt-gantt-row-wrap",style:S({width:`${i(o)}px`,height:`${i(s)*e.rowData.length}px`,position:"relative"})},[R($t,{data:e.rowData,name:i(g).name.ganttBackgroundRow},null,8,["data","name"]),i(a)?(y(),k("div",{key:0,class:"gt-today-line",style:S(i(l))},null,4)):N("",!0),(y(!0),k(F,null,re(i(r),p=>(y(),k("div",{key:p,class:"gt-weekend-line",style:S(i(d)(p))},null,4))),128)),R($t,{data:e.rowData,name:i(g).name.ganttRow},null,8,["data","name"])],4)],544))}});var cs=E(ds,[["__scopeId","data-v-3058ffc8"]]);const hs=H({name:"GanttBtn",props:{icon:{type:String,required:!0},turn:{type:Boolean},size:{type:Number,default:30}}});function fs(e,t,n,s,o,a){return y(),k("div",{class:j(["gt-btn-wrap",{"turn-animation":e.turn}]),style:S({width:`${e.size}px`,height:`${e.size}px`})},[f("i",{class:j(`icon ${e.icon}`)},null,2)],6)}var gs=E(hs,[["render",fs],["__scopeId","data-v-3eb2e2b4"]]);const ps=H({name:"GanttSlider",props:{modelValue:Number,min:{type:Number,default:0},max:{type:Number,defalut:100}},setup(e,t){const{modelValue:n}=se(e);return{value:h({get:()=>n.value,set:o=>{t.emit("update:modelValue",o)}})}}}),vs={class:"gt-slider-bar"},_s=["min","max"],ys={class:"show-val gt-shadow"};function ms(e,t,n,s,o,a){return y(),k("div",vs,[Hn(f("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>e.value=l),type:"range",min:e.min,max:e.max},null,8,_s),[[xn,e.value]]),f("div",ys,W(e.value),1)])}var As=E(ps,[["render",ms],["__scopeId","data-v-61f471d9"]]);const Ue=e=>(it("data-v-6f4679d9"),e=e(),ut(),e),bs=Ue(()=>f("div",{class:"gt-text-title",style:{"margin-bottom":"1rem"}},"\u7CFB\u7EDF\u8BBE\u7F6E",-1)),ws={style:{display:"inline-flex",gap:"1rem"}},ks={style:{display:"inline-block"}},Cs=Ue(()=>f("div",{class:"gt-text-secondary-title"},"\u4FEE\u6539\u7518\u7279\u56FE\u5217\u5BBD",-1)),Ss={style:{display:"flex",gap:"0.5rem"}},Hs={style:{display:"inline-block"}},xs=Ue(()=>f("div",{class:"gt-text-secondary-title"},"\u4FEE\u6539\u884C\u9AD8",-1)),Ds={style:{"margin-top":"1rem"}},$s=Ue(()=>f("div",{class:"gt-text-title",style:{"margin-bottom":"1rem"}},"\u7518\u7279\u663E\u793A",-1)),Rs={style:{display:"flex",gap:"1rem"}},Ts=Ue(()=>f("div",{class:"gt-line gt-shadow"},null,-1)),Os=H({name:"GanttDrawer"}),Es=H(L(x({},Os),{props:{show:{type:Boolean}},setup(e){const t=e,{show:n}=se(t),s=C(2e3),o=C(),{GtParam:a}=G();function l(_){a.setGanttOptions({[g.key.columnSize]:_})}function r(_){a.rowHeight=_}function d(){a.resetSize()}function v(_){a.headerUnit=_}const u=h(()=>({"min-width":"200px",right:n.value?"0px":`-${s.value+10}px`})),c=h(()=>a.getSlot(g.slots.settings)),p=h({get:()=>J(a.rowHeight,g.size.defaultContentRowHeight),set:_=>r(_)}),w=h(()=>g.size.minContentRowHeight),b=h(()=>g.size.maxContentRowHeight);return Ne(()=>{var _,A;s.value=(A=(_=o.value)==null?void 0:_.clientWidth)!=null?A:2e3}),(_,A)=>(y(),k("div",{ref_key:"drawerRef",ref:o,class:"gt-operation-drawer",style:S(i(u))},[f("div",null,[bs,f("div",ws,[f("div",ks,[Cs,f("div",Ss,[f("button",{class:"gt-drawer-reset-btn",style:{"font-size":"10px"},onClick:A[0]||(A[0]=()=>l("small"))}," \u5C0F "),f("button",{class:"gt-drawer-reset-btn",style:{"font-size":"10px"},onClick:A[1]||(A[1]=()=>l("normal"))}," \u4E2D "),f("button",{class:"gt-drawer-reset-btn",style:{"font-size":"10px"},onClick:A[2]||(A[2]=()=>l("large"))}," \u5927 ")])]),f("div",Hs,[xs,R(As,{modelValue:i(p),"onUpdate:modelValue":A[3]||(A[3]=O=>Dn(p)?p.value=O:null),style:{margin:"5px 20px 10px 0px"},min:i(w),max:i(b)},null,8,["modelValue","min","max"])]),f("div",{style:{margin:"auto 0"}},[f("button",{class:"gt-drawer-reset-btn",onClick:d},"\u91CD\u7F6E")])])]),f("div",Ds,[$s,f("div",Rs,[f("button",{class:"gt-drawer-reset-btn",onClick:A[4]||(A[4]=()=>v("day"))}," \u65E5 "),f("button",{class:"gt-drawer-reset-btn",onClick:A[5]||(A[5]=()=>v("week"))}," \u5468 "),f("button",{class:"gt-drawer-reset-btn",onClick:A[6]||(A[6]=()=>v("month"))}," \u6708 ")])]),Ts,i(c)?(y(),P(ue(i(c)),{key:0})):N("",!0)],4))}}));var Us=E(Es,[["__scopeId","data-v-6f4679d9"]]);const zs={key:0,class:"gt-toast gt-noselect"},Bs=H({setup(e){const{isShowToast:t,toastMessage:n}=St();return(s,o)=>(y(),P($n,{name:"fade"},{default:te(()=>[i(t)?(y(),k("div",zs,W(i(n)),1)):N("",!0)]),_:1}))}});var Gs=E(Bs,[["__scopeId","data-v-4140bd4d"]]);const Is=H({props:{row:{type:Object,required:!0}},setup(e){const{headerHeight:t,rowHeight:n}=ce(),{successBarTimeout:s}=Ht();return(o,a)=>(y(),k("div",{class:"gt-success-bar",style:S({height:`${i(n)}px`,top:`${i(t)+i(n)*e.row.__uindex}px`,"animation-duration":`${i(s)/1e3}s`})},null,4))}});var Ms=E(Is,[["__scopeId","data-v-6b603e2a"]]);const Ye=C(!1);var Ns=()=>{function e(){Ye.value=!0}function t(){Ye.value=!1}const n=h(()=>({"gt-mask-show":Ye.value,"gt-mask-hide":!Ye.value}));return{showMask:e,hideMask:t,maskClass:n}},Ws=()=>{const{GtData:e}=ae(),{handleJumpTo:t}=ss(),{updateGanttHeaderUnit:n}=uo();function s(o){e.setSelectedByData(o)}return{setSelected:s,jumpToDate:t,setHeaderUnit:n}};const qs={key:0,class:"gt-root-btn-mask"},Ls=["onClick"],Fs=H({name:g.name.root}),Js=H(L(x({},Fs),{props:Oo,emits:["row-click","row-dbl-click","row-checked","move-slider","no-date-error"],setup(e,{expose:t,emit:n}){const s=e,o=dt(),{data:a,border:l,showExpand:r,expandAll:d,startKey:v,endKey:u,borderColor:c,primaryColor:p,showSettingBtn:w}=se(s),{rootRef:b}=bo();Kn(n),io(s,o);const _=h(()=>({isExpand:r.value?d.value:!0,startLabel:v.value,endLabel:u.value})),{allData:A}=co(a,_),{tableWheelHandle:O,ganttWheelHandle:V,scrollBarHeight:K}=Kt(),{tableWidth:T,headerHeight:oe}=ce(),{successBarList:he}=Ht();ko();const{colorSelectStr:X}=Qe(),fe=h(()=>({"--root-border":`${l.value}px`,"--table-width":`${T.value}px`,"--scrollbar-width":`${K.value}px`,"--header-height":`${oe.value}px`,"--j-content-border-color":c.value||g.color.border[X.value],"--j-primary-color":p.value||g.color.primary[X.value],"--j-content-bg-color":g.color.background[X.value],"--j-text-color":g.color.text[X.value]})),{sliderLineClass:Z,sliderLineStyle:He,onResizeTableWidth:ge}=Lt(),{opBtnStyle:xe,btnSize:De,onOpBtnMouseLeave:Ae,onOpBtnMouseEnter:$e}=Co(),{maskClass:Re,hideMask:M,showMask:I}=Ns();function ee(){M(),Xe()}const pe=C(!1);function Ke(){pe.value=!0}function Xe(){pe.value=!1}function Ze(){I(),Ke()}const{setSelected:et,jumpToDate:ze,setHeaderUnit:tt}=Ws();return t({setSelected:et,jumpToDate:ze,setHeaderUnit:tt}),(ve,Be)=>(y(),k("div",{ref_key:"rootRef",ref:b,class:"gt-root",style:S(i(fe))},[i(w)?(y(),k("div",qs,[R(gs,{icon:"more",size:i(De),style:S(i(xe)),onMouseenterPassive:i($e),onMouseleavePassive:i(Ae),onClick:ie(Ze,["stop"])},null,8,["size","style","onMouseenterPassive","onMouseleavePassive","onClick"])])):N("",!0),f("div",{class:j(["gt-column-slider-line",i(Z)]),style:S(i(He))},null,6),f("div",{class:"gt-table-slider-line",style:S({left:`${i(T)-2}px`}),onMousedown:Be[0]||(Be[0]=(...be)=>i(ge)&&i(ge)(...be))},null,36),R(ns,{"row-data":i(A),onTableScroll:i(O)},null,8,["row-data","onTableScroll"]),R(cs,{"row-data":i(A),onGanttScroll:i(V)},null,8,["row-data","onGanttScroll"]),R(Us,{show:pe.value},null,8,["show"]),f("div",{class:j(i(Re)),onClick:ie(ee,["stop"])},null,10,Ls),R(Gs),(y(!0),k(F,null,re(i(he),be=>(y(),P(Ms,{key:be.uuid,row:be},null,8,["row"]))),128))],4))}}));var sn=E(Js,[["__scopeId","data-v-88913d14"]]);const Vs=[sn,Ft,xt],js=e=>{e.component(g.name.root,sn),e.component(g.name.column,Ft),e.component(g.name.slider,xt)};var Ps=x({install:js},Vs);Rn(Yn).use(Ps).mount("#app");
