import{_ as p,r as d,o as h,c as u,a,b as n,d as e,w as c,e as o}from"./app.e1d55119.js";const _={},k=n("h1",{id:"根组件-xgantt",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#根组件-xgantt","aria-hidden":"true"},"#"),e(" 根组件 XGantt")],-1),b=n("p",null,[e("对于 "),n("code",null,"XGantt"),e(" 组件，它具有非常丰富的属性。")],-1),m=n("h2",{id:"数据",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#数据","aria-hidden":"true"},"#"),e(" 数据")],-1),v=n("h3",{id:"data",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#data","aria-hidden":"true"},"#"),e(" data")],-1),g=o('<p>数据源，接收数组类型，同时数组中的每一个对象都应当包含 <code>index</code>, <code>startDate</code>, <code>endDate</code> 和 <s><code>children</code></s> 这些键，确保正确显示数据内容。</p><blockquote><p><code>children</code> 不再是必填项。</p></blockquote><p>另外，这些键名不是固定样式的，它可以通过传递参数进行替换，它们的作用不变。</p><div class="custom-container tip"><p class="custom-container-title">提示</p><ul><li><code>index</code> 确保数据的唯一性，它应对于所有数据全局唯一的。通过 <a href="#data-index">data-index</a> 替换</li><li><s><code>children</code> 可以使数据层级嵌套，如果没有子集，只需要置空即可</s></li><li><code>startDate</code> 可以在甘特图中正确渲染数据的起始日期。通过 <a href="#start-key">start-key</a> 替换</li><li><code>endDate</code> 可以在甘特图中正确渲染数据的截止日期。通过 <a href="#end-key">end-key</a> 替换</li></ul></div><div class="custom-container warning"><p class="custom-container-title">请注意</p><p>当修改（拖动等）对象时，startDate 和 endDate 会默认转为 Date 对象。请在使用时确保它们的类型正确。</p><p>所以建议直接使用 <code>Date</code> 对象，而不是字符串等。</p></div>',5),y={id:"links",tabindex:"-1"},f=n("a",{class:"header-anchor",href:"#links","aria-hidden":"true"},"#",-1),x=o(`<p>数据的连线数据。接收数组类型，数组中的每一个对象都应当包含 <code>from</code>, <code>to</code>，确保正确显示数据内容。</p><p>例如：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> ganttLinks <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;green&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token number">5</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;#abc&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如上，<code>from</code> 和 <code>to</code> 属性是必须的，这两个字段的值应当对应 <code>data</code> 中的 <code>data-id</code> 值。<code>color</code> 是可选的，可以设置连线的颜色。</p>`,4),w={id:"data-index",tabindex:"-1"},D=n("a",{class:"header-anchor",href:"#data-index","aria-hidden":"true"},"#",-1),j=n("s",null,"data-index",-1),S=o('<p><s>数据的全局唯一键，它应当是数据中的某一个键名，通常它会是 <code>index</code>、<code>id</code>、<code>uid</code> 等。如果它不是全局唯一的，则会引起渲染错误。</s></p><div class="custom-container tip"><p class="custom-container-title">提示</p><p><s>这也是我们建议在 <code>data</code> 中确保有一个 <code>index</code> 字段的具体作用。您也可以使用其他自定义字段，只需要匹配即可。</s></p></div>',2),B={id:"data-id",tabindex:"-1"},A=n("a",{class:"header-anchor",href:"#data-id","aria-hidden":"true"},"#",-1),E=o('<p>数据的全局唯一键，默认为 <code>id</code>。您必须确保它是数据中的某一个唯一的键名，通常它会是 <code>index</code>、<code>id</code>、<code>uid</code> 等。如果它不是全局唯一的，则会引起渲染错误。</p><div class="custom-container tip"><p class="custom-container-title">提示</p><p>如果数据中包含 <code>id</code> 属性，那么可以不提供该属性。 同时需要确保 <code>data</code> 中的每一个数据对象都包含该属性字段，并且是唯一的。</p></div><h3 id="end-key" tabindex="-1"><a class="header-anchor" href="#end-key" aria-hidden="true">#</a> end-key</h3>',3),C=n("p",null,[e("它对应数据中起始日期的键，默认值为 "),n("code",null,"endDate"),e("。如果找不到，则不会渲染甘特图中的内容。")],-1),L=n("h3",{id:"expand-all",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#expand-all","aria-hidden":"true"},"#"),e(" expand-all")],-1),q=n("p",null,[e("是否展开所有数据，默认为展开。如果设置为 "),n("code",null,"false"),e("，则只会渲染首层数据。")],-1),N=n("p",null,[n("strong",null,"请注意"),e("，当且仅当属性 "),n("a",{href:"#show-expand"},[n("code",null,"show-expand")]),e(" 为真时，该属性才会生效，否则所有数据一定会被全部展开渲染。")],-1),O=n("h3",{id:"start-key",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#start-key","aria-hidden":"true"},"#"),e(" start-key")],-1),z=o('<p>它对应数据中起始日期的键，默认值为 <code>startDate</code>。如果找不到，则不会渲染甘特图中的内容。</p><h2 id="样式" tabindex="-1"><a class="header-anchor" href="#样式" aria-hidden="true">#</a> 样式</h2><div class="custom-container tip"><p class="custom-container-title">提示</p><p>所有颜色属性除特殊情况外，都可以传递 rgb 或 <code>#</code> 开头的 16 进制颜色值，但是不接受英文颜色值。英文颜色在黑暗模式下可能会失效。</p><p>推荐统一使用 <code>#</code> 开头的 16 进制颜色值。</p></div><h3 id="body-style" tabindex="-1"><a class="header-anchor" href="#body-style" aria-hidden="true">#</a> body-style</h3>',4),T=n("p",null,"用于配置甘特图内容区域的样式。它接收固定参数，用于改变其中的样式。",-1),I=n("div",{class:"custom-container warning"},[n("p",{class:"custom-container-title"},"请注意"),n("p",null,[n("code",null,"Object"),e(" 中的键应当区分大小写，这与 html 的参数方式不太一样。")])],-1),H=n("h4",{id:"bgcolor",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#bgcolor","aria-hidden":"true"},"#"),e(" - bgColor")],-1),P=n("p",null,"设置整体内容区域的背景颜色，默认为白色（黑暗模式下默认为黑色）。",-1),V=n("p",null,[e("它接收任意颜色参数，包括符合 html 规范的颜色英文，16 进制颜色描述（"),n("strong",null,[e("注意 "),n("code",null,"#"),e(" 符号不可缺少")]),e("），或者 "),n("code",null,"rgb()"),e(" 样式的内容，它只要是字符串格式即可。")],-1),X=n("h4",{id:"hovercolor",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#hovercolor","aria-hidden":"true"},"#"),e(" - hoverColor")],-1),G=n("p",null,"设置悬停行颜色。接收一个 HEX 颜色值，英文无效。",-1),R=n("h4",{id:"selectcolor",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#selectcolor","aria-hidden":"true"},"#"),e(" - selectColor")],-1),U=n("p",null,"设置悬停行颜色。接收一个 HEX 颜色值，英文无效。",-1),F=n("h4",{id:"textcolor",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#textcolor","aria-hidden":"true"},"#"),e(" - textColor")],-1),J=n("p",null,"设置整体内容区域的文本颜色。",-1),K=n("p",null,[e("它接收任意颜色参数，包括符合 html 规范的颜色英文，16 进制颜色描述（"),n("strong",null,[e("注意 "),n("code",null,"#"),e(" 符号不可缺少")]),e("），或者 "),n("code",null,"rgb()"),e(" 样式的内容，它只要是字符串格式即可。")],-1),M=n("h4",{id:"todaycolor",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#todaycolor","aria-hidden":"true"},"#"),e(" - todayColor")],-1),Q=o('<p>设置 <code>今日</code> 时间线的背景颜色。</p><p>它接收任意颜色参数，包括符合 html 规范的颜色英文，16 进制颜色描述（<strong>注意 <code>#</code> 符号不可缺少</strong>），或者 <code>rgb()</code> 样式的内容，它只要是字符串格式即可。</p><h4 id="weekendcolor" tabindex="-1"><a class="header-anchor" href="#weekendcolor" aria-hidden="true">#</a> - weekendColor</h4>',3),W=o('<p>设置 <code>周末</code> 时间线的背景颜色。</p><p>它接收任意颜色参数，包括符合 html 规范的颜色英文，16 进制颜色描述（<strong>注意 <code>#</code> 符号不可缺少</strong>），或者 <code>rgb()</code> 样式的内容，它只要是字符串格式即可。</p><h3 id="border" tabindex="-1"><a class="header-anchor" href="#border" aria-hidden="true">#</a> border</h3>',3),Y=n("p",null,"是否显示甘特表整体的边框，默认为 1，0 为不显示。",-1),Z=n("h3",{id:"border-color",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#border-color","aria-hidden":"true"},"#"),e(" border-color")],-1),$=n("p",null,"设置整个组件的边框颜色。",-1),nn=n("p",null,[e("它接收任意颜色参数，包括符合 html 规范的颜色英文，16 进制颜色描述（"),n("strong",null,[e("注意 "),n("code",null,"#"),e(" 符号不可缺少")]),e("），或者 "),n("code",null,"rgb()"),e(" 样式的内容，它只要是字符串格式即可。")],-1),en=n("h3",{id:"dark",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#dark","aria-hidden":"true"},"#"),e(" dark")],-1),an=n("p",null,"黑暗模式，它会修改页面的背景颜色、文字颜色和边框颜色。",-1),sn=n("div",{class:"custom-container warning"},[n("p",{class:"custom-container-title"},"请注意"),n("p",null,"它是默认属性，只会调整默认值。如果您设置了自定义的样式，该方案则不会生效。")],-1),tn=n("div",{class:"custom-container warning"},[n("p",{class:"custom-container-title"},"请注意"),n("p",null,[e("如果颜色使用了英文颜色值，那么在黑暗模式下可能会失效。为了避免此情况，请使用 "),n("code",null,"#"),e(" 开头的 16 进制颜色值。")])],-1),on={id:"draggable",tabindex:"-1"},dn=n("a",{class:"header-anchor",href:"#draggable","aria-hidden":"true"},"#",-1),cn={class:"custom-container warning"},ln=n("p",{class:"custom-container-title"},"注意",-1),rn={href:"https://github.com/xpyjs/gantt/issues",target:"_blank",rel:"noopener noreferrer"},pn=n("p",null,[e("开启该属性，允许对甘特图中的每行任务进行拖拽排序。默认情况下，仅允许拖拽同层内容的顺序。如果需要任意层级的拖拽时，可以传递一个对象，将参数配置为："),n("code",null,"{ level: 'all' }"),e(" 即可。")],-1),hn=n("p",null,"它允许您将数据任意排序，但不允许拖拽具有子父关系的数据。",-1),un=n("h3",{id:"header-height",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#header-height","aria-hidden":"true"},"#"),e(" header-height")],-1),_n=n("p",null,[e("设置表头的高度，它的范围应该至少大于 "),n("code",null,"30"),e("，否则会引起渲染异常。")],-1),kn=n("h3",{id:"header-style",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#header-style","aria-hidden":"true"},"#"),e(" header-style")],-1),bn=n("p",null,"用于配置甘特表头的样式。它接收固定参数，用于改变其中的样式。",-1),mn=n("div",{class:"custom-container warning"},[n("p",{class:"custom-container-title"},"请注意"),n("p",null,[n("code",null,"Object"),e(" 中的键应当区分大小写，这与 html 的参数方式不太一样。")])],-1),vn=n("h4",{id:"bgcolor-1",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#bgcolor-1","aria-hidden":"true"},"#"),e(" - bgColor")],-1),gn=o('<p>设置表头的背景颜色，默认使用 <a href="#primary-color">primary-color</a>。如果给该属性赋值，则使用该属性颜色，若要重置，将该属性置为 <code>&quot;&quot;</code> 即可。</p><p>它接收任意颜色参数，包括符合 html 规范的颜色英文，16 进制颜色描述（<strong>注意 <code>#</code> 符号不可缺少</strong>），或者 <code>rgb()</code> 样式的内容，它只要是字符串格式即可。</p><h4 id="textcolor-1" tabindex="-1"><a class="header-anchor" href="#textcolor-1" aria-hidden="true">#</a> - textColor</h4>',3),yn=n("p",null,"设置表头的文本颜色。",-1),fn=n("p",null,[e("它接收任意颜色参数，包括符合 html 规范的颜色英文，16 进制颜色描述（"),n("strong",null,[e("注意 "),n("code",null,"#"),e(" 符号不可缺少")]),e("），或者 "),n("code",null,"rgb()"),e(" 样式的内容，它只要是字符串格式即可。")],-1),xn={id:"highlight-date",tabindex:"-1"},wn=n("a",{class:"header-anchor",href:"#highlight-date","aria-hidden":"true"},"#",-1),Dn=n("p",null,[e("是否在悬停当前行时，高亮显示当前日期，默认为 "),n("code",null,"false"),e("。")],-1),jn={id:"holidays",tabindex:"-1"},Sn=n("a",{class:"header-anchor",href:"#holidays","aria-hidden":"true"},"#",-1),Bn=o(`<p>允许用户自定义渲染特定假期。</p><p>它接收一个数组，每一个数组都可以单独设置日期、颜色，用户可以根据自己的需求单独配置不同的日期。</p><p><code>TypeScript</code> 类型：</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token punctuation">{</span>
  date<span class="token operator">:</span> <span class="token punctuation">(</span>Date <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span>Date <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  color<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span><span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="gantt-column-size" tabindex="-1"><a class="header-anchor" href="#gantt-column-size" aria-hidden="true">#</a> gantt-column-size</h3>`,5),An=o(`<p>设置甘特图中每一列的列宽，支持 <code>小</code>、<code>中</code>、<code>大</code> 三种样式。默认为 <code>中</code>。</p><p><code>v2.1.4+</code> 增加自定义宽度。允许传递一个对象，分别对每一个单位的列宽进行单独设置（如果没有对应的值，则使用 <code>normal</code> 的值）。</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>x-gantt</span>
  <span class="token attr-name">:gantt-column-size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{
    hour?: number;
    day?: number;
    week?: number;
    month?: number;
  }<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="level-color" tabindex="-1"><a class="header-anchor" href="#level-color" aria-hidden="true">#</a> level-color</h3>`,4),En=n("p",null,"设置每一层级数据的颜色，默认随背景颜色。",-1),Cn=n("p",null,"这是一个有意思的设置。因为数据可以是树形结构，所以为了更好的区分树形数据内容，您可以为不同层级的数据内容增加不同颜色。",-1),Ln=n("p",null,"在渲染时，对应层级的数据会在该数组中查找对应的背景颜色，如果存在，那么就会渲染，否则渲染普通背景颜色。",-1),qn=n("div",{class:"custom-container tip"},[n("p",{class:"custom-container-title"},"提示"),n("p",null,"例如，您的数据有 3 层，那么您可以传入一个长度为 3 的数组，内容是文本颜色，它接收任意颜色参数，包括符合 html 规范的所有颜色，包括 16 进制颜色等。"),n("p",null,"当然，您也可以只传入长度为 1 的数组，那么甘特表只会渲染顶层层级数据的背景颜色，其他层级继续使用默认背景色。")],-1),Nn={id:"locale",tabindex:"-1"},On=n("a",{class:"header-anchor",href:"#locale","aria-hidden":"true"},"#",-1),zn=n("p",null,"设置显示语言。主要为表头内容。",-1),Tn=n("code",null,"dayjs",-1),In=n("h3",{id:"primary-color",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#primary-color","aria-hidden":"true"},"#"),e(" primary-color")],-1),Hn=n("p",null,"设置组件的主色调。它会用于表头背景、滑块默认颜色，以及按钮等主色位置。",-1),Pn=n("h3",{id:"row-height",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#row-height","aria-hidden":"true"},"#"),e(" row-height")],-1),Vn=n("p",null,[e("设置内容区域的行高。默认值为 "),n("code",null,"30"),e("， 最小值 "),n("code",null,"20"),e("，最大值 "),n("code",null,"70"),e("。应当确保给定的数字再这个区间范围，否则会引起渲染错误。")],-1),Xn=n("h3",{id:"show-checkbox",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#show-checkbox","aria-hidden":"true"},"#"),e(" show-checkbox")],-1),Gn=n("p",null,[e("设置是否显示复选框，这个对于多选很有用。当复选框可用时，点击会抛出 "),n("a",{href:"#row-checked"},[n("code",null,"row-checked")]),e(" 事件。")],-1),Rn=n("h3",{id:"show-expand",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#show-expand","aria-hidden":"true"},"#"),e(" show-expand")],-1),Un=o('<p>设置是否显示展开数据按钮。默认为 <code>true</code>，如果给出 <code>false</code>，那么展开按钮不可用，同时所有数据会全部展开，同时 <a href="#expand-all"><code>expand-all</code></a> 属性会失效。</p><div class="custom-container tip"><p class="custom-container-title">建议</p><p>通常情况下，您不用设置这两个属性，因为它们已经处于使用的状态。除非您不希望展开功能，设置 <code>show-expand</code> 为 <code>false</code> 即可。</p></div>',2),Fn={id:"show-setting-btn",tabindex:"-1"},Jn=n("a",{class:"header-anchor",href:"#show-setting-btn","aria-hidden":"true"},"#",-1),Kn=n("s",null,"show-setting-btn",-1),Mn=n("p",null,[n("s",null,[e("设置是否显示右上角的设置栏按钮。默认为 "),n("code",null,"true"),e("。")])],-1),Qn=n("p",null,[n("s",null,"如果关闭该选项，同时提供了对应的设置方法，可以供使用者通过调用对应方法进行设置，这给样式的自定义提供了一种便利。")],-1),Wn=n("h3",{id:"show-today",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#show-today","aria-hidden":"true"},"#"),e(" show-today")],-1),Yn=n("p",null,[e("设置是否显示甘特图中的 "),n("code",null,"今日"),e(" 时间线。")],-1),Zn=n("h3",{id:"show-weekend",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#show-weekend","aria-hidden":"true"},"#"),e(" show-weekend")],-1),$n=n("p",null,[e("设置是否显示甘特图中的 "),n("code",null,"周末"),e(" 时间线。")],-1),ne={id:"slider-into-view",tabindex:"-1"},ee=n("a",{class:"header-anchor",href:"#slider-into-view","aria-hidden":"true"},"#",-1),ae=n("p",null,"该属性将允许在点击行时，将当前行的甘特区域的 slider 滑块滑动到可视区域内（如果该行数据有日期属性）。",-1),se={id:"unit",tabindex:"-1"},te=n("a",{class:"header-anchor",href:"#unit","aria-hidden":"true"},"#",-1),oe=o('<p>设置甘特图的时间单位。默认为 <code>day</code>，即以天为单位。它接收 <code>month</code>、<code>week</code>、<code>day</code>、<code>hour</code> 四种单位。</p><div class="custom-container tip"><p class="custom-container-title">提示</p><p>该属性替代了之前的 <code>setHeaderUnit</code> 方法。</p></div><h2 id="事件" tabindex="-1"><a class="header-anchor" href="#事件" aria-hidden="true">#</a> 事件</h2>',3),de={id:"add-link",tabindex:"-1"},ie=n("a",{class:"header-anchor",href:"#add-link","aria-hidden":"true"},"#",-1),ce=o(`<p>添加连线时触发事件。它接收三个参数，第一个参数是当前添加的连线，第二个参数是当前添加的连线对应的数据，第三个参数是一个回调函数，如果您需要修改当前添加的连线，可以在回调函数中调整新建的连线。回调函数会在创建之后、渲染之前执行。</p><p>例如：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">onAddLink</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  <span class="token literal-property property">link</span><span class="token operator">:</span> any<span class="token punctuation">,</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> any<span class="token punctuation">;</span> to<span class="token operator">:</span> any <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">cb</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">link</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> _link <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">index</span><span class="token operator">:</span> linkId<span class="token operator">++</span><span class="token punctuation">,</span>
    <span class="token literal-property property">from</span><span class="token operator">:</span> link<span class="token punctuation">.</span>from<span class="token punctuation">,</span>
    <span class="token literal-property property">to</span><span class="token operator">:</span> link<span class="token punctuation">.</span>to<span class="token punctuation">,</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;green&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  ganttLinks<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>_link<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">cb</span><span class="token punctuation">(</span>_link<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意上面代码的第12行（高亮行），在处理之后，请将该连线对象添加到 <code>ganttLinks</code> 中，以完成渲染。这是因为数据的填写应当在组件外部完成，它可以由用户更好的控制。</p>`,4),le={id:"click-link",tabindex:"-1"},re=n("a",{class:"header-anchor",href:"#click-link","aria-hidden":"true"},"#",-1),pe=n("p",null,"点击连线时触发事件。参数是当前点击的连线数据。如果没有选择，会返回 null。",-1),he=n("h3",{id:"no-date-error",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#no-date-error","aria-hidden":"true"},"#"),e(" no-date-error")],-1),ue=n("p",null,[n("code",null,"跳转到"),e(" 事件触发后，如果给出的日期不在当前甘特范围内，则触发该异常，可以接收该异常并自定义后续事件。")],-1),_e={id:"move-progress",tabindex:"-1"},ke=n("a",{class:"header-anchor",href:"#move-progress","aria-hidden":"true"},"#",-1),be=n("s",null,"move-progress",-1),me=n("p",null,[n("s",null,"移动指定甘特行中的进度条触发事件。会返回当前行的数据以及原进度数值。")],-1),ve={id:"move-slider",tabindex:"-1"},ge=n("a",{class:"header-anchor",href:"#move-slider","aria-hidden":"true"},"#",-1),ye=n("ul",null,[n("li",null,"row: 更新后的数据内容"),n("li",null,[n("s",null,"{start: Date, end: Date}: 当前拖动项的旧的起止日期。")])],-1),fe=n("p",null,"每一条数据都会单独保存它移动前的旧日期，方便后续操作。",-1),xe=n("p",null,"移动甘特行滑块后的事件。",-1),we=n("h3",{id:"row-checked",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#row-checked","aria-hidden":"true"},"#"),e(" row-checked")],-1),De=n("ul",null,[n("li",null,"state: 选中状态，true | false"),n("li",null,"data: 选中的数据内容，Object"),n("li",null,"list: 当前事件中所影响到的数据集合，Array")],-1),je=n("p",null,"选择复选框时触发该事件。",-1),Se=n("h3",{id:"row-click",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#row-click","aria-hidden":"true"},"#"),e(" row-click")],-1),Be=n("ul",null,[n("li",null,"data: 行数据内容，Object | undefined")],-1),Ae=n("p",null,"单击行元素时触发的事件。",-1),Ee=n("div",{class:"custom-container tip"},[n("p",{class:"custom-container-title"},"TIP"),n("p",null,[e("当您选择了一行内容，并且在外部更新了数据，使得该条数据被删除，则会触发一个选择 "),n("code",null,"undefined"),e(" 的事件。")]),n("p",null,"这样做的好处是您不必担心在外部再次调用该无效内容。")],-1),Ce=n("h3",{id:"row-dbl-click",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#row-dbl-click","aria-hidden":"true"},"#"),e(" row-dbl-click")],-1),Le=n("ul",null,[n("li",null,"data: 行数据内容，Object")],-1),qe=n("p",null,"双击行元素时触发的事件。",-1),Ne=n("h2",{id:"方法",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#方法","aria-hidden":"true"},"#"),e(" 方法")],-1),Oe=n("h3",{id:"jumptodate",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#jumptodate","aria-hidden":"true"},"#"),e(" jumpToDate")],-1),ze=n("p",null,"新增一个跳转日期方法，可以替换之前的跳转到今日，同时提供跳转到任意日期。",-1),Te=n("p",null,"默认不传参或者非日期参数，则跳转到今日。",-1),Ie=n("h3",{id:"setselected",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#setselected","aria-hidden":"true"},"#"),e(" setSelected")],-1),He=n("p",null,"允许向组件设置选择项，它会渲染该项内容为已选择状态。",-1),Pe=n("div",{class:"custom-container tip"},[n("p",{class:"custom-container-title"},"TIP"),n("p",null,[e("参数 "),n("code",null,"data"),e(" 应该是数据列表中的某一个元素。")])],-1),Ve={id:"setheaderunit",tabindex:"-1"},Xe=n("a",{class:"header-anchor",href:"#setheaderunit","aria-hidden":"true"},"#",-1),Ge=n("s",null,"setHeaderUnit",-1),Re=o(`<p><s>允许使用者切换甘特表头的显示方式。只接收被允许的值，如果给错误值，则默认显示为 <code>day</code>。</s></p><p>现在通过 <a href="#unit"><code>unit</code></a> 属性来设置表头显示方式。</p><h2 id="插槽" tabindex="-1"><a class="header-anchor" href="#插槽" aria-hidden="true">#</a> 插槽</h2><p>根组件不支持插入默认内容，它仅仅支持如下的具名插槽或者我们提供的子组件。</p><h3 id="settings" tabindex="-1"><a class="header-anchor" href="#settings" aria-hidden="true">#</a> settings</h3><p><em>我不知道这个插槽是否真正需要，但还是把它添加了。</em></p><p>这个插槽会允许您在设置抽屉中添加任意内容。</p><p>使用方式：</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name"><span class="token namespace">v-slot:</span>settings</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- any element --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="列组件" tabindex="-1"><a class="header-anchor" href="#列组件" aria-hidden="true">#</a> 列组件</h3>`,10),Ue=n("h3",{id:"滑块组件",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#滑块组件","aria-hidden":"true"},"#"),e(" 滑块组件")],-1),Fe=n("hr",null,null,-1),Je=n("p",null,"接下来，您将深入学习使用这两个组件。",-1);function Ke(Me,Qe){const l=d("Description"),s=d("DataParameter"),t=d("Badge"),r=d("ExternalLinkIcon"),i=d("RouterLink");return h(),u("div",null,[k,a(l,{author:"jeremyjone",copyright:"xpyjs"}),b,m,v,a(s,{t:"Array",d:"[]"}),g,n("h3",y,[f,e(" links "),a(t,{text:"新增",type:"tip"})]),a(s,{t:"Array",d:"[]"}),x,n("h3",w,[D,e(),j,e(),a(t,{text:"移除",type:"warning"})]),a(s,{r:"",t:"String"}),S,n("h3",B,[A,e(" data-id "),a(t,{text:"十分重要",type:"danger"})]),a(s,{t:"String",d:"id"}),E,a(s,{t:"String",d:"endDate"}),C,L,a(s,{t:"Boolean",d:"true"}),q,N,O,a(s,{t:"String",d:"startDate"}),z,a(s,{t:"Object",d:"{}"}),T,I,H,a(s,{t:"String",d:"white"}),P,V,X,a(s,{t:"String",d:"#ccc"}),G,R,a(s,{t:"String",d:"#999"}),U,F,a(s,{t:"String",d:"#282828"}),J,K,M,a(s,{t:"String",d:"lightblue"}),Q,a(s,{t:"String",d:"lightgrey"}),W,a(s,{t:"Number",d:"1"}),Y,Z,a(s,{t:"String",d:"#E5E5E5"}),$,nn,en,a(s,{t:"Boolean",d:"false"}),an,sn,tn,n("h3",on,[dn,e(" draggable "),a(t,{text:"新增2.1.0+",type:"tip"}),e(),a(t,{text:"预览功能",type:"warning"})]),a(s,{t:"Boolean | { level: 'all' | 'current' }",d:"false"}),n("div",cn,[ln,n("p",null,[e("这是一个预览功能，如果出现任何 bug，或者您希望有所改进，欢迎给我们提出 "),n("a",rn,[e("issue"),a(r)])])]),pn,hn,un,a(s,{t:"Number | String",d:"80"}),_n,kn,a(s,{t:"Object",d:"{}"}),bn,mn,vn,a(s,{t:"String",d:""}),gn,a(s,{t:"String",d:"black"}),yn,fn,n("h3",xn,[wn,e(" highlight-date "),a(t,{text:"新增",type:"warning"})]),a(s,{t:"Boolean",d:"false"}),Dn,n("h3",jn,[Sn,e(" holidays "),a(t,{text:"新增",type:"tip"})]),a(s,{t:"Array",d:"[]"}),Bn,a(s,{t:"'normal' | 'small' | 'large' | object",d:"'normal'"}),An,a(s,{t:"Array",d:"[]"}),En,Cn,Ln,qn,n("h3",Nn,[On,e(" locale "),a(t,{text:"新增",type:"tip"})]),a(s,{t:"String",d:"en"}),zn,n("p",null,[e("支持所有 "),Tn,e(" 语言包。具体参看 "),a(i,{to:"/common.html#%E5%A4%9A%E8%AF%AD%E8%A8%80"},{default:c(()=>[e("多语言")]),_:1}),e("。")]),In,a(s,{t:"String",d:"#ECA710"}),Hn,Pn,a(s,{t:"Number | String",d:"30"}),Vn,Xn,a(s,{t:"Boolean",d:"false"}),Gn,Rn,a(s,{t:"Boolean",d:"true"}),Un,n("h3",Fn,[Jn,e(),Kn,e(),a(t,{text:"移除",type:"warning"})]),a(s,{t:"Boolean",d:"true"}),Mn,Qn,Wn,a(s,{t:"Boolean",d:"true"}),Yn,Zn,a(s,{t:"Boolean",d:"true"}),$n,n("h3",ne,[ee,e(" slider-into-view "),a(t,{text:"新增",type:"tip"})]),a(s,{t:"Boolean",d:"false"}),ae,n("h3",se,[te,e(" unit "),a(t,{text:"新增",type:"tip"})]),a(s,{t:"'month' | 'week' | 'day' | 'hour'",d:"day"}),oe,n("h3",de,[ie,e(" add-link "),a(t,{text:"更新",type:"tip"})]),a(s,{f:"@add-link -> function(link: {from: string | number, to: string | number}, { from: any, to: any }, cb: ({from: string | number, to: string | number}) => void)"}),ce,n("h3",le,[re,e(" click-link "),a(t,{text:"更新",type:"tip"})]),a(s,{f:"@click-link -> function(link: any | null)"}),pe,he,a(s,{f:"@no-today-error -> function(date: Date)"}),ue,n("h3",_e,[ke,e(),be,e(),a(t,{text:"移除",type:"warning"})]),a(s,{f:"@move-progress -> function(data: any, old: number)"}),me,n("h3",ve,[ge,e(" move-slider "),a(t,{text:"更新",type:"tip"})]),n("p",null,[n("s",null,[a(s,{f:"@move-slider -> function(data: any[], {start: Date, end: Date})"})])]),a(s,{f:"@move-slider -> function({row: any, old: {start: Date, end: Date}}[])"}),n("p",null,[e("数组的第一项是当前选择拖动的内容，如果启用了子父级联动（"),a(i,{to:"/slider.html#linked-resize"},{default:c(()=>[e("linked-resize")]),_:1}),e("），则当子父级有变化时，会一同抛出，方便保存到数据库。")]),ye,fe,xe,we,a(s,{f:"@row-checked -> function(state: Boolean, data: any, list: any[])"}),De,je,Se,a(s,{f:"@row-click -> function(data: any)"}),Be,Ae,Ee,Ce,a(s,{f:"@dbl-click -> function(data: any)"}),Le,qe,Ne,Oe,a(s,{f:"jumpToDate: (date?: Date) => void"}),ze,Te,Ie,a(s,{f:"setSelected: (data: any) => void"}),He,Pe,n("h3",Ve,[Xe,e(),Ge,e(),a(t,{text:"移除",type:"warning"})]),n("p",null,[n("s",null,[a(s,{f:"setSelected: (data: 'day' | 'week' | 'month') => void"})])]),Re,n("p",null,[e("参见 "),a(i,{to:"/column.html"},{default:c(()=>[e("列组件")]),_:1})]),Ue,n("p",null,[e("参见 "),a(i,{to:"/slider.html"},{default:c(()=>[e("滑块组件")]),_:1})]),Fe,Je])}const Ye=p(_,[["render",Ke],["__file","root.html.vue"]]);export{Ye as default};
