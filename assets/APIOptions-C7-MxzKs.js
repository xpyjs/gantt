import{d as Q,s as I,b as O,c as a,o as s,n as H,e as k,a as o,f,x as F,w as _,t as L,F as w,r as $,_ as P,q,p as U,u as T,I as C,T as Y,k as x,l as R,m as W,y as N,z as j,A as G}from"./main-CXYMUWJJ.js";import{a as S}from"./api-B6djyykF.js";const J=["id"],K={class:"property-name"},X={key:0,class:"required"},Z={class:"property-type-info"},ee={key:0,class:"property-type"},te={key:0,class:"property-default"},ne={class:"property-description"},se=["innerHTML"],ie={key:0,class:"property-options"},oe={key:0,class:"property-updated"},ae=["innerHTML"],re={key:1,class:"property-children"},le=Q({__name:"PropertyItem",props:{item:{},level:{},searchQuery:{}},setup(t){const m=t,h=I(()=>`h${Math.min(m.level+1,6)}`),d=I(()=>!!(m.item.children&&m.item.children.length>0)),r=g=>{if(!m.searchQuery)return g.replace(/\n/g,"<br>");const c=new RegExp(`(${m.searchQuery})`,"gi");return g.replace(c,'<span class="search-highlight">$1</span>').replace(/\n/g,"<br>")};return(g,c)=>{const p=O("PropertyItem",!0);return s(),a("div",{id:t.item.id,class:H(["property-item",`level-${t.level}`])},[(s(),k(F(h.value),{class:"property-title"},{default:_(()=>[o("span",K,L(t.item.key),1),t.item.required?(s(),a("span",X,"*")):f("",!0),o("div",Z,[o("pre",null,[d.value?f("",!0):(s(),a("code",ee,L(t.item.type),1))]),t.item.defaultValue?(s(),a("code",te,L(t.item.defaultValue),1)):f("",!0)])]),_:1})),o("div",ne,[o("p",{class:"description-text",innerHTML:r(t.item.description)},null,8,se),t.item.options&&t.item.options.length?(s(),a("div",ie,[c[0]||(c[0]=o("strong",null,"可选值：",-1)),(s(!0),a(w,null,$(t.item.options,v=>(s(),a("span",{key:v,class:"option-tag"},L(v),1))),128))])):f("",!0)]),t.item.updated&&t.item.updated.length?(s(),a("div",oe,[c[1]||(c[1]=o("strong",null,"更新记录：",-1)),o("ul",null,[(s(!0),a(w,null,$(t.item.updated,v=>(s(),a("li",{key:v,innerHTML:r(v)},null,8,ae))),128))])])):f("",!0),t.item.children&&t.item.children.length?(s(),a("div",re,[(s(!0),a(w,null,$(t.item.children,v=>(s(),k(p,{key:v.id,item:v,level:t.level+1,"search-query":t.searchQuery},null,8,["item","level","search-query"]))),128))])):f("",!0)],10,J)}}}),ce=P(le,[["__scopeId","data-v-1ff9831f"]]),de={class:"nav-link-wrapper"},ue=["href"],he=["innerHTML"],me={key:0,class:"required-indicator",title:"必填项"},ve=["title"],ye={key:0,class:"nav-sublist"},ge=Q({__name:"MenuItemComponent",props:{item:{},activeSection:{},searchQuery:{}},emits:["toggle","navigate"],setup(t){const m=t,h=d=>{if(!m.searchQuery)return d;const r=m.searchQuery.toLowerCase(),c=d.toLowerCase().indexOf(r);if(c===-1)return d;const p=d.substring(0,c),v=d.substring(c,c+r.length),M=d.substring(c+r.length);return`${p}<mark class="search-highlight">${v}</mark>${M}`};return(d,r)=>{const g=O("MenuItemComponent",!0);return s(),a("li",{class:H(["nav-item",`level-${t.item.level}`])},[o("div",de,[o("a",{href:`#${t.item.id}`,class:H(["nav-link",{active:t.activeSection===t.item.id}]),onClick:r[0]||(r[0]=U(c=>d.$emit("navigate",t.item.id),["prevent","stop"]))},[o("span",{class:"nav-title",innerHTML:h(t.item.title)},null,8,he),t.item.required?(s(),a("span",me,"*")):f("",!0)],10,ue),t.item.hasChildren?(s(),a("button",{key:0,class:"expand-toggle",onClick:r[1]||(r[1]=c=>d.$emit("toggle",t.item.id)),title:t.item.expanded?"收起":"展开"},[q(T(C),{icon:t.item.expanded?"material-symbols:keyboard-arrow-down":"material-symbols:keyboard-arrow-right",width:"16",height:"16"},null,8,["icon"])],8,ve)):f("",!0)]),q(Y,{name:"expand"},{default:_(()=>[t.item.hasChildren&&t.item.expanded?(s(),a("ul",ye,[(s(!0),a(w,null,$(t.item.children,c=>(s(),k(g,{key:c.id,item:c,"active-section":t.activeSection,"search-query":t.searchQuery,onToggle:r[2]||(r[2]=p=>d.$emit("toggle",p)),onNavigate:r[3]||(r[3]=p=>d.$emit("navigate",p))},null,8,["item","active-section","search-query"]))),128))])):f("",!0)]),_:1})],2)}}}),A=P(ge,[["__scopeId","data-v-6cd794eb"]]),pe={class:"api-page"},fe={class:"api-content"},ke={class:"api-layout"},we={class:"api-sidebar"},$e={class:"sidebar-content"},be={class:"sidebar-header"},Te={style:{display:"flex"}},Ce={class:"search-box"},Ie={class:"api-nav"},qe={key:0,class:"nav-list"},Me={key:1,class:"nav-list"},Le={class:"api-main"},xe={class:"api-sections"},Se=Q({__name:"APIOptions",setup(t){const m=x(""),h=x(""),d=x(!1),r=x({}),g=()=>{const i={},e=n=>{i[n.id]=!1,n.children&&n.children.forEach(u=>{e(u)})};S.forEach(n=>{e(n)}),r.value=i},c=i=>{r.value[i]=!r.value[i]},p=I(()=>{const i=(e,n=0)=>{const u=!!(e.children&&e.children.length>0),l={id:e.id,title:e.key,path:e.id,level:n,hasChildren:u,expanded:r.value[e.id]||!1,required:e.required||!1,children:[]};return u&&r.value[e.id]&&e.children.forEach(y=>{l.children.push(i(y,n+1))}),l};return S.map(e=>i(e))}),v=I(()=>{if(!h.value)return[];const i=(e,n=0)=>{const u=!!(e.children&&e.children.length>0),l={id:e.id,title:e.key,path:e.id,level:n,hasChildren:u,expanded:!0,required:e.required||!1,children:[]};return u&&e.children&&e.children.forEach(y=>{l.children.push(i(y,n+1))}),l};return M.value.map(e=>i(e))}),M=I(()=>{if(!h.value)return S;const i=h.value.toLowerCase(),e=l=>{var y;return l.key.toLowerCase().includes(i)||l.title.toLowerCase().includes(i)||l.type.toLowerCase().includes(i)||l.description.toLowerCase().includes(i)||(((y=l.defaultValue)==null?void 0:y.toLowerCase().includes(i))??!1)},n=l=>e(l)?!0:l.children?l.children.some(y=>n(y)):!1,u=l=>l.reduce((y,b)=>{if(n(b)){const V={...b};b.children&&b.children.length>0&&(V.children=u(b.children)),y.push(V)}return y},[]);return u(S)}),z=()=>{h.value="",setTimeout(()=>{B()},50)},E=i=>{const e=document.getElementById(i);if(e){const u=e.offsetTop-90;window.scrollTo({top:u,behavior:"smooth"})}},D=()=>{window.scrollTo({top:0,behavior:"smooth"})},B=()=>{const i=window.pageYOffset+150,e=document.querySelectorAll(".property-item");let n="";for(let u=e.length-1;u>=0;u--){const l=e[u];if(l.offsetTop<=i&&l.id){n=l.id;break}}n&&(m.value=n),d.value=window.pageYOffset>400};return R(()=>{if(g(),window.addEventListener("scroll",B),window.location.hash){const i=window.location.hash.substring(1);setTimeout(()=>{E(i)},100)}}),W(()=>{window.removeEventListener("scroll",B)}),(i,e)=>(s(),a("div",pe,[o("section",fe,[o("div",null,[o("div",ke,[o("aside",we,[o("div",$e,[o("div",be,[o("div",Te,[q(T(C),{icon:"line-md:u-turn-left",width:"28",height:"28",class:"back-icon",onClick:e[0]||(e[0]=n=>i.$router.push("/api"))}),e[2]||(e[2]=o("h3",null,"目录",-1))]),o("div",Ce,[N(o("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>h.value=n),type:"text",placeholder:"搜索配置项...",class:"search-input"},null,512),[[j,h.value]]),h.value?(s(),a("button",{key:1,onClick:z,class:"clear-button",title:"清空搜索"},[q(T(C),{icon:"material-symbols:close",width:"16",height:"16"})])):(s(),k(T(C),{key:0,icon:"material-symbols:search",class:"search-icon",width:"18",height:"18"}))])]),o("nav",Ie,[h.value?(s(),a("ul",qe,[(s(!0),a(w,null,$(v.value,n=>(s(),k(A,{key:n.id,item:n,"active-section":m.value,"search-query":h.value,onToggle:c,onNavigate:E},null,8,["item","active-section","search-query"]))),128))])):(s(),a("ul",Me,[(s(!0),a(w,null,$(p.value,n=>(s(),k(A,{key:n.id,item:n,"active-section":m.value,onToggle:c,onNavigate:E},null,8,["item","active-section"]))),128))]))])])]),o("main",Le,[o("div",xe,[(s(!0),a(w,null,$(M.value,n=>(s(),k(ce,{key:n.id,item:n,level:1,"search-query":h.value},null,8,["item","search-query"]))),128))])])])])]),N(o("button",{onClick:D,class:"back-to-top",title:"回到顶部"},[q(T(C),{icon:"material-symbols:keyboard-arrow-up",width:"24",height:"24"})],512),[[G,d.value]])]))}}),He=P(Se,[["__scopeId","data-v-17e4a21a"]]);export{He as default};
