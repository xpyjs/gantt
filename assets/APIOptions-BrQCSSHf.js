import{d as _,v as T,b as A,c as r,o as s,n as Q,e as w,a as o,j as f,y as F,w as O,t as L,F as k,r as $,_ as H,s as q,q as U,u as C,I,T as Y,l as x,m as j,p as R,z as V,A as W,B as G}from"./main-D7dJE7sH.js";import{a as S}from"./api-DRyUXith.js";const J=["id"],K={class:"property-name"},X={key:0,class:"required"},Z={class:"property-type-info"},ee={key:0,class:"property-type"},te={key:0,class:"property-default"},ne={class:"property-description"},se=["innerHTML"],ie={key:0,class:"property-options"},oe={key:0,class:"property-children"},ae=_({__name:"PropertyItem",props:{item:{},level:{},searchQuery:{}},setup(t){const m=t,h=T(()=>`h${Math.min(m.level+1,6)}`),d=T(()=>!!(m.item.children&&m.item.children.length>0)),l=y=>{if(!m.searchQuery)return y.replace(/\n/g,"<br>");const c=new RegExp(`(${m.searchQuery})`,"gi");return y.replace(c,'<span class="search-highlight">$1</span>').replace(/\n/g,"<br>")};return(y,c)=>{const p=A("PropertyItem",!0);return s(),r("div",{id:t.item.id,class:Q(["property-item",`level-${t.level}`])},[(s(),w(F(h.value),{class:"property-title"},{default:O(()=>[o("span",K,L(t.item.key),1),t.item.required?(s(),r("span",X,"*")):f("",!0),o("div",Z,[o("pre",null,[d.value?f("",!0):(s(),r("code",ee,L(t.item.type),1))]),t.item.defaultValue?(s(),r("code",te,L(t.item.defaultValue),1)):f("",!0)])]),_:1})),o("div",ne,[o("p",{class:"description-text",innerHTML:l(t.item.description)},null,8,se),t.item.options&&t.item.options.length?(s(),r("div",ie,[c[0]||(c[0]=o("strong",null,"可选值：",-1)),(s(!0),r(k,null,$(t.item.options,g=>(s(),r("span",{key:g,class:"option-tag"},L(g),1))),128))])):f("",!0)]),t.item.children&&t.item.children.length?(s(),r("div",oe,[(s(!0),r(k,null,$(t.item.children,g=>(s(),w(p,{key:g.id,item:g,level:t.level+1,"search-query":t.searchQuery},null,8,["item","level","search-query"]))),128))])):f("",!0)],10,J)}}}),re=H(ae,[["__scopeId","data-v-f5438ed9"]]),le={class:"nav-link-wrapper"},ce=["href"],de=["innerHTML"],ue={key:0,class:"required-indicator",title:"必填项"},he=["title"],me={key:0,class:"nav-sublist"},ve=_({__name:"MenuItemComponent",props:{item:{},activeSection:{},searchQuery:{}},emits:["toggle","navigate"],setup(t){const m=t,h=d=>{if(!m.searchQuery)return d;const l=m.searchQuery.toLowerCase(),c=d.toLowerCase().indexOf(l);if(c===-1)return d;const p=d.substring(0,c),g=d.substring(c,c+l.length),M=d.substring(c+l.length);return`${p}<mark class="search-highlight">${g}</mark>${M}`};return(d,l)=>{const y=A("MenuItemComponent",!0);return s(),r("li",{class:Q(["nav-item",`level-${t.item.level}`])},[o("div",le,[o("a",{href:`#${t.item.id}`,class:Q(["nav-link",{active:t.activeSection===t.item.id}]),onClick:l[0]||(l[0]=U(c=>d.$emit("navigate",t.item.id),["prevent","stop"]))},[o("span",{class:"nav-title",innerHTML:h(t.item.title)},null,8,de),t.item.required?(s(),r("span",ue,"*")):f("",!0)],10,ce),t.item.hasChildren?(s(),r("button",{key:0,class:"expand-toggle",onClick:l[1]||(l[1]=c=>d.$emit("toggle",t.item.id)),title:t.item.expanded?"收起":"展开"},[q(C(I),{icon:t.item.expanded?"material-symbols:keyboard-arrow-down":"material-symbols:keyboard-arrow-right",width:"16",height:"16"},null,8,["icon"])],8,he)):f("",!0)]),q(Y,{name:"expand"},{default:O(()=>[t.item.hasChildren&&t.item.expanded?(s(),r("ul",me,[(s(!0),r(k,null,$(t.item.children,c=>(s(),w(y,{key:c.id,item:c,"active-section":t.activeSection,"search-query":t.searchQuery,onToggle:l[2]||(l[2]=p=>d.$emit("toggle",p)),onNavigate:l[3]||(l[3]=p=>d.$emit("navigate",p))},null,8,["item","active-section","search-query"]))),128))])):f("",!0)]),_:1})],2)}}}),N=H(ve,[["__scopeId","data-v-6cd794eb"]]),ye={class:"api-page"},pe={class:"api-content"},ge={class:"api-layout"},fe={class:"api-sidebar"},we={class:"sidebar-content"},ke={class:"sidebar-header"},$e={style:{display:"flex"}},be={class:"search-box"},Ce={class:"api-nav"},Ie={key:0,class:"nav-list"},Te={key:1,class:"nav-list"},qe={class:"api-main"},Me={class:"api-sections"},Le=_({__name:"APIOptions",setup(t){const m=x(""),h=x(""),d=x(!1),l=x({}),y=()=>{const i={},e=n=>{i[n.id]=!1,n.children&&n.children.forEach(u=>{e(u)})};S.forEach(n=>{e(n)}),l.value=i},c=i=>{l.value[i]=!l.value[i]},p=T(()=>{const i=(e,n=0)=>{const u=!!(e.children&&e.children.length>0),a={id:e.id,title:e.key,path:e.id,level:n,hasChildren:u,expanded:l.value[e.id]||!1,required:e.required||!1,children:[]};return u&&l.value[e.id]&&e.children.forEach(v=>{a.children.push(i(v,n+1))}),a};return S.map(e=>i(e))}),g=T(()=>{if(!h.value)return[];const i=(e,n=0)=>{const u=!!(e.children&&e.children.length>0),a={id:e.id,title:e.key,path:e.id,level:n,hasChildren:u,expanded:!0,required:e.required||!1,children:[]};return u&&e.children&&e.children.forEach(v=>{a.children.push(i(v,n+1))}),a};return M.value.map(e=>i(e))}),M=T(()=>{if(!h.value)return S;const i=h.value.toLowerCase(),e=a=>{var v;return a.key.toLowerCase().includes(i)||a.title.toLowerCase().includes(i)||a.type.toLowerCase().includes(i)||a.description.toLowerCase().includes(i)||(((v=a.defaultValue)==null?void 0:v.toLowerCase().includes(i))??!1)},n=a=>e(a)?!0:a.children?a.children.some(v=>n(v)):!1,u=a=>a.reduce((v,b)=>{if(n(b)){const P={...b};b.children&&b.children.length>0&&(P.children=u(b.children)),v.push(P)}return v},[]);return u(S)}),z=()=>{h.value="",setTimeout(()=>{B()},50)},E=i=>{const e=document.getElementById(i);if(e){const u=e.offsetTop-90;window.scrollTo({top:u,behavior:"smooth"})}},D=()=>{window.scrollTo({top:0,behavior:"smooth"})},B=()=>{const i=window.pageYOffset+150,e=document.querySelectorAll(".property-item");let n="";for(let u=e.length-1;u>=0;u--){const a=e[u];if(a.offsetTop<=i&&a.id){n=a.id;break}}n&&(m.value=n),d.value=window.pageYOffset>400};return j(()=>{if(y(),window.addEventListener("scroll",B),window.location.hash){const i=window.location.hash.substring(1);setTimeout(()=>{E(i)},100)}}),R(()=>{window.removeEventListener("scroll",B)}),(i,e)=>(s(),r("div",ye,[o("section",pe,[o("div",null,[o("div",ge,[o("aside",fe,[o("div",we,[o("div",ke,[o("div",$e,[q(C(I),{icon:"line-md:u-turn-left",width:"28",height:"28",class:"back-icon",onClick:e[0]||(e[0]=n=>i.$router.push("/api"))}),e[2]||(e[2]=o("h3",null,"目录",-1))]),o("div",be,[V(o("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>h.value=n),type:"text",placeholder:"搜索配置项...",class:"search-input"},null,512),[[W,h.value]]),h.value?(s(),r("button",{key:1,onClick:z,class:"clear-button",title:"清空搜索"},[q(C(I),{icon:"material-symbols:close",width:"16",height:"16"})])):(s(),w(C(I),{key:0,icon:"material-symbols:search",class:"search-icon",width:"18",height:"18"}))])]),o("nav",Ce,[h.value?(s(),r("ul",Ie,[(s(!0),r(k,null,$(g.value,n=>(s(),w(N,{key:n.id,item:n,"active-section":m.value,"search-query":h.value,onToggle:c,onNavigate:E},null,8,["item","active-section","search-query"]))),128))])):(s(),r("ul",Te,[(s(!0),r(k,null,$(p.value,n=>(s(),w(N,{key:n.id,item:n,"active-section":m.value,onToggle:c,onNavigate:E},null,8,["item","active-section"]))),128))]))])])]),o("main",qe,[o("div",Me,[(s(!0),r(k,null,$(M.value,n=>(s(),w(re,{key:n.id,item:n,level:1,"search-query":h.value},null,8,["item","search-query"]))),128))])])])])]),V(o("button",{onClick:D,class:"back-to-top",title:"回到顶部"},[q(C(I),{icon:"material-symbols:keyboard-arrow-up",width:"24",height:"24"})],512),[[G,d.value]])]))}}),Ee=H(Le,[["__scopeId","data-v-17e4a21a"]]);export{Ee as default};
